{"handlers":[{"event":"world_start","operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"game","type":"variable","variable":"Empty List"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"scope":"game","type":"variable","variable":"Empty Map"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.config","type":"text"}}]},{"action":"if_variable_exists","is_inverted":true,"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"save","type":"variable","variable":"mapiInstalled"}},{"name":"value","value":{"number":1.0,"type":"number"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"save","type":"variable","variable":"mapiDebug"}},{"name":"value","value":{"number":1.0,"type":"number"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"save","type":"variable","variable":"mapiCommandExceptions"}},{"name":"value","value":{"number":1.0,"type":"number"}}]}],"values":[{"name":"variable","value":{"scope":"save","type":"variable","variable":"mapiInstalled"}}]}],"position":0,"type":"event"},{"name":"Mapi.config","operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{"item":"{Count:1b,id:\"minecraft:ender_chest\",tag:{creative_plus:{handler:\"eJzFlNFqhDAQRX9F5jksKX3Lr6wis3EoodFIEq0i/nsTzdpdWCm2D4JonDuZzD0MmcCPLYEA6qnxwKA1TnllGhCcgWnJYvxzIK4ToFwVcOTLHq3Cm6ZSWkJPpVYu7u9Rd7SmN1jHyimSJBDT/Ui0FsfnLUnxNMRay0eANHWNTSUyiVp2OhzGMhpIdt5YkeUQwzmwDLVCR05k1xgpYGbT359iDu8fC6vXFyaepLTcWo6unTRLojahK5hDYXYaSUuaAqJI5nVCT9bFxnYTNmOnYP2k8XykTVffyAYpLQS/8F1ebxf+CPPotJwBeUNyHHON7Q7lgz2EQirvOH+vaMC6XeR7Ox+x5qPDNBX/GiH2+0QcplWwdKsK+DJWV6XzaD3M30Vn4gA=\"},display:{Name:'{\"italic\":false,\"extra\":[{\"text\":\"\"},{\"color\":\"#a6ff6e\",\"text\":\"\u0428\u0430\u0431\u043b\u043e\u043d \u043c\u043e\u0434\u0443\u043b\u044f\"}],\"text\":\"\"}'}}}","type":"item"},{"item":"{Count:1b,id:\"minecraft:ender_chest\",tag:{creative_plus:{handler:\"eJylUttKAzEQ/ZUyKFRYpCgo5FV8FMHLk5YQs2Mb2BtJtrQsC14e9QN89BNKwQuI+gvZPzJJt9rSpaBCYJKZyZyZc6YAPcoQCFzmCdciTSCALFXCX0kngDRDydxLATkrgE2TCCjUdMCkYBcRUi6RaaSRUNr+H7Aox2l6wmJXvPbUISDFDJVJyUaLX+qIxqGr5Q3xTtI61lIkvaDlqpIWDjOJSrl2yqD481kFeJi5aQMLxdFfSesczEN1bT7Nh3mr7s2LtRMzNu/m1TzZaN7pbO3srikeh/XjwpltbibVXXVlM5/N0zTb+/EcoOyWro9vrqakNrC1EKqvjsOeo1bx1CdFKWcRlLZoMCeX9UV0TuNljWZB6t/L4Iv8HLBMbPI0jlkS7tnl0DLnOpVLuFnERiipwiSksVWL9bARvY79Z0fMo2X2pbp1ulQ3ZlzdzPRg6zHT/fa6JY16eto/u7Ox8aft6bpBu02TCEX7IgwxaRgFkzy2bm8InByd7sO89CEqLkU2L9FKHn7R7A+I4I3VhUbXmjcEitIpGcz+WMo4lF+sc4iH\"},display:{Lore:['{\"italic\":false,\"color\":\"white\",\"extra\":[{\"text\":\"\"},{\"color\":\"gray\",\"text\":\"calculate \"},{\"color\":\"aqua\",\"text\":\"\\\\u003c\u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435\\\\u003e\"}],\"text\":\"\"}'],Name:'{\"italic\":false,\"extra\":[{\"text\":\"\"},{\"color\":\"yellow\",\"text\":\"\u041f\u0440\u0438\u043c\u0435\u0440 \u043a\u043e\u043c\u0430\u043d\u0434\u044b\"}],\"text\":\"\"}'}}}","type":"item"},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{}}]},{"action":"empty","values":[]},{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"game","type":"variable","variable":"Mapi.prefix"}},{"name":"value","value":{"text":"&#ffb657MAPI &8\u00bb &f","type":"text"}}]},{"action":"if_variable_exists","is_inverted":true,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"save","type":"variable","variable":"legacyCommandsList"}}]}],"values":[{"name":"variable","value":{"scope":"save","type":"variable","variable":"legacyCommandsList"}}]},{"action":"if_variable_exists","is_inverted":true,"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"game","type":"variable","variable":"pcmd"}},{"name":"value","value":{"text":"@","type":"text"}}]}],"values":[{"name":"variable","value":{"scope":"save","type":"variable","variable":"cmdprefix"}}]},{"action":"else","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"game","type":"variable","variable":"pcmd"}},{"name":"value","value":{"scope":"save","type":"variable","variable":"cmdprefix"}}]}],"values":[]},{"action":"control_wait","values":[{"name":"duration","value":{"number":2.0,"type":"number"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"scope":"game","type":"variable","variable":"Commands"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"text":"command: mapi, executor: \"Mapi.mapiCommand\", description: \"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 MAPI\"","type":"text"},{"text":"command: modules, executor: \"Mapi.modulesCommand\", description: \"\u0421\u043f\u0438\u0441\u043e\u043a \u043c\u043e\u0434\u0443\u043b\u0435\u0439\"","type":"text"},{"text":"command: timings, executor: \"Mapi.timingsCommand\", aliases: [lagg], description: \"\u041e\u0442\u0447\u0451\u0442 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438\"","type":"text"},{"text":"command: version, executor: \"Mapi.versionCommand\", aliases: [about], description: \"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043c\u043e\u0434\u0443\u043b\u0435\"","type":"text"},{"text":"command: legacycommand, executor: \"Mapi.legacycommandCommand\", aliases: [legacycmd, lcmd], description: \"\u041c\u0430\u043d\u0438\u043f\u0443\u043b\u044f\u0446\u0438\u0438 \u0441\u043e \u0441\u043f\u0438\u0441\u043a\u043e\u043c legacy-\u043a\u043e\u043c\u0430\u043d\u0434\"","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"commands"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"text":"Int","type":"text"},{"text":"Number","type":"text"},{"text":"String","type":"text"},{"text":"Player","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"argumentsTypes"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"text":"Mapi.argumentsTypes","type":"text"},{"text":"Mapi.argumentsTypes","type":"text"},{"text":"Mapi.argumentsTypes","type":"text"},{"text":"Mapi.argumentsTypes","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"argumentsTypesExecutors"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"argumentsTypes"}},{"name":"keys","value":{"scope":"local","type":"variable","variable":"argumentsTypes"}},{"name":"values","value":{"scope":"local","type":"variable","variable":"argumentsTypesExecutors"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"text":"String","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"stringArgumentsTypes"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"text":"version","type":"text"},{"text":"release","type":"text"},{"text":"commands","type":"text"},{"text":"authors","type":"text"},{"text":"description","type":"text"},{"text":"argumentsTypes","type":"text"},{"text":"stringArgumentsTypes","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"keys"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"text":"0.6.6","type":"text"},{"number":14.0,"type":"number"},{"scope":"local","type":"variable","variable":"commands"},{"text":"unidok","type":"text"},{"text":"Module API","type":"text"},{"scope":"local","type":"variable","variable":"argumentsTypes"},{"scope":"local","type":"variable","variable":"stringArgumentsTypes"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"values"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"scope":"game","type":"variable","variable":"mapi=mapi"}},{"name":"keys","value":{"scope":"local","type":"variable","variable":"keys"}},{"name":"values","value":{"scope":"local","type":"variable","variable":"values"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"game","type":"variable","variable":"Imported Modules"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"scope":"game","type":"variable","variable":"Mapi.argumentsTypes"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"game","type":"variable","variable":"Mapi.stringArgumentsTypes"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.load","type":"text"}}]}],"position":1,"type":"function","values":[{"name":"is_hidden","value":{"enum":"TRUE","type":"enum"}},{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"icon","value":{"item":"{}","type":"item"}}]},{"name":"Mapi.load","operations":[{"action":"select_player_by_conditional","conditional":{"action":"if_player_has_privilege","is_inverted":false},"values":[{"name":"exact","value":{"enum":"FALSE","type":"enum"}},{"name":"privilege","value":{"enum":"DEVELOPER","type":"enum"}}]},{"action":"set_variable_get_list_variables","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"variables"}}]},{"action":"repeat_for_each_in_list","operations":[{"action":"if_variable_text_starts_with","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"module"}},{"name":"value","value":{"scope":"game","type":"variable","variable":"%var_local(moduleName)"}}]},{"action":"if_variable_is_type","operations":[{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"moduleName"}},{"name":"text","value":{"scope":"local","type":"variable","variable":"moduleName"}},{"name":"replace","value":{"text":"mapi=","type":"text"}},{"name":"replacement","value":{}},{"name":"first","value":{"enum":"FIRST","type":"enum"}}]},{"action":"if_variable_list_contains_value","is_inverted":true,"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"moduleName"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"game","type":"variable","variable":"Imported Modules"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"authors"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"module"}},{"name":"key","value":{"text":"authors","type":"text"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","operations":[{"action":"set_variable_split_text","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"authors"}},{"name":"text","value":{"scope":"local","type":"variable","variable":"authors"}},{"name":"delimiter","value":{}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"module"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"module"}},{"name":"key","value":{"text":"authors","type":"text"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"authors"}}]}],"values":[{"name":"variable_type","value":{"enum":"TEXT","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"authors"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"argumentsTypes"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"module"}},{"name":"key","value":{"text":"argumentsTypes","type":"text"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","operations":[{"action":"set_variable_append_map","values":[{"name":"variable","value":{"scope":"game","type":"variable","variable":"Mapi.argumentsTypes"}},{"name":"map","value":{"scope":"game","type":"variable","variable":"Mapi.argumentsTypes"}},{"name":"other_map","value":{"scope":"local","type":"variable","variable":"argumentsTypes"}}]}],"values":[{"name":"variable_type","value":{"enum":"MAP","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"argumentsTypes"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"stringArgumentsTypes"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"module"}},{"name":"key","value":{"text":"stringArgumentsTypes","type":"text"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","operations":[{"action":"set_variable_append_list","values":[{"name":"variable","value":{"scope":"game","type":"variable","variable":"Mapi.stringArgumentsTypes"}},{"name":"list_1","value":{"scope":"game","type":"variable","variable":"Mapi.stringArgumentsTypes"}},{"name":"list_2","value":{"scope":"local","type":"variable","variable":"stringArgumentsTypes"}}]}],"values":[{"name":"variable_type","value":{"enum":"ARRAY","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"stringArgumentsTypes"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.load2","type":"text"}}]},{"action":"if_variable_exists","operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)&#a6ff6e\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d \u043c\u043e\u0434\u0443\u043b\u044c &#ffb657%var_local(moduleName)","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"values":[{"name":"variable","value":{"scope":"save","type":"variable","variable":"mapiDebug"}}]}],"values":[{"name":"values","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"moduleName"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"scope":"game","type":"variable","variable":"Imported Modules"}}]}],"values":[{"name":"variable_type","value":{"enum":"MAP","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"module"}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"mapi=","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"moduleName"}}]}],"values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"scope":"local","type":"variable","variable":"moduleName"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"variables"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.depends","type":"text"}}]},{"action":"if_variable_exists","operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"v"}},{"name":"map","value":{"scope":"game","type":"variable","variable":"mapi=mapi"}},{"name":"key","value":{"text":"version","type":"text"}},{"name":"default_value","value":{}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)&#a6ff6e\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430 &7&ov%var_local(v)","type":"text"},{"text":"%var(Mapi.prefix)&#a6ff6e\u041f\u043e\u043c\u043e\u0449\u044c - &#abc4d6%var(pcmd)mapi help general","type":"text"},{"text":"%var(Mapi.prefix)&#a6ff6e\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u044d\u0442\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f - &#abc4d6%var(pcmd)mapi debug","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"enum":"SEPARATE_LINES","type":"enum"}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"pitch":1.5,"sound":"minecraft:entity.player.levelup","type":"sound","volume":1.0}},{"name":"location","value":{"game_value":"location","selection":"{\"type\":\"current\"}","type":"game_value"}}]}],"values":[{"name":"variable","value":{"scope":"save","type":"variable","variable":"mapiDebug"}}]}],"position":2,"type":"function","values":[{"name":"is_hidden","value":{"enum":"TRUE","type":"enum"}},{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"icon","value":{"item":"{}","type":"item"}}]},{"name":"Mapi.load2","operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"commands"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"module"}},{"name":"key","value":{"text":"commands","type":"text"}},{"name":"default_value","value":{}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"commandsMap"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"if_variable_is_type","operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"commandsList"}}]},{"action":"repeat_for_each_in_list","operations":[{"action":"if_variable_is_type","operations":[{"action":"if_variable_text_starts_with","is_inverted":true,"operations":[{"action":"set_variable_text","values":[{"name":"text","value":{"type":"array","values":[{"text":"{","type":"text"},{"scope":"local","type":"variable","variable":"commandData"},{"text":"}","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"enum":"CONCATENATION","type":"enum"}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"commandData"}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"{","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"commandData"}}]},{"action":"set_variable_parse_json","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"commandData"}},{"name":"json","value":{"scope":"local","type":"variable","variable":"commandData"}}]}],"values":[{"name":"variable_type","value":{"enum":"TEXT","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"commandData"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"command"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"commandData"}},{"name":"key","value":{"text":"command","type":"text"}},{"name":"default_value","value":{}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"commandsMap"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"commandsMap"}},{"name":"key","value":{"scope":"local","type":"variable","variable":"command"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"commandData"}}]},{"action":"if_variable_map_has_key","operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"aliases"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"commandData"}},{"name":"key","value":{"text":"aliases","type":"text"}},{"name":"default_value","value":{}}]},{"action":"repeat_for_each_in_list","operations":[{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"commandsMap"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"commandsMap"}},{"name":"key","value":{"scope":"local","type":"variable","variable":"alias"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"commandData"}}]}],"values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"scope":"local","type":"variable","variable":"alias"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"aliases"}}]}],"values":[{"name":"map","value":{"scope":"local","type":"variable","variable":"commandData"}},{"name":"key","value":{"text":"aliases","type":"text"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"command"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"commandsList"}}]}],"values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"scope":"local","type":"variable","variable":"commandData"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"commands"}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"module"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"module"}},{"name":"key","value":{"text":"commands","type":"text"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"commandsMap"}}]}],"values":[{"name":"variable_type","value":{"enum":"ARRAY","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"commands"}}]},{"action":"else","operations":[{"action":"if_variable_is_type","operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"commandsList"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"module"}},{"name":"key","value":{"text":"commandsList","type":"text"}},{"name":"default_value","value":{}}]}],"values":[{"name":"variable_type","value":{"enum":"MAP","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"commands"}}]}],"values":[]},{"action":"set_variable_append_map","values":[{"name":"variable","value":{"scope":"game","type":"variable","variable":"Commands"}},{"name":"map","value":{"scope":"game","type":"variable","variable":"Commands"}},{"name":"other_map","value":{"scope":"local","type":"variable","variable":"commandsMap"}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"module"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"module"}},{"name":"key","value":{"text":"commandsList","type":"text"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"commandsList"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"game","type":"variable","variable":"mapi=%var_local(moduleName)"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"module"}}]}],"position":3,"type":"function","values":[]},{"name":"Mapi.commandConstructor","operations":[{"action":"if_variable_text_matches","is_inverted":true,"operations":[{"action":"if_variable_is_type","is_inverted":true,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"args"}}]}],"values":[{"name":"variable_type","value":{"enum":"ARRAY","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"args"}}]},{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#args.length"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"args"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"#args"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"#filteredArgs"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#options"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"repeat_for_each_in_list","operations":[{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.prepareArg","type":"text"}}]}],"values":[{"name":"index_variable","value":{"scope":"local","type":"variable","variable":"#index"}},{"name":"value_variable","value":{"scope":"local","type":"variable","variable":"#arg"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"args"}}]},{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#filteredArgs.size"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"#filteredArgs"}}]},{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"#filteredArgs.size"},{"scope":"local","type":"variable","variable":"#optionals"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"#needArgs"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#minArguments"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"#options"}},{"name":"key","value":{"text":"minArguments","type":"text"}},{"name":"default_value","value":{"scope":"local","type":"variable","variable":"#needArgs"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#maxArguments"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"#options"}},{"name":"key","value":{"text":"maxArguments","type":"text"}},{"name":"default_value","value":{"scope":"local","type":"variable","variable":"#filteredArgs.size"}}]},{"action":"if_variable_exists","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#maxArguments"}},{"name":"value","value":{"number":999.0,"type":"number"}}]}],"values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#hasString"}}]},{"action":"if_variable_in_range","is_inverted":true,"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.commandException","type":"text"}}]}],"values":[{"name":"value","value":{"scope":"local","type":"variable","variable":"command.args.size"}},{"name":"min","value":{"scope":"local","type":"variable","variable":"#minArguments"}},{"name":"max","value":{"scope":"local","type":"variable","variable":"#maxArguments"}}]},{"action":"if_variable_greater_or_equals","operations":[{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"#filteredArgs.size"},{"scope":"local","type":"variable","variable":"#optionals"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"#optionalscan"}}]},{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"command.args.size"},{"scope":"local","type":"variable","variable":"#optionalscan"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"#optionalscan"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.commandArgs","type":"text"}}]}],"values":[{"name":"value","value":{"scope":"local","type":"variable","variable":"#filteredArgs.size"}},{"name":"compare","value":{"number":1.0,"type":"number"}}]},{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"text":"#","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"enum":"LOCAL","type":"enum"}},{"name":"match","value":{"enum":"NAME_CONTAINS","type":"enum"}}]}],"values":[{"name":"values","value":{"type":"array","values":[{"text":"null","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"match","value":{"game_value":"event_chat_message","selection":"null","type":"game_value"}}]}],"position":4,"type":"function","values":[{"name":"is_hidden","value":{"enum":"FALSE","type":"enum"}},{"name":"description","value":{"type":"array","values":[{"text":"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"icon","value":{"item":"{Count:1b,id:\"minecraft:ender_chest\",tag:{Enchantments:[{id:\"minecraft:aqua_affinity\",lvl:0s}],HideFlags:1,display:{Lore:['{\"italic\":false,\"underlined\":false,\"color\":\"white\",\"text\":\"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b\"}','{\"text\":\"\"}','{\"italic\":false,\"color\":\"#7a8085\",\"text\":\"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u041f\u0440\u0430\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u043e\u0439, \u0447\u0442\u043e\u0431\u044b\"}','{\"italic\":false,\"color\":\"#7a8085\",\"text\":\"\u0442\u0435\u043b\u0435\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043a \u0444\u0443\u043d\u043a\u0446\u0438\u0438\"}'],Name:'{\"italic\":false,\"color\":\"yellow\",\"text\":\"Mapi.commandConstructor\"}'}}}","type":"item"}}]},{"name":"Mapi.commandArgs","operations":[{"action":"repeat_for_each_in_list","operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"text":"#skip","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"enum":"LOCAL","type":"enum"}}]},{"action":"if_variable_greater","operations":[{"action":"if_variable_map_has_key","operations":[{"action":"if_variable_greater_or_equals","operations":[{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"#optionalscan"},{"number":1.0,"type":"number"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"#optionalscan"}}]}],"values":[{"name":"value","value":{"scope":"local","type":"variable","variable":"#optionalscan"}},{"name":"compare","value":{"number":1.0,"type":"number"}}]},{"action":"else","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#skip"}},{"name":"value","value":{"number":1.0,"type":"number"}}]}],"values":[]}],"values":[{"name":"map","value":{"scope":"local","type":"variable","variable":"#dataArg"}},{"name":"key","value":{"text":"optional","type":"text"}}]},{"action":"if_variable_exists","is_inverted":true,"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#type"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"#dataArg"}},{"name":"key","value":{"text":"type","type":"text"}},{"name":"default_value","value":{}}]},{"action":"if_variable_list_contains_value","operations":[{"action":"set_variable_trim_list","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#defineBorder"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"command.args"}},{"name":"start","value":{"scope":"local","type":"variable","variable":"#argIndex"}},{"name":"end","value":{"scope":"local","type":"variable","variable":"command.args.size"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#argumentDefiner"}},{"name":"map","value":{"scope":"game","type":"variable","variable":"Mapi.argumentsTypes"}},{"name":"key","value":{"scope":"local","type":"variable","variable":"#type"}},{"name":"default_value","value":{}}]},{"action":"call_function","values":[{"name":"function_name","value":{"scope":"local","type":"variable","variable":"#argumentDefiner"}}]},{"action":"if_variable_is_type","operations":[{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#borderNum"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"#border"}}]},{"action":"if_variable_greater_or_equals","operations":[{"action":"set_variable_join_text","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#arg"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"#border"}},{"name":"separator","value":{"text":"%space%","type":"text"}},{"name":"prefix","value":{}},{"name":"postfix","value":{}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]},{"action":"set_variable_set_list_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"command.args"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"command.args"}},{"name":"number","value":{"scope":"local","type":"variable","variable":"#argIndex"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#arg"}}]},{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"#borderNum"},{"number":1.0,"type":"number"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"#repeats"}}]},{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"number":1.0,"type":"number"},{"scope":"local","type":"variable","variable":"#argIndex"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"#del"}}]},{"action":"repeat_multi_times","operations":[{"action":"set_variable_remove_list_value_at_index","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"command.args"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"command.args"}},{"name":"index","value":{"scope":"local","type":"variable","variable":"#del"}}]}],"values":[{"name":"variable","value":{}},{"name":"amount","value":{"scope":"local","type":"variable","variable":"#repeats"}}]},{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"text":"#defineBorder","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"enum":"LOCAL","type":"enum"}}]}],"values":[{"name":"value","value":{"scope":"local","type":"variable","variable":"#borderNum"}},{"name":"compare","value":{"number":1.0,"type":"number"}}]}],"values":[{"name":"variable_type","value":{"enum":"ARRAY","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#border"}}]}],"values":[{"name":"values","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"#type"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"scope":"game","type":"variable","variable":"Mapi.stringArgumentsTypes"}}]},{"action":"else","operations":[{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#arg"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"command.args"}},{"name":"number","value":{"scope":"local","type":"variable","variable":"#argIndex"}}]}],"values":[]},{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.typeArg","type":"text"}}]}],"values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#skip"}}]}],"values":[{"name":"value","value":{"scope":"local","type":"variable","variable":"command.args.size"}},{"name":"compare","value":{"scope":"local","type":"variable","variable":"#argIndex"}}]},{"action":"else","operations":[{"action":"control_return_function","values":[]}],"values":[]}],"values":[{"name":"index_variable","value":{"scope":"local","type":"variable","variable":"#data.index"}},{"name":"value_variable","value":{"scope":"local","type":"variable","variable":"#dataArg"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"#filteredArgs"}}]}],"position":5,"type":"function","values":[{"name":"is_hidden","value":{"enum":"TRUE","type":"enum"}},{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"icon","value":{"item":"{}","type":"item"}}]},{"name":"Mapi.typeArg","operations":[{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#vArg"}},{"name":"text","value":{"scope":"local","type":"variable","variable":"#arg"}},{"name":"replace","value":{"text":"&","type":"text"}},{"name":"replacement","value":{"text":"&&#abc4d6","type":"text"}}]},{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#vArg"}},{"name":"text","value":{"scope":"local","type":"variable","variable":"#vArg"}},{"name":"replace","value":{"text":"\\n","type":"text"}},{"name":"replacement","value":{"text":"\\&#abc4d6n","type":"text"}}]},{"action":"set_variable_text","values":[{"name":"text","value":{"type":"array","values":[{"text":"&#abc4d6","type":"text"},{"scope":"local","type":"variable","variable":"#vArg"},{"text":"&#ff6e6e","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"enum":"CONCATENATION","type":"enum"}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"#vArg"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#typeExecutor"}},{"name":"map","value":{"scope":"game","type":"variable","variable":"Mapi.argumentsTypes"}},{"name":"key","value":{"scope":"local","type":"variable","variable":"#type"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#name"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"#dataArg"}},{"name":"key","value":{"text":"name","type":"text"}},{"name":"default_value","value":{"text":"arg%var_local(#data.index)","type":"text"}}]},{"action":"if_variable_is_type","operations":[{"action":"call_function","values":[{"name":"function_name","value":{"scope":"local","type":"variable","variable":"#typeExecutor"}}]}],"values":[{"name":"variable_type","value":{"enum":"TEXT","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#typeExecutor"}}]},{"action":"if_variable_exists","operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"#exceptionArgument"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"pitch":2.0,"sound":"minecraft:block.lava.extinguish","type":"sound","volume":0.5}},{"name":"location","value":{"game_value":"location","selection":"{\"type\":\"default\"}","type":"game_value"}}]},{"action":"control_end_thread","values":[]}],"values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionArgument"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.conditionArg","type":"text"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"%var_local(#name)"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#arg"}}]},{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"#argIndex"},{"number":1.0,"type":"number"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"#argIndex"}}]}],"position":6,"type":"function","values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"enum":"TRUE","type":"enum"}},{"name":"icon","value":{"item":"{}","type":"item"}}]},{"name":"Mapi.argumentsTypes","operations":[{"action":"if_variable_equals","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#border"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#defineBorder"}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"String","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#type"}}]},{"action":"else","operations":[{"action":"if_variable_equals","operations":[{"action":"controller_exception","operations":[{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"#arg"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"#argNum"}}]}],"values":[{"name":"exception_type","value":{"enum":"ERROR","type":"enum"}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exception"}}]},{"action":"if_variable_greater_or_equals","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionArgument"}},{"name":"value","value":{"text":"%var(Mapi.prefix)&#ff6e6e\u041d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e %var_local(#vArg)","type":"text"}}]}],"values":[{"name":"value","value":{"text":"%length_local(#exception)","type":"text"}},{"name":"compare","value":{"number":1.0,"type":"number"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#arg"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#argNum"}}]},{"action":"if_variable_equals","operations":[{"action":"set_variable_round","values":[{"name":"round_type","value":{"enum":"ROUND","type":"enum"}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"#argRounded"}},{"name":"number","value":{"scope":"local","type":"variable","variable":"#arg"}},{"name":"precision","value":{}}]},{"action":"if_variable_not_equals","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionArgument"}},{"name":"value","value":{"text":"%var(Mapi.prefix)&#ff6e6e\u041d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u0446\u0435\u043b\u043e\u0435 \u0447\u0438\u0441\u043b\u043e %var_local(#vArg)","type":"text"}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"#arg"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#argRounded"}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"Int","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#type"}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"Int","type":"text"},{"text":"Number","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#type"}}]},{"action":"if_variable_equals","operations":[{"action":"if_game_has_player","operations":[{"action":"select_player_by_conditional","conditional":{"action":"if_player_name_equals","is_inverted":false},"values":[{"name":"names_or_uuids","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"#arg"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#arg"}},{"name":"value","value":{"game_value":"name","selection":"{\"type\":\"current\"}","type":"game_value"}}]},{"action":"select_reset","values":[]}],"values":[{"name":"names_or_uuids","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"#arg"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"else","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionArgument"}},{"name":"value","value":{"text":"%var(Mapi.prefix)&#ff6e6e\u0418\u0433\u0440\u043e\u043a %var_local(#vArg) \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d","type":"text"}}]}],"values":[]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"Player","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#type"}}]}],"values":[]}],"position":7,"type":"function","values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"enum":"TRUE","type":"enum"}},{"name":"icon","value":{"item":"{}","type":"item"}}]},{"name":"Mapi.hasPermission","operations":[{"action":"if_variable_is_type","operations":[{"action":"if_variable_equals","operations":[{"action":"if_player_has_privilege","is_inverted":true,"operations":[{"action":"if_player_has_privilege","is_inverted":true,"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#hasNotPerm"}},{"name":"value","value":{"number":1.0,"type":"number"}}]}],"values":[{"name":"privilege","value":{"enum":"DEVELOPER","type":"enum"}}]}],"values":[]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"build_or_dev","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#permission"}}]},{"action":"if_variable_equals","operations":[{"action":"if_player_has_privilege","is_inverted":true,"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#hasNotPerm"}},{"name":"value","value":{"number":1.0,"type":"number"}}]}],"values":[]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"build","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#permission"}}]},{"action":"if_variable_equals","operations":[{"action":"if_player_has_privilege","is_inverted":true,"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#hasNotPerm"}},{"name":"value","value":{"number":1.0,"type":"number"}}]}],"values":[{"name":"privilege","value":{"enum":"DEVELOPER","type":"enum"}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"dev","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#permission"}}]},{"action":"if_variable_equals","operations":[{"action":"if_player_has_privilege","is_inverted":true,"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#hasNotPerm"}},{"name":"value","value":{"number":1.0,"type":"number"}}]}],"values":[{"name":"privilege","value":{"enum":"BUILDER_AND_DEVELOPER","type":"enum"}},{"name":"exact","value":{"enum":"FALSE","type":"enum"}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"build_and_dev","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#permission"}}]},{"action":"if_variable_equals","operations":[{"action":"if_player_has_privilege","is_inverted":true,"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#hasNotPerm"}},{"name":"value","value":{"number":1.0,"type":"number"}}]}],"values":[{"name":"privilege","value":{"enum":"WHITELISTED","type":"enum"}},{"name":"exact","value":{"enum":"FALSE","type":"enum"}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"whitelist","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#permission"}}]},{"action":"if_variable_equals","operations":[{"action":"if_player_has_privilege","is_inverted":true,"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#hasNotPerm"}},{"name":"value","value":{"number":1.0,"type":"number"}}]}],"values":[{"name":"privilege","value":{"enum":"OWNER","type":"enum"}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"owner","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#permission"}}]},{"action":"if_variable_not_equals","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#hasNotPerm"}},{"name":"value","value":{"number":"1","type":"number"}}]},{"action":"if_variable_is_type","operations":[{"action":"if_variable_list_contains_value","operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"text":"#hasNotPerm","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"enum":"LOCAL","type":"enum"}}]}],"values":[{"name":"values","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"#permission"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"scope":"save","type":"variable","variable":"%player%.permissions"}}]}],"values":[{"name":"variable_type","value":{"enum":"ARRAY","type":"enum"}},{"name":"value","value":{"scope":"save","type":"variable","variable":"%player%.permissions"}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"build_or_dev","type":"text"},{"text":"build","type":"text"},{"text":"dev","type":"text"},{"text":"build_and_dev","type":"text"},{"text":"whitelist","type":"text"},{"text":"owner","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#permission"}}]}],"values":[{"name":"value","value":{"scope":"local","type":"variable","variable":"#permission"}},{"name":"variable_type","value":{"enum":"TEXT","type":"enum"}}]}],"position":8,"type":"function","values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"enum":"TRUE","type":"enum"}},{"name":"icon","value":{"item":"{}","type":"item"}}]},{"name":"Mapi.commandException","operations":[{"action":"if_variable_exists","operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionMessage"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"#options"}},{"name":"key","value":{"text":"exception","type":"text"}},{"name":"default_value","value":{"text":"%var(Mapi.prefix)&#ff6e6e\u041d\u0435\u043f\u043e\u043b\u043d\u0430\u044f \u0438\u043b\u0438 \u043d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430","type":"text"}}]},{"action":"if_variable_not_equals","operations":[{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionMessage"}},{"name":"text","value":{"scope":"local","type":"variable","variable":"#exceptionMessage"}},{"name":"replace","value":{"text":"$scmd","type":"text"}},{"name":"replacement","value":{"scope":"local","type":"variable","variable":"/command"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"#exceptionMessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"%empty%","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#exceptionMessage"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionSound"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"#options"}},{"name":"key","value":{"text":"sound","type":"text"}},{"name":"default_value","value":{"pitch":1.0,"sound":"minecraft:dummy","type":"sound","volume":1.0}}]},{"action":"if_variable_equals","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionSound"}},{"name":"value","value":{"pitch":1.0,"sound":"minecraft:dummy","type":"sound","volume":1.0}}]},{"action":"control_return_function","values":[]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"none","type":"text"},{"text":"not","type":"text"},{"number":0.0,"type":"number"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#exceptionSound"}}]},{"action":"if_variable_is_type","operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionSoundId"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"#exceptionSound"}},{"name":"key","value":{"text":"id","type":"text"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionSoundPitch"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"#exceptionSound"}},{"name":"key","value":{"text":"pitch","type":"text"}},{"name":"default_value","value":{"number":1.0,"type":"number"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionSoundVolume"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"#exceptionSound"}},{"name":"key","value":{"text":"volume","type":"text"}},{"name":"default_value","value":{"number":1.0,"type":"number"}}]},{"action":"set_variable_split_text","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionSoundId"}},{"name":"text","value":{"scope":"local","type":"variable","variable":"#exceptionSoundId"}},{"name":"delimiter","value":{"text":":","type":"text"}}]},{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionSoundIdSize"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"#exceptionSoundId"}}]},{"action":"if_variable_greater_or_equals","operations":[{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionSoundIdName"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"#exceptionSoundId"}},{"name":"number","value":{"number":"0","type":"number"}}]},{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionSoundId"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"#exceptionSoundId"}},{"name":"number","value":{"number":"1","type":"number"}}]}],"values":[{"name":"value","value":{"scope":"local","type":"variable","variable":"#exceptionSoundIdSize"}},{"name":"compare","value":{"number":2.0,"type":"number"}}]},{"action":"else","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionSoundIdName"}},{"name":"value","value":{"text":"minecraft","type":"text"}}]},{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionSoundId"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"#exceptionSoundId"}},{"name":"number","value":{"number":0.0,"type":"number"}}]}],"values":[]},{"action":"set_variable_set_sound_type","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionSound"}},{"name":"sound","value":{"pitch":1.0,"sound":"minecraft:dummy","type":"sound","volume":1.0}},{"name":"namespace","value":{"scope":"local","type":"variable","variable":"#exceptionSoundIdName"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#exceptionSoundId"}}]},{"action":"set_variable_set_sound_pitch","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionSound"}},{"name":"sound","value":{"scope":"local","type":"variable","variable":"#exceptionSound"}},{"name":"pitch","value":{"scope":"local","type":"variable","variable":"#exceptionSoundPitch"}}]},{"action":"set_variable_set_sound_volume_action","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionSound"}},{"name":"sound","value":{"scope":"local","type":"variable","variable":"#exceptionSound"}},{"name":"volume","value":{"scope":"local","type":"variable","variable":"#exceptionSoundVolume"}}]}],"values":[{"name":"variable_type","value":{"enum":"MAP","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#exceptionSound"}}]}],"values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#options"}}]},{"action":"else","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionMessage"}},{"name":"value","value":{"text":"%var(\u041f\u0440\u0435\u0444\u0438\u043a\u0441 MAPI)&#ff6e6e\u041d\u0435\u043f\u043e\u043b\u043d\u0430\u044f \u0438\u043b\u0438 \u043d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430","type":"text"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#exceptionSound"}},{"name":"value","value":{"pitch":2.0,"sound":"minecraft:block.lava.extinguish","type":"sound","volume":0.5}}]}],"values":[]},{"action":"player_play_sound","values":[{"name":"sound","value":{"scope":"local","type":"variable","variable":"#exceptionSound"}},{"name":"location","value":{"game_value":"location","selection":"{\"type\":\"current\"}","type":"game_value"}}]},{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"text":"#","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"enum":"LOCAL","type":"enum"}},{"name":"match","value":{"enum":"NAME_CONTAINS","type":"enum"}}]},{"action":"control_end_thread","values":[]}],"position":9,"type":"function","values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"enum":"TRUE","type":"enum"}},{"name":"icon","value":{"item":"{}","type":"item"}}]},{"name":"Mapi.prepareArg","operations":[{"action":"if_variable_is_type","operations":[{"action":"set_variable_create_map","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#arg"}},{"name":"keys","value":{}},{"name":"values","value":{}}]}],"values":[{"name":"value","value":{"scope":"local","type":"variable","variable":"#arg"}}]},{"action":"if_variable_is_type","operations":[{"action":"if_variable_text_starts_with","is_inverted":true,"operations":[{"action":"set_variable_text","values":[{"name":"text","value":{"type":"array","values":[{"text":"{","type":"text"},{"scope":"local","type":"variable","variable":"#arg"},{"text":"}","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"#arg"}},{"name":"merging","value":{"enum":"CONCATENATION","type":"enum"}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"{","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#arg"}}]},{"action":"set_variable_parse_json","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#arg"}},{"name":"json","value":{"scope":"local","type":"variable","variable":"#arg"}}]}],"values":[{"name":"variable_type","value":{"enum":"TEXT","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#arg"}}]},{"action":"if_variable_is_type","operations":[{"action":"if_variable_map_has_key","operations":[{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"#optionals"},{"number":1.0,"type":"number"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"#optionals"}}]}],"values":[{"name":"map","value":{"scope":"local","type":"variable","variable":"#arg"}},{"name":"key","value":{"text":"optional","type":"text"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#type"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"#arg"}},{"name":"key","value":{"text":"type","type":"text"}},{"name":"default_value","value":{}}]},{"action":"if_variable_equals","operations":[{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"#args.length"},{"number":1.0,"type":"number"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"#args.length"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#permission"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"#arg"}},{"name":"key","value":{"text":"permission","type":"text"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","operations":[{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.hasPermission","type":"text"}}]},{"action":"if_player_has_privilege","is_inverted":true,"operations":[{"action":"if_variable_exists","operations":[{"action":"if_variable_map_has_key","operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)&#ff6e6e\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"values":[{"name":"map","value":{"scope":"local","type":"variable","variable":"#commandData"}},{"name":"key","value":{"text":"hide","type":"text"}}]},{"action":"else","operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)&#ff6e6e\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"values":[]},{"action":"player_play_sound","values":[{"name":"sound","value":{"pitch":2.0,"sound":"minecraft:block.lava.extinguish","type":"sound","volume":0.5}},{"name":"location","value":{"game_value":"location","selection":"{\"type\":\"default\"}","type":"game_value"}}]},{"action":"control_end_thread","values":[]}],"values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#hasNotPerm"}}]}],"values":[{"name":"privilege","value":{"enum":"WHITELISTED","type":"enum"}}]}],"values":[{"name":"variable_type","value":{"enum":"TEXT","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#permission"}}]},{"action":"set_variable_append_map","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#options"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"#options"}},{"name":"other_map","value":{"scope":"local","type":"variable","variable":"#arg"}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"Option","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#type"}}]},{"action":"else","operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"#arg"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"#filteredArgs"}}]},{"action":"if_variable_exists","is_inverted":true,"operations":[{"action":"if_variable_list_contains_value","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#hasString"}},{"name":"value","value":{"number":1.0,"type":"number"}}]}],"values":[{"name":"values","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"#type"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"scope":"game","type":"variable","variable":"Mapi.stringArgumentsTypes"}}]}],"values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#hasString"}}]}],"values":[]}],"values":[{"name":"variable_type","value":{"enum":"MAP","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#arg"}}]}],"position":10,"type":"function","values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"enum":"TRUE","type":"enum"}},{"name":"icon","value":{"item":"{}","type":"item"}}]},{"name":"Mapi.conditionArg","operations":[{"action":"if_variable_map_has_key","operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#equals"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"#dataArg"}},{"name":"key","value":{"text":"equals","type":"text"}},{"name":"default_value","value":{}}]},{"action":"if_variable_text_matches","is_inverted":true,"operations":[{"action":"if_variable_is_type","operations":[{"action":"set_variable_join_text","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#equals"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"#equals"}},{"name":"separator","value":{"text":"&#ff6e6e, &#abc4d6","type":"text"}},{"name":"prefix","value":{}},{"name":"postfix","value":{}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]}],"values":[{"name":"variable_type","value":{"enum":"ARRAY","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#equals"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)&#ff6e6e\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 %var_local(#vArg), \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435: &#abc4d6%var_local(#equals)","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"pitch":2.0,"sound":"minecraft:block.lava.extinguish","type":"sound","volume":0.5}},{"name":"location","value":{"game_value":"location","selection":"{\"type\":\"default\"}","type":"game_value"}}]},{"action":"control_end_thread","values":[]}],"values":[{"name":"values","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"#equals"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"match","value":{"scope":"local","type":"variable","variable":"#arg"}}]}],"values":[{"name":"map","value":{"scope":"local","type":"variable","variable":"#dataArg"}},{"name":"key","value":{"text":"equals","type":"text"}}]},{"action":"if_variable_is_type","operations":[{"action":"if_variable_map_has_key","operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#range"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"#dataArg"}},{"name":"key","value":{"text":"in_range","type":"text"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#min"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"#range"}},{"name":"number","value":{"number":"0","type":"number"}}]},{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#max"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"#range"}},{"name":"number","value":{"number":"1","type":"number"}}]},{"action":"if_variable_in_range","is_inverted":true,"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)&#ff6e6e\u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442 %var_local(#vArg) \u043d\u0435 \u0432\u0445\u043e\u0434\u0438\u0442 \u0432 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043e\u0442","type":"text"},{"scope":"local","type":"variable","variable":"#min"},{"text":"&#ff6e6e\u0434\u043e","type":"text"},{"scope":"local","type":"variable","variable":"#max"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"pitch":2.0,"sound":"minecraft:block.lava.extinguish","type":"sound","volume":0.5}},{"name":"location","value":{"game_value":"location","selection":"{\"type\":\"default\"}","type":"game_value"}}]},{"action":"control_end_thread","values":[]}],"values":[{"name":"value","value":{"scope":"local","type":"variable","variable":"#arg"}},{"name":"min","value":{"scope":"local","type":"variable","variable":"#min"}},{"name":"max","value":{"scope":"local","type":"variable","variable":"#max"}}]}],"values":[{"name":"map","value":{"scope":"local","type":"variable","variable":"#dataArg"}},{"name":"key","value":{"text":"in_range","type":"text"}}]},{"action":"if_variable_map_has_key","operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#greater"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"#dataArg"}},{"name":"key","value":{"text":"greater","type":"text"}},{"name":"default_value","value":{}}]},{"action":"if_variable_less_or_equals","operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)&#ff6e6e\u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442 %var_local(#vArg) \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 &#abc4d6","type":"text"},{"scope":"local","type":"variable","variable":"#greater"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"enum":"CONCATENATION","type":"enum"}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"pitch":2.0,"sound":"minecraft:block.lava.extinguish","type":"sound","volume":0.5}},{"name":"location","value":{"game_value":"location","selection":"{\"type\":\"default\"}","type":"game_value"}}]},{"action":"control_end_thread","values":[]}],"values":[{"name":"value","value":{"scope":"local","type":"variable","variable":"#arg"}},{"name":"compare","value":{"scope":"local","type":"variable","variable":"#greater"}}]}],"values":[{"name":"map","value":{"scope":"local","type":"variable","variable":"#dataArg"}},{"name":"key","value":{"text":"greater","type":"text"}}]}],"values":[{"name":"value","value":{"scope":"local","type":"variable","variable":"#arg"}}]},{"action":"if_variable_map_has_key","operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#greaterOrEquals"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"#dataArg"}},{"name":"key","value":{"text":"greater_or_equals","type":"text"}},{"name":"default_value","value":{}}]},{"action":"if_variable_less","operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)&#ff6e6e\u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442 %var_local(#vArg) \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u0435\u043d &#abc4d6","type":"text"},{"scope":"local","type":"variable","variable":"#greaterOrEquals"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"enum":"CONCATENATION","type":"enum"}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"pitch":2.0,"sound":"minecraft:block.lava.extinguish","type":"sound","volume":0.5}},{"name":"location","value":{"game_value":"location","selection":"{\"type\":\"default\"}","type":"game_value"}}]},{"action":"control_end_thread","values":[]}],"values":[{"name":"value","value":{"scope":"local","type":"variable","variable":"#arg"}},{"name":"compare","value":{"scope":"local","type":"variable","variable":"#greaterOrEquals"}}]}],"values":[{"name":"map","value":{"scope":"local","type":"variable","variable":"#dataArg"}},{"name":"key","value":{"text":"greater_or_equals","type":"text"}}]}],"position":11,"type":"function","values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"enum":"TRUE","type":"enum"}},{"name":"icon","value":{"item":"{}","type":"item"}}]},{"name":"Mapi.depends","operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"game","type":"variable","variable":"Excepted Modules"}}]},{"action":"repeat_for_each_in_list","operations":[{"action":"if_variable_map_has_key","is_inverted":true,"operations":[{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"scope":"game","type":"variable","variable":"mapi=%var_local(module)"}},{"name":"map","value":{"scope":"game","type":"variable","variable":"mapi=%var_local(module)"}},{"name":"key","value":{"text":"release","type":"text"}},{"name":"value","value":{"number":0.0,"type":"number"}}]}],"values":[{"name":"map","value":{"scope":"game","type":"variable","variable":"mapi=%var_local(module)"}},{"name":"key","value":{"text":"release","type":"text"}}]},{"action":"if_variable_map_has_key","is_inverted":true,"operations":[{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"scope":"game","type":"variable","variable":"mapi=%var_local(module)"}},{"name":"map","value":{"scope":"game","type":"variable","variable":"mapi=%var_local(module)"}},{"name":"key","value":{"text":"version","type":"text"}},{"name":"value","value":{"text":"1.0","type":"text"}}]}],"values":[{"name":"map","value":{"scope":"game","type":"variable","variable":"mapi=%var_local(module)"}},{"name":"key","value":{"text":"version","type":"text"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"depends"}},{"name":"map","value":{"scope":"game","type":"variable","variable":"mapi=%var_local(module)"}},{"name":"key","value":{"text":"depends","type":"text"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","operations":[{"action":"set_variable_split_text","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"depends"}},{"name":"text","value":{"scope":"local","type":"variable","variable":"depends"}},{"name":"delimiter","value":{}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"scope":"game","type":"variable","variable":"mapi=%var_local(module)"}},{"name":"map","value":{"scope":"game","type":"variable","variable":"mapi=%var_local(module)"}},{"name":"key","value":{"text":"depends","type":"text"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"depends"}}]}],"values":[{"name":"variable_type","value":{"enum":"TEXT","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"depends"}}]},{"action":"if_variable_is_type","operations":[{"action":"repeat_for_each_in_list","operations":[{"action":"if_variable_list_contains_value","is_inverted":true,"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"module"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"game","type":"variable","variable":"Excepted Modules"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"commands"}},{"name":"map","value":{"scope":"game","type":"variable","variable":"mapi=%var_local(module)"}},{"name":"key","value":{"text":"commands","type":"text"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","operations":[{"action":"repeat_for_each_map_entry","operations":[{"action":"set_variable_remove_map_entry","values":[{"name":"values","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"function"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"game","type":"variable","variable":"Commands"}},{"name":"map","value":{"scope":"game","type":"variable","variable":"Commands"}},{"name":"key","value":{"scope":"local","type":"variable","variable":"command"}}]}],"values":[{"name":"key_variable","value":{"scope":"local","type":"variable","variable":"command"}},{"name":"value_variable","value":{"scope":"local","type":"variable","variable":"function"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"commands"}}]}],"values":[{"name":"variable_type","value":{"enum":"MAP","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"commands"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)&#ff6e6e\u041c\u043e\u0434\u0443\u043b\u044e &#ffb657%var_local(module) &#ff6e6e\u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c \u043c\u043e\u0434\u0443\u043b\u044c &#ffb657%var_local(depend) &#ff6e6e\u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"pitch":2.0,"sound":"minecraft:block.lava.extinguish","type":"sound","volume":0.5}},{"name":"location","value":{"game_value":"location","selection":"{\"type\":\"current\"}","type":"game_value"}}]},{"action":"control_stop_repeat","values":[]}],"values":[{"name":"values","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"depend"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"scope":"game","type":"variable","variable":"Imported Modules"}}]}],"values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"scope":"local","type":"variable","variable":"depend"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"depends"}}]}],"values":[{"name":"variable_type","value":{"enum":"ARRAY","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"depends"}}]}],"values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"scope":"local","type":"variable","variable":"module"}},{"name":"list","value":{"scope":"game","type":"variable","variable":"Imported Modules"}}]}],"position":12,"type":"function","values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"enum":"TRUE","type":"enum"}},{"name":"icon","value":{"item":"{}","type":"item"}}]},{"name":"Mapi.timingsCommand","operations":[{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.commandConstructor","type":"text"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"\u0426\u0432\u0435\u0442"}},{"name":"value","value":{"text":"&7","type":"text"}}]},{"action":"if_variable_greater_or_equals","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"\u0426\u0432\u0435\u0442"}},{"name":"value","value":{"text":"&e","type":"text"}}]}],"values":[{"name":"value","value":{"game_value":"server_stopped_time","selection":"null","type":"game_value"}},{"name":"compare","value":{"number":5.0,"type":"number"}}]},{"action":"if_variable_greater_or_equals","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"\u0426\u0432\u0435\u0442"}},{"name":"value","value":{"text":"&c","type":"text"}}]}],"values":[{"name":"value","value":{"game_value":"server_stopped_time","selection":"null","type":"game_value"}},{"name":"compare","value":{"number":10.0,"type":"number"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)&e\u041e\u0442\u0447\u0451\u0442 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438:&f\\n%space%","type":"text"},{"text":"CPU: %var_local(\u0426\u0432\u0435\u0442)","type":"text"},{"game_value":"cpu_usage","selection":"null","type":"game_value"},{"text":"\\n&f \u0412\u0440\u0435\u043c\u044f \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438: %var_local(\u0426\u0432\u0435\u0442)","type":"text"},{"game_value":"server_stopped_time","selection":"null","type":"game_value"},{"text":"%space%ms\\n&f \u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0439/\u0442\u0438\u043a: &7","type":"text"},{"game_value":"action_count_per_tick","selection":"null","type":"game_value"},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"enum":"CONCATENATION","type":"enum"}}]}],"position":13,"type":"function","values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"enum":"TRUE","type":"enum"}},{"name":"icon","value":{"item":"{}","type":"item"}}]},{"name":"Mapi.mapiCommand","operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"text":"name: subcommand, equals: [\"reload\", \"help\", \"debug\", cmdprefix, cmdexceptions]","type":"text"},{"text":"optional: true","type":"text"},{"text":"optional: true","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"text":"type: Option, permission: build_or_dev, exception: \"%var(Mapi.prefix)\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: &7$scmd &e<reload&7|&ehelp&7|&edebug&7|&ecmdprefix&7|&ecmdexceptions>\"","type":"text"}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"args"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.commandConstructor","type":"text"}}]},{"action":"if_variable_equals","operations":[{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.mapi_2","type":"text"}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"help","type":"text"},{"text":"cmdexceptions","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"subcommand"}}]},{"action":"if_variable_equals","operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"number":0.0,"type":"number"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"text":"type: Option, permission: whitelist, exception: \"%var(Mapi.prefix)\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: &7$scmd &e<reload&7|&edebug>\"","type":"text"}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"args"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.commandConstructor","type":"text"}}]},{"action":"if_variable_equals","operations":[{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.config","type":"text"}}]},{"action":"if_variable_exists","is_inverted":true,"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)&#a6ff6e\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"pitch":1.5,"sound":"minecraft:entity.player.levelup","type":"sound","volume":1.0}},{"name":"location","value":{"game_value":"location","selection":"{\"type\":\"current\"}","type":"game_value"}}]}],"values":[{"name":"variable","value":{"scope":"save","type":"variable","variable":"mapiDebug"}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"reload","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"subcommand"}}]},{"action":"if_variable_equals","operations":[{"action":"if_variable_exists","operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"text":"mapiDebug","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"enum":"SAVE","type":"enum"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f &#ff6e6e\u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u044b","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"values":[{"name":"variable","value":{"scope":"save","type":"variable","variable":"mapiDebug"}}]},{"action":"else","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"save","type":"variable","variable":"mapiDebug"}},{"name":"value","value":{"number":1.0,"type":"number"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f &#a6ff6e\u0432\u043a\u043b\u044e\u0447\u0435\u043d\u044b","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"values":[]},{"action":"player_play_sound","values":[{"name":"sound","value":{"pitch":1.0,"sound":"minecraft:ui.button.click","type":"sound","volume":1.0}},{"name":"location","value":{"game_value":"location","selection":"{\"type\":\"default\"}","type":"game_value"}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"debug","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"subcommand"}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"reload","type":"text"},{"text":"debug","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"subcommand"}}]},{"action":"if_variable_equals","operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"number":0.0,"type":"number"},{"text":"name: prefix","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"text":"type: Option, exception: \"%var(Mapi.prefix)\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: &7$scmd cmdprefix &e<\u043f\u0440\u0435\u0444\u0438\u043a\u0441>\", permission: whitelist","type":"text"}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"args"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.commandConstructor","type":"text"}}]},{"action":"if_variable_equals","operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"text":"cmdprefix","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"enum":"SAVE","type":"enum"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"game","type":"variable","variable":"pcmd"}},{"name":"value","value":{"text":"@","type":"text"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)&#a6ff6e\u041f\u0440\u0435\u0444\u0438\u043a\u0441 \u0434\u043b\u044f \u043a\u043e\u043c\u0430\u043d\u0434 \u0441\u0431\u0440\u043e\u0448\u0435\u043d","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"@","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"prefix"}}]},{"action":"else","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"game","type":"variable","variable":"pcmd"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"prefix"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"save","type":"variable","variable":"cmdprefix"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"prefix"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)&#a6ff6e\u041f\u0440\u0435\u0444\u0438\u043a\u0441 \u0434\u043b\u044f \u043a\u043e\u043c\u0430\u043d\u0434 &7= &#abc4d6%var_local(prefix)","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"values":[]},{"action":"player_play_sound","values":[{"name":"sound","value":{"pitch":1.0,"sound":"minecraft:entity.experience_orb.pickup","type":"sound","volume":1.0}},{"name":"location","value":{"game_value":"location","selection":"{\"type\":\"default\"}","type":"game_value"}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"cmdprefix","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"subcommand"}}]}],"position":14,"type":"function","values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"enum":"TRUE","type":"enum"}},{"name":"icon","value":{"item":"{}","type":"item"}}]},{"name":"Mapi.modulesCommand","operations":[{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.commandConstructor","type":"text"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"modules"}}]},{"action":"repeat_for_each_in_list","operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"module_info"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"description"}},{"name":"map","value":{"scope":"game","type":"variable","variable":"mapi=%var_local(module)"}},{"name":"key","value":{"text":"description","type":"text"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: <#abc4d6>%var_local(description)","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"module_info"}}]}],"values":[{"name":"variable_type","value":{"enum":"TEXT","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"description"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"authors"}},{"name":"map","value":{"scope":"game","type":"variable","variable":"mapi=%var_local(module)"}},{"name":"key","value":{"text":"authors","type":"text"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","operations":[{"action":"if_variable_equals","operations":[{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"author"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"authors"}},{"name":"number","value":{"number":"0","type":"number"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"text":"\u0410\u0432\u0442\u043e\u0440: <#ffb657>%var_local(author)","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"module_info"}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"number":1.0,"type":"number"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"number":"%math(%length_local(authors))","type":"number"}}]},{"action":"else","operations":[{"action":"set_variable_get_list_value","values":[{"name":"remove","value":{"enum":"FALSE","type":"enum"}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"last_author"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"authors"}},{"name":"number","value":{"number":"%math(%length_local(authors)-1)","type":"number"}}]},{"action":"set_variable_remove_list_value_at_index","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"authors"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"authors"}},{"name":"index","value":{"number":"%math(%length_local(authors)-1)","type":"number"}}]},{"action":"set_variable_join_text","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"authors"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"authors"}},{"name":"separator","value":{"text":"<white>, <#ffb657>","type":"text"}},{"name":"prefix","value":{"text":"<#ffb657>","type":"text"}},{"name":"postfix","value":{"text":"<white> \u0438 <#ffb657>%var_local(last_author)","type":"text"}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"text":"\u0410\u0432\u0442\u043e\u0440\u044b: %var_local(authors)","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"module_info"}}]}],"values":[]}],"values":[{"name":"variable_type","value":{"enum":"ARRAY","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"authors"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"version"}},{"name":"map","value":{"scope":"game","type":"variable","variable":"mapi=%var_local(module)"}},{"name":"key","value":{"text":"version","type":"text"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"release"}},{"name":"map","value":{"scope":"game","type":"variable","variable":"mapi=%var_local(module)"}},{"name":"key","value":{"text":"release","type":"text"}},{"name":"default_value","value":{}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"text":"\u0412\u0435\u0440\u0441\u0438\u044f: <#d877f2>%var_local(version)","type":"text"},{"text":"\u0412\u0435\u0440\u0441\u0438\u044f \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430: <#d877f2>%var_local(release)","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"module_info"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"color"}},{"name":"value","value":{"text":"#a6ff6e","type":"text"}}]},{"action":"if_variable_list_contains_value","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"color"}},{"name":"value","value":{"text":"#ff6e6e","type":"text"}}]}],"values":[{"name":"values","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"module"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"scope":"game","type":"variable","variable":"Excepted Modules"}}]},{"action":"set_variable_join_text","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"module_info"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"module_info"}},{"name":"separator","value":{"text":"\\n<white>","type":"text"}},{"name":"prefix","value":{"text":"<hover:show_text:\"","type":"text"}},{"name":"postfix","value":{"text":"\"><%var_local(color)>%var_local(module)","type":"text"}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"module_info"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"modules"}}]}],"values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"scope":"local","type":"variable","variable":"module"}},{"name":"list","value":{"scope":"game","type":"variable","variable":"Imported Modules"}}]},{"action":"set_variable_join_text","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"modules"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"modules"}},{"name":"separator","value":{"text":"<white>,%space%","type":"text"}},{"name":"prefix","value":{"text":"\u041c\u043e\u0434\u0443\u043b\u0438 (<#a6ff6e>%length_local(modules)<white>):%space%","type":"text"}},{"name":"postfix","value":{}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]},{"action":"player_send_minimessage","values":[{"name":"minimessage","value":{"scope":"local","type":"variable","variable":"modules"}}]}],"position":15,"type":"function","values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"enum":"TRUE","type":"enum"}},{"name":"icon","value":{"item":"{}","type":"item"}}]},{"name":"Mapi.mapi_2","operations":[{"action":"if_variable_equals","operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"number":0.0,"type":"number"},{"text":"name: category, equals: [general, commands, create_command]","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"text":"type: Option, permission: build_or_dev, exception: \"%var(Mapi.prefix)\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: &7$scmd help &e<\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f>\"","type":"text"}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"args"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.commandConstructor","type":"text"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"text":"&#7a8085- &#abc4d6\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0435 &#7a8085-","type":"text"},{"text":"&f\u041f\u043e\u043c\u043e\u0449\u044c \u043f\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u0430\u043c: &7%var(pcmd)mapi help commands","type":"text"},{"text":"&f\u041f\u043e\u043c\u043e\u0449\u044c \u043f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u044b: &7%var(pcmd)mapi help create_command","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"general"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"text":"&#7a8085- &#abc4d6\u041a\u043e\u043c\u0430\u043d\u0434\u044b &#7a8085-","type":"text"},{"text":"&7%var(pcmd)mapi reload &8-&f \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 MAPI","type":"text"},{"text":"&7%var(pcmd)mapi help &8-&f \u043f\u043e\u043c\u043e\u0449\u044c \u043f\u043e MAPI","type":"text"},{"text":"&7%var(pcmd)mapi debug &8-&f \u0432\u043a\u043b/\u0432\u044b\u043a\u043b \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u044b","type":"text"},{"text":"&7%var(pcmd)mapi cmdprefix &8-&f \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u0435\u0444\u0438\u043a\u0441 \u0434\u043b\u044f \u043a\u043e\u043c\u0430\u043d\u0434","type":"text"},{},{},{},{},{},{},{},{},{},{"text":"&7%var(pcmd)lagg &8-&f \u043e\u0442\u0447\u0451\u0442 \u043f\u043e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0435","type":"text"},{"text":"&7%var(pcmd)about &8-&f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043c\u043e\u0434\u0443\u043b\u0435","type":"text"},{"text":"&7%var(pcmd)modules &8-&f \u0441\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0445 \u043c\u043e\u0434\u0443\u043b\u0435\u0439","type":"text"},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"commands"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"text":"&#7a8085- &#abc4d6\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b &#7a8085-","type":"text"},{"text":"&f \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043c\u043e\u0434\u0443\u043b\u044c \u0438 \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0442\u0438\u043f\u0430: &7{ \u041a\u043e\u043c\u0430\u043d\u0434\u0430: \u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c }","type":"text"},{"text":"&f \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 &7{ test: CommandTest }","type":"text"},{"text":"&f \u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u0441\u0443\u043d\u0443\u0442\u044c \u044d\u0442\u043e\u0442 \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0432 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e \u043c\u043e\u0434\u0443\u043b\u044f \u043f\u043e\u0434 \u043a\u043b\u044e\u0447 &7commands","type":"text"},{"text":"&f \u041f\u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u0441 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0432\u044b \u0443\u043a\u0430\u0437\u0430\u043b\u0438 \u0432 \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u0435, \u0432 \u043d\u0430\u0448\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435 - &7CommandTest","type":"text"},{"text":"&f \u0412 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0432\u044b\u0432\u043e\u0434\u0438\u043c \"\u041f\u0440\u0438\u0432\u0435\u0442!\"","type":"text"},{"text":"&f \u0421\u0430\u043c\u0430\u044f \u043f\u0440\u043e\u0441\u0442\u0430\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0433\u043e\u0442\u043e\u0432\u0430! \u041d\u043e MAPI \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u043b\u0441\u044f \u043d\u0435 \u0434\u043b\u044f \u0442\u0430\u043a\u043e\u0439 \u043b\u0435\u0433\u043a\u043e\u0442\u043d\u0438 \u263a","type":"text"},{"text":"&f \u041f\u043e\u043b\u043d\u0443\u044e \u0441\u0442\u0430\u0442\u044c\u044e \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u043d\u0430 &#abc4d6&nhttps://discord.com/channels/828678938070745129/1069298697415970968","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"create_command"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"%var_local(category)"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"enum":"SEPARATE_LINES","type":"enum"}}]},{"action":"control_end_thread","values":[]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"help","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"subcommand"}}]},{"action":"if_variable_equals","operations":[{"action":"if_variable_exists","operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"text":"mapiCommandExceptions","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"enum":"SAVE","type":"enum"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)\u041e\u0448\u0438\u0431\u043a\u0438 &#ff6e6e\u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u044b","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"values":[{"name":"variable","value":{"scope":"save","type":"variable","variable":"mapiCommandExceptions"}}]},{"action":"else","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"save","type":"variable","variable":"mapiCommandExceptions"}},{"name":"value","value":{"number":1.0,"type":"number"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)\u041e\u0448\u0438\u0431\u043a\u0438 &#a6ff6e\u0432\u043a\u043b\u044e\u0447\u0435\u043d\u044b","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"values":[]},{"action":"player_play_sound","values":[{"name":"sound","value":{"pitch":1.0,"sound":"minecraft:ui.button.click","type":"sound","volume":1.0}},{"name":"location","value":{"game_value":"location","selection":"{\"type\":\"default\"}","type":"game_value"}}]},{"action":"control_end_thread","values":[]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"cmdexceptions","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"subcommand"}}]}],"position":16,"type":"function","values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"enum":"TRUE","type":"enum"}},{"name":"icon","value":{"item":"{}","type":"item"}}]},{"name":"Mapi.versionCommand","operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"text":"name: moduleName","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"text":"type: Option, exception: \"%var(Mapi.prefix)\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: &7$scmd &e<\u043c\u043e\u0434\u0443\u043b\u044c>\"","type":"text"}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"args"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.commandConstructor","type":"text"}}]},{"action":"if_variable_exists","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"module"}},{"name":"value","value":{"scope":"game","type":"variable","variable":"mapi=%var_local(moduleName)"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"version"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"module"}},{"name":"key","value":{"text":"version","type":"text"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"release"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"module"}},{"name":"key","value":{"text":"release","type":"text"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"authors"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"module"}},{"name":"key","value":{"text":"authors","type":"text"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"authors.size"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"authors"}}]},{"action":"if_variable_equals","operations":[{"action":"set_variable_join_text","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"authors"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"authors"}},{"name":"separator","value":{}},{"name":"prefix","value":{"text":"&7\u2502&f \u0410\u0432\u0442\u043e\u0440: &#ffb657","type":"text"}},{"name":"postfix","value":{}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"number":1.0,"type":"number"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"authors.size"}}]},{"action":"if_variable_greater_or_equals","operations":[{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"authors.size"},{"number":1.0,"type":"number"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"authors.size"}}]},{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"lastAuthor"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"authors"}},{"name":"number","value":{"scope":"local","type":"variable","variable":"authors.size"}}]},{"action":"set_variable_remove_list_value_at_index","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"authors"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"authors"}},{"name":"index","value":{"scope":"local","type":"variable","variable":"authors.size"}}]},{"action":"set_variable_join_text","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"authors"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"authors"}},{"name":"separator","value":{"text":"&f, &#ffb657","type":"text"}},{"name":"prefix","value":{"text":"&f \u0410\u0432\u0442\u043e\u0440\u044b: &#ffb657","type":"text"}},{"name":"postfix","value":{"text":"&f \u0438 &#ffb657%var_local(lastAuthor)","type":"text"}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]}],"values":[{"name":"value","value":{"scope":"local","type":"variable","variable":"authors.size"}},{"name":"compare","value":{"number":2.0,"type":"number"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"description"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"module"}},{"name":"key","value":{"text":"description","type":"text"}},{"name":"default_value","value":{}}]},{"action":"if_variable_list_contains_value","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"status"}},{"name":"value","value":{"text":"&#ff6e6e","type":"text"}}]}],"values":[{"name":"values","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"module"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"scope":"game","type":"variable","variable":"Excepted Modules"}}]},{"action":"else","operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"status"}},{"name":"value","value":{"text":"&#a6ff6e","type":"text"}}]}],"values":[]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"&7\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e %var_local(status)%var_local(moduleName) &7\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"if_variable_is_type","operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"&7\u2502&f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:&#abc4d6","type":"text"},{"scope":"local","type":"variable","variable":"description"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"enum":"SPACES","type":"enum"}}]}],"values":[{"name":"variable_type","value":{"enum":"TEXT","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"description"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"&7\u2502&f \u0412\u0435\u0440\u0441\u0438\u044f: &#d877f2%var_local(version)","type":"text"},{"text":"&7\u2502&f \u0412\u0435\u0440\u0441\u0438\u044f \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430: &#d877f2%var_local(release)","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"enum":"SEPARATE_LINES","type":"enum"}}]},{"action":"if_variable_is_type","operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"authors"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"values":[{"name":"variable_type","value":{"enum":"TEXT","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"authors"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.version_2","type":"text"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"&7\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"values":[{"name":"variable","value":{"scope":"game","type":"variable","variable":"mapi=%var_local(moduleName)"}}]},{"action":"else","operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)&#ff6e6e\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u043c\u043e\u0434\u0443\u043b\u044c &#ffb657%var_local(moduleName)&#ff6e6e, \u0441\u043f\u0438\u0441\u043e\u043a \u0432\u0441\u0435\u0445 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 - &#abc4d6%var(pcmd)modules","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"pitch":2.0,"sound":"minecraft:block.lava.extinguish","type":"sound","volume":0.5}},{"name":"location","value":{"game_value":"location","selection":"{\"type\":\"default\"}","type":"game_value"}}]}],"values":[]}],"position":17,"type":"function","values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"enum":"TRUE","type":"enum"}},{"name":"icon","value":{"item":"{}","type":"item"}}]},{"name":"Mapi.version_2","operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"commandsList"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"module"}},{"name":"key","value":{"text":"commandsList","type":"text"}},{"name":"default_value","value":{}}]},{"action":"if_variable_list_is_empty","is_inverted":true,"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"commands"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"module"}},{"name":"key","value":{"text":"commands","type":"text"}},{"name":"default_value","value":{}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"commandsMessage"}}]},{"action":"repeat_for_each_in_list","operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"commandData"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"commands"}},{"name":"key","value":{"scope":"local","type":"variable","variable":"command"}},{"name":"default_value","value":{}}]},{"action":"if_player_has_privilege","is_inverted":true,"operations":[{"action":"if_variable_map_has_key","operations":[{"action":"control_skip_iteration","values":[]}],"values":[{"name":"map","value":{"scope":"local","type":"variable","variable":"commandData"}},{"name":"key","value":{"text":"hide","type":"text"}}]}],"values":[{"name":"privilege","value":{"enum":"WHITELISTED","type":"enum"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"hover"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"description"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"commandData"}},{"name":"key","value":{"text":"description","type":"text"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:<#abc4d6> %var_local(description)","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"hover"}}]}],"values":[{"name":"variable_type","value":{"enum":"TEXT","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"description"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"executor"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"commandData"}},{"name":"key","value":{"text":"executor","type":"text"}},{"name":"default_value","value":{}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"text":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a:<#d877f2> %var_local(executor)","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"hover"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"aliases"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"commandData"}},{"name":"key","value":{"text":"aliases","type":"text"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"text":"\u041f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c\u044b:","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"hover"}}]},{"action":"repeat_for_each_in_list","operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"text":"<#7a8085>-<#abc4d6> %var_local(alias)","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"hover"}}]}],"values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"scope":"local","type":"variable","variable":"alias"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"aliases"}}]}],"values":[{"name":"variable_type","value":{"enum":"ARRAY","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"aliases"}}]},{"action":"if_variable_map_has_key","operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"text":"<#ff6e6e>\u0421\u043a\u0440\u044b\u0442\u0430\u044f","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"hover"}}]}],"values":[{"name":"map","value":{"scope":"local","type":"variable","variable":"commandData"}},{"name":"key","value":{"text":"hide","type":"text"}}]},{"action":"set_variable_join_text","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"hover"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"hover"}},{"name":"separator","value":{"text":"<reset>\\n","type":"text"}},{"name":"prefix","value":{}},{"name":"postfix","value":{}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"text":"<hover:show_text:\"%var_local(hover)\"><#d877f2>%var_local(command)","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"commandsMessage"}}]}],"values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"scope":"local","type":"variable","variable":"command"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"commandsList"}}]},{"action":"set_variable_join_text","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"commandsMessage"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"commandsMessage"}},{"name":"separator","value":{"text":"<white>,%space%","type":"text"}},{"name":"prefix","value":{"text":"<gray>\u2502<white> \u041a\u043e\u043c\u0430\u043d\u0434\u044b:%space%","type":"text"}},{"name":"postfix","value":{}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]},{"action":"player_send_minimessage","values":[{"name":"minimessage","value":{"scope":"local","type":"variable","variable":"commandsMessage"}}]}],"values":[{"name":"list","value":{"scope":"local","type":"variable","variable":"commandsList"}}]}],"position":18,"type":"function","values":[]},{"name":"Mapi.legacycommandCommand","operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"text":"name: subCommand, equals: [add, remove, clear, list]","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"text":"type: Option, maxArguments: 2, permission: dev, exception: \"%var(Mapi.prefix)\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: &7$scmd &b<add&7|&bremove&7|&bclear&7|&blist>\"","type":"text"}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"args"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.commandConstructor","type":"text"}}]},{"action":"if_variable_equals","operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"number":0.0,"type":"number"},{"text":"name: legacyCommand","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"text":"type: Option, permission: dev, exception: \"%var(Mapi.prefix)\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: &7$scmd %var_local(subCommand) &b<\u043a\u043e\u043c\u0430\u043d\u0434\u0430>\"","type":"text"}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"args"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.commandConstructor","type":"text"}}]},{"action":"if_variable_equals","operations":[{"action":"if_variable_list_contains_value","is_inverted":true,"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"legacyCommand"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"save","type":"variable","variable":"legacyCommandsList"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)&#a6ff6e\u041a\u043e\u043c\u0430\u043d\u0434\u0430 &#abc4d6%var_local(legacyCommand)&#a6ff6e \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432 \u0441\u043f\u0438\u0441\u043e\u043a","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"pitch":1.0,"sound":"minecraft:entity.experience_orb.pickup","type":"sound","volume":1.0}},{"name":"location","value":{"game_value":"location","selection":"{\"type\":\"default\"}","type":"game_value"}}]}],"values":[{"name":"values","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"legacyCommand"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"scope":"save","type":"variable","variable":"legacyCommandsList"}}]},{"action":"else","operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)&#ff6e6e\u0422\u0430\u043a\u0430\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043a\u0435","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"pitch":2.0,"sound":"minecraft:block.lava.extinguish","type":"sound","volume":0.5}},{"name":"location","value":{"game_value":"location","selection":"{\"type\":\"default\"}","type":"game_value"}}]},{"action":"control_end_thread","values":[]}],"values":[]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"add","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"subCommand"}}]},{"action":"else","operations":[{"action":"set_variable_remove_list_value","values":[{"name":"variable","value":{"scope":"save","type":"variable","variable":"legacyCommandsList"}},{"name":"list","value":{"scope":"save","type":"variable","variable":"legacyCommandsList"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"legacyCommand"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)&#a6ff6e\u041a\u043e\u043c\u0430\u043d\u0434\u0430 &#abc4d6%var_local(legacyCommand)&#a6ff6e \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"pitch":1.0,"sound":"minecraft:entity.experience_orb.pickup","type":"sound","volume":1.0}},{"name":"location","value":{"game_value":"location","selection":"{\"type\":\"default\"}","type":"game_value"}}]}],"values":[]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"add","type":"text"},{"text":"remove","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"subCommand"}}]},{"action":"else","operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"number":0.0,"type":"number"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"text":"type: Option, permission: dev, exception: \"%var(Mapi.prefix)\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: &7$scmd %var_local(subCommand)\"","type":"text"}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"args"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"text":"Mapi.commandConstructor","type":"text"}}]},{"action":"if_variable_equals","operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"save","type":"variable","variable":"legacyCommandsList"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)&#a6ff6e\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043c\u0430\u043d\u0434 \u043e\u0447\u0438\u0449\u0435\u043d","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"pitch":1.0,"sound":"minecraft:entity.experience_orb.pickup","type":"sound","volume":1.0}},{"name":"location","value":{"game_value":"location","selection":"{\"type\":\"default\"}","type":"game_value"}}]}],"values":[{"name":"compare","value":{"type":"array","values":[{"text":"clear","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"scope":"local","type":"variable","variable":"subCommand"}}]},{"action":"else","operations":[{"action":"set_variable_join_text","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"legacyCommandsList"}},{"name":"list","value":{"scope":"save","type":"variable","variable":"legacyCommandsList"}},{"name":"separator","value":{"text":"&f, &#d877f2","type":"text"}},{"name":"prefix","value":{"text":"Legacy-\u043a\u043e\u043c\u0430\u043d\u0434\u044b (&#d877f2%length_save(legacyCommandsList)&f): &#d877f2","type":"text"}},{"name":"postfix","value":{}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"legacyCommandsList"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"values":[]}],"values":[]}],"position":19,"type":"function","values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"enum":"TRUE","type":"enum"}},{"name":"icon","value":{"item":"{}","type":"item"}}]},{"event":"player_chat","operations":[{"action":"if_variable_exists","operations":[{"action":"if_variable_text_starts_with","operations":[{"action":"game_cancel_event","values":[]},{"action":"set_variable_split_text","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"command.args"}},{"name":"text","value":{"game_value":"event_chat_message","selection":"null","type":"game_value"}},{"name":"delimiter","value":{}}]},{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"/command"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"command.args"}},{"name":"number","value":{"number":0.0,"type":"number"}},{"name":"remove","value":{"enum":"FALSE","type":"enum"}}]},{"action":"if_variable_text_matches","is_inverted":true,"operations":[{"action":"set_variable_remove_list_value_at_index","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"command.args"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"command.args"}},{"name":"index","value":{"number":0.0,"type":"number"}}]},{"action":"set_variable_replace_text","values":[{"name":"first","value":{"enum":"FIRST","type":"enum"}},{"name":"ignore_case","value":{"enum":"FALSE","type":"enum"}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"command"}},{"name":"text","value":{"scope":"local","type":"variable","variable":"/command"}},{"name":"replace","value":{"scope":"game","type":"variable","variable":"pcmd"}},{"name":"replacement","value":{}}]},{"action":"set_variable_get_index_of_subtext","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#subtext"}},{"name":"text","value":{"scope":"local","type":"variable","variable":"command"}},{"name":"subtext","value":{"text":":","type":"text"}},{"name":"start_index","value":{}}]},{"action":"if_variable_greater_or_equals","operations":[{"action":"set_variable_trim_text","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#module"}},{"name":"text","value":{"scope":"local","type":"variable","variable":"command"}},{"name":"start","value":{"number":"0","type":"number"}},{"name":"end","value":{"scope":"local","type":"variable","variable":"#subtext"}}]},{"action":"if_variable_is_type","operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#commands"}},{"name":"map","value":{"scope":"game","type":"variable","variable":"mapi=%var_local(#module)"}},{"name":"key","value":{"text":"commands","type":"text"}},{"name":"default_value","value":{}}]},{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"scope":"local","type":"variable","variable":"#subtext"},{"number":1.0,"type":"number"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"scope":"local","type":"variable","variable":"#subtext"}}]},{"action":"set_variable_text_length","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#command.length"}},{"name":"text","value":{"scope":"local","type":"variable","variable":"command"}}]},{"action":"set_variable_trim_text","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"command"}},{"name":"text","value":{"scope":"local","type":"variable","variable":"command"}},{"name":"start","value":{"scope":"local","type":"variable","variable":"#subtext"}},{"name":"end","value":{"scope":"local","type":"variable","variable":"#command.length"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#commandData"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"#commands"}},{"name":"key","value":{"scope":"local","type":"variable","variable":"command"}},{"name":"default_value","value":{}}]}],"values":[{"name":"variable_type","value":{"enum":"MAP","type":"enum"}},{"name":"value","value":{"scope":"game","type":"variable","variable":"mapi=%var_local(#module)"}}]}],"values":[{"name":"value","value":{"scope":"local","type":"variable","variable":"#subtext"}},{"name":"compare","value":{"number":0.0,"type":"number"}}]},{"action":"if_variable_exists","is_inverted":true,"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#commandData"}},{"name":"map","value":{"scope":"game","type":"variable","variable":"Commands"}},{"name":"key","value":{"scope":"local","type":"variable","variable":"command"}},{"name":"default_value","value":{}}]}],"values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#commandData"}}]},{"action":"if_variable_is_type","operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"#executor"}},{"name":"map","value":{"scope":"local","type":"variable","variable":"#commandData"}},{"name":"key","value":{"text":"executor","type":"text"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"scope":"local","type":"variable","variable":"command.args.size"}},{"name":"list","value":{"scope":"local","type":"variable","variable":"command.args"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"scope":"local","type":"variable","variable":"#executor"}}]}],"values":[{"name":"variable_type","value":{"enum":"MAP","type":"enum"}},{"name":"value","value":{"scope":"local","type":"variable","variable":"#commandData"}}]},{"action":"else","operations":[{"action":"if_variable_exists","operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"text":"%var(Mapi.prefix)&#ff6e6e\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430","type":"text"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"pitch":2.0,"sound":"minecraft:block.lava.extinguish","type":"sound","volume":0.5}},{"name":"location","value":{"game_value":"location","selection":"{\"type\":\"default\"}","type":"game_value"}}]}],"values":[{"name":"variable","value":{"scope":"save","type":"variable","variable":"mapiCommandExceptions"}}]},{"action":"else","operations":[{"action":"game_uncancel_event","values":[]}],"values":[]}],"values":[]}],"values":[{"name":"values","value":{"type":"array","values":[{"scope":"save","type":"variable","variable":"legacyCommandsList"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"match","value":{"scope":"local","type":"variable","variable":"/command"}},{"name":"ignore_case","value":{"enum":"TRUE","type":"enum"}}]}],"values":[{"name":"value","value":{"game_value":"event_chat_message","selection":"null","type":"game_value"}},{"name":"compare","value":{"type":"array","values":[{"scope":"game","type":"variable","variable":"pcmd"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"ignore_case","value":{"enum":"FALSE","type":"enum"}}]}],"values":[{"name":"variable","value":{"scope":"game","type":"variable","variable":"pcmd"}}]}],"position":20,"type":"event"}]}
