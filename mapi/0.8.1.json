{"handlers":[{"type":"event","position":0,"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiInstalled","scope":"save"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"mapiInstalled","scope":"save"}},{"name":"value","value":{"type":"number","number":1.0}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}},{"name":"value","value":{"type":"number","number":1.0}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"mapiCommandExceptions","scope":"save"}},{"name":"value","value":{"type":"number","number":1.0}}]}],"is_inverted":"true"},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.config","parsing":"plain"}}]}],"event":"world_start"},{"type":"function","position":1,"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"Mapi.prefix","scope":"game"}},{"name":"value","value":{"type":"text","text":"&#ffb657MAPI &8\u00bb &f","parsing":"legacy"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}}]}],"is_inverted":"true"},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"legacyCommands","scope":"game"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"cmdprefix","scope":"save"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"pcmd","scope":"game"}},{"name":"value","value":{"type":"text","text":"@","parsing":"plain"}}]}],"is_inverted":"true"},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"pcmd","scope":"game"}},{"name":"value","value":{"type":"variable","variable":"cmdprefix","scope":"save"}}]}]},{"action":"control_wait","values":[{"name":"duration","value":{"type":"number","number":1.0}}]},{"action":"select_player_by_conditional","values":[{"name":"privilege","value":{"type":"enum","enum":"DEVELOPER"}}],"conditional":{"action":"if_player_has_privilege","is_inverted":"false"}},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)&7&o\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"commands","scope":"game"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"command: mapi, executor: \"Mapi.mapiCommand\", description: \"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 MAPI\"","parsing":"legacy"},{"type":"text","text":"command: modules, executor: \"Mapi.modulesCommand\", description: \"\u0421\u043f\u0438\u0441\u043e\u043a \u043c\u043e\u0434\u0443\u043b\u0435\u0439\"","parsing":"legacy"},{"type":"text","text":"command: timings, executor: \"Mapi.timingsCommand\", aliases: [lagg, tpsbar], description: \"\u041e\u0442\u0447\u0451\u0442 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438\"","parsing":"legacy"},{"type":"text","text":"command: version, executor: \"Mapi.versionCommand\", aliases: [about], description: \"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043c\u043e\u0434\u0443\u043b\u0435\"","parsing":"legacy"},{"type":"text","text":"command: legacycommand, executor: \"Mapi.legacycommandCommand\", aliases: [legacycmd, lcmd], description: \"\u041c\u0430\u043d\u0438\u043f\u0443\u043b\u044f\u0446\u0438\u0438 \u0441\u043e \u0441\u043f\u0438\u0441\u043a\u043e\u043c legacy-\u043a\u043e\u043c\u0430\u043d\u0434\"","parsing":"legacy"},{"type":"text","text":"command: help, executor: \"Mapi.helpCommand\", description: \"\u041f\u043e\u043c\u043e\u0449\u044c \u043f\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u0430\u043c\"","parsing":"legacy"},{"type":"text","text":"command: mi, executor: \"Mapi.miCommand\", description: \"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0440\u0435\u0435\u0441\u0442\u0440\u043e\u043c MI\"","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commands","scope":"local"}}]},{"action":"set_variable_create_map_from_values","values":[{"name":"keys","value":{"type":"array","values":[{"type":"text","text":"Int","parsing":"plain"},{},{},{"type":"text","text":"Number","parsing":"plain"},{},{},{"type":"text","text":"String","parsing":"plain"},{},{},{"type":"text","text":"Player","parsing":"plain"},{},{},{},{},{}]}},{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Mapi.argumentsTypes","parsing":"plain"},{},{},{"type":"text","text":"Mapi.argumentsTypes","parsing":"plain"},{},{},{"type":"text","text":"Mapi.argumentsTypes","parsing":"plain"},{},{},{"type":"text","text":"Mapi.argumentsTypes","parsing":"plain"},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"argumentsTypes","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"String","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"stringArgumentsTypes","scope":"local"}}]},{"action":"set_variable_create_map_from_values","values":[{"name":"keys","value":{"type":"array","values":[{"type":"text","text":"&9Discord","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"values","value":{"type":"array","values":[{"type":"text","text":"https://discord.com/channels/828678938070745129/1069298697415970968","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"contacts","scope":"local"}}]},{"action":"set_variable_create_map_from_values","values":[{"name":"keys","value":{"type":"array","values":[{"type":"text","text":"version","parsing":"plain"},{"type":"text","text":"contacts","parsing":"plain"},{},{"type":"text","text":"release","parsing":"plain"},{"type":"text","text":"argumentsTypes","parsing":"plain"},{},{"type":"text","text":"commands","parsing":"plain"},{"type":"text","text":"stringArgumentsTypes","parsing":"plain"},{},{"type":"text","text":"authors","parsing":"plain"},{},{},{"type":"text","text":"description","parsing":"plain"},{},{}]}},{"name":"values","value":{"type":"array","values":[{"type":"text","text":"0.8.1","parsing":"plain"},{"type":"variable","variable":"contacts","scope":"local"},{},{"type":"number","number":17.0},{"type":"variable","variable":"argumentsTypes","scope":"local"},{},{"type":"variable","variable":"commands","scope":"local"},{"type":"variable","variable":"stringArgumentsTypes","scope":"local"},{},{"type":"text","text":"unidok","parsing":"plain"},{},{},{"type":"text","text":"\u042f\u0434\u0440\u043e \u0434\u043b\u044f \u043c\u043e\u0434\u0443\u043b\u0435\u0439","parsing":"legacy"},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"mapi=mapi","scope":"game"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"modules","scope":"game"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"Mapi.argumentsTypes","scope":"game"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"Mapi.stringArgumentsTypes","scope":"game"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"registries","scope":"game"}}]},{"action":"controller_measure_time","values":[{"name":"duration","value":{"type":"enum","enum":"MILLISECONDS"}},{"name":"variable","value":{"type":"variable","variable":"loadTime","scope":"local"}}],"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"registries","scope":"save"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"https://raw.githubusercontent.com/unidok/mi/main/registry.txt","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"registries","scope":"save"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.loadRegistries","parsing":"plain"}}]}],"is_inverted":"true"},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.load","parsing":"plain"}}]}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)&#a6ff6e\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e &#abc4d6%length(modules) &#a6ff6e\u043c\u043e\u0434\u0443\u043b\u0435\u0439","parsing":"legacy"},{"type":"text","text":"%var(Mapi.prefix)&#a6ff6e\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430 &#7a8085(&#abc4d6%var_local(loadTime) \u043c\u0441&#7a8085)","parsing":"legacy"},{"type":"text","text":"%var(Mapi.prefix)&#a6ff6e\u041f\u043e\u043c\u043e\u0449\u044c - &#abc4d6%var(pcmd)mapi help general","parsing":"legacy"},{"type":"text","text":"%var(Mapi.prefix)&#a6ff6e\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u044d\u0442\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f - &#abc4d6%var(pcmd)mapi debug","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.player.levelup","pitch":1.5,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"current\"}"}}]}]}],"values":[{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.config"},{"type":"event","position":2,"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"pcmd","scope":"game"}}],"operations":[{"action":"if_variable_text_starts_with","values":[{"name":"value","value":{"type":"game_value","game_value":"event_chat_message","selection":"null"}},{"name":"compare","value":{"type":"array","values":[{"type":"variable","variable":"pcmd","scope":"game"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"ignore_case","value":{"type":"enum","enum":"FALSE"}}],"operations":[{"action":"set_variable_split_text","values":[{"name":"variable","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"text","value":{"type":"game_value","game_value":"event_chat_message","selection":"null"}},{"name":"delimiter","value":{}}]},{"action":"set_variable_remove_list_value_at_index","values":[{"name":"removed_value","value":{"type":"variable","variable":"/command","scope":"local"}},{"name":"variable","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"index","value":{"type":"number","number":0.0}}]},{"action":"if_variable_text_matches","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"legacyCommands","scope":"game"},{"type":"variable","variable":"legacyCommandsList","scope":"save"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"match","value":{"type":"variable","variable":"/command","scope":"local"}},{"name":"ignore_case","value":{"type":"enum","enum":"FALSE"}}],"operations":[{"action":"game_cancel_event","values":[]},{"action":"set_variable_replace_text","values":[{"name":"first","value":{"type":"enum","enum":"FIRST"}},{"name":"ignore_case","value":{"type":"enum","enum":"FALSE"}},{"name":"variable","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"/command","scope":"local"}},{"name":"replace","value":{"type":"variable","variable":"pcmd","scope":"game"}},{"name":"replacement","value":{}}]},{"action":"set_variable_get_index_of_subtext","values":[{"name":"variable","value":{"type":"variable","variable":"#subtext","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"subtext","value":{"type":"text","text":":","parsing":"plain"}},{"name":"start_index","value":{}}]},{"action":"if_variable_greater_or_equals","values":[{"name":"value","value":{"type":"variable","variable":"#subtext","scope":"local"}},{"name":"compare","value":{"type":"number","number":0.0}}],"operations":[{"action":"set_variable_trim_text","values":[{"name":"variable","value":{"type":"variable","variable":"#module","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"start","value":{"type":"number","number":"0"}},{"name":"end","value":{"type":"variable","variable":"#subtext","scope":"local"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"mapi=%var_local(#module)","scope":"game"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#commands","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi=%var_local(#module)","scope":"game"}},{"name":"key","value":{"type":"text","text":"commands","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#subtext","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#subtext","scope":"local"}}]},{"action":"set_variable_text_length","values":[{"name":"variable","value":{"type":"variable","variable":"#command.length","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"command","scope":"local"}}]},{"action":"set_variable_trim_text","values":[{"name":"variable","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"start","value":{"type":"variable","variable":"#subtext","scope":"local"}},{"name":"end","value":{"type":"variable","variable":"#command.length","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#commandData","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#commands","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"default_value","value":{}}]}]}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"#commandData","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#commandData","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commands","scope":"game"}},{"name":"key","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"default_value","value":{}}]}],"is_inverted":"true"},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"#commandData","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#executor","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"executor","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"type":"variable","variable":"command.args.size","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"command.args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"variable","variable":"#executor","scope":"local"}}]}]},{"action":"else","values":[],"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiCommandExceptions","scope":"save"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)&#ff6e6e\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]},{"action":"else","values":[],"operations":[{"action":"game_uncancel_event","values":[]}]}]}],"is_inverted":"true"}]}]}],"event":"player_chat"},{"type":"function","position":3,"operations":[{"action":"repeat_while","values":[{"name":"value","value":{"type":"game_value","game_value":"cpu_usage","selection":"null"}},{"name":"compare","value":{"type":"number","number":100.0}}],"operations":[{"action":"control_wait","values":[{"name":"duration","value":{"type":"number","number":2.0}}]}],"conditional":{"action":"if_variable_greater_or_equals","is_inverted":"false"}}],"values":[{"name":"description","value":{"type":"array","values":[{"type":"text","text":"\u0416\u0434\u0451\u0442, \u043f\u043e\u043a\u0430 CPU >= 100","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"FALSE"}},{"name":"icon","value":{"type":"item","item":"{Count:1b,id:\"minecraft:tnt_minecart\",tag:{Enchantments:[{id:\"minecraft:aqua_affinity\",lvl:0s}],HideFlags:-1,display:{Lore:['{\"italic\":false,\"color\":\"white\",\"text\":\"\u0416\u0434\u0451\u0442, \u0435\u0441\u043b\u0438 CPU >= 80\"}','{\"text\":\"\"}','{\"italic\":false,\"color\":\"#7A8085\",\"text\":\"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u041f\u0440\u0430\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u043e\u0439, \u0447\u0442\u043e\u0431\u044b\"}','{\"italic\":false,\"color\":\"#7A8085\",\"text\":\"\u0442\u0435\u043b\u0435\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043a \u0444\u0443\u043d\u043a\u0446\u0438\u0438\"}'],Name:'{\"italic\":false,\"color\":\"yellow\",\"text\":\"Mapi.wait\"}'}}}"}}],"name":"Mapi.wait"},{"type":"function","position":4,"operations":[{"action":"set_variable_get_list_variables","values":[{"name":"variable","value":{"type":"variable","variable":"variables","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"moduleName","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"variables","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.wait","parsing":"plain"}}]},{"action":"if_variable_text_starts_with","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"mapi=","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"moduleName","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"%var_local(moduleName)","scope":"game"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"module","scope":"local"}}],"operations":[{"action":"control_call_exception","values":[{"name":"type","value":{"type":"enum","enum":"ERROR"}},{"name":"id","value":{"type":"text","text":"module_exception","parsing":"plain"}},{"name":"message","value":{"type":"text","text":"%var_local(moduleName) \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u043b\u043e\u0432\u0430\u0440\u0451\u043c","parsing":"plain"}}]}],"is_inverted":"true"},{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"moduleName","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"moduleName","scope":"local"}},{"name":"replace","value":{"type":"text","text":"mapi=","parsing":"plain"}},{"name":"replacement","value":{}},{"name":"first","value":{"type":"enum","enum":"FIRST"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"moduleName","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"modules","scope":"game"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"authors","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"authors","scope":"local"}}],"operations":[{"action":"set_variable_split_text","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"delimiter","value":{}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"authors","parsing":"plain"}},{"name":"value","value":{"type":"variable","variable":"authors","scope":"local"}}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"argumentsTypes","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"argumentsTypes","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"argumentsTypes","scope":"local"}}],"operations":[{"action":"set_variable_append_map","values":[{"name":"variable","value":{"type":"variable","variable":"Mapi.argumentsTypes","scope":"game"}},{"name":"map","value":{"type":"variable","variable":"Mapi.argumentsTypes","scope":"game"}},{"name":"other_map","value":{"type":"variable","variable":"argumentsTypes","scope":"local"}}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"stringArgumentsTypes","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"stringArgumentsTypes","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"stringArgumentsTypes","scope":"local"}}],"operations":[{"action":"set_variable_append_list","values":[{"name":"variable","value":{"type":"variable","variable":"Mapi.stringArgumentsTypes","scope":"game"}},{"name":"list_1","value":{"type":"variable","variable":"Mapi.stringArgumentsTypes","scope":"game"}},{"name":"list_2","value":{"type":"variable","variable":"stringArgumentsTypes","scope":"local"}}]}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.load2","parsing":"plain"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"version","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"version","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_list_is_empty","values":[{"name":"list","value":{"type":"variable","variable":"exceptions","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)&#a6ff6e\u041c\u043e\u0434\u0443\u043b\u044c &#abc4d6%var_local(moduleName) &#7a8085[%var_local(version)] &#a6ff6e\u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_get_map_keys","values":[{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"exceptions","scope":"local"}}]},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"variable","variable":"exceptions","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}},{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}}]},{"action":"set_variable_set_component_hover","values":[{"name":"variable","value":{"type":"variable","variable":"msg","scope":"local"}},{"name":"component","value":{"type":"text","text":"%var(Mapi.prefix)&#ff6e6e\u041c\u043e\u0434\u0443\u043b\u044c &#abc4d6%var_local(moduleName) &#7a8085[%var_local(version)] &#ff6e6e\u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d","parsing":"legacy"}},{"name":"hover","value":{"type":"variable","variable":"exceptions","scope":"local"}}]},{"action":"set_variable_set_component_click","values":[{"name":"click_action","value":{"type":"enum","enum":"SUGGEST_COMMAND"}},{"name":"variable","value":{"type":"variable","variable":"msg","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"msg","scope":"local"}},{"name":"value","value":{"type":"text","text":"@about %var_local(moduleName)","parsing":"plain"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"msg","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.load3","parsing":"plain"}}]}]}]}]}],"values":[{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.load"},{"type":"function","position":5,"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commands","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"commands","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"commandsMap","scope":"local"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commandsList","scope":"local"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"commands","scope":"local"}}],"operations":[{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"commands","scope":"local"}}],"operations":[{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"commandData","scope":"local"}}],"operations":[{"action":"if_variable_text_starts_with","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"{","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"commandData","scope":"local"}}],"operations":[{"action":"set_variable_text","values":[{"name":"text","value":{"type":"array","values":[{"type":"text","text":"{","parsing":"plain"},{"type":"variable","variable":"commandData","scope":"local"},{"type":"text","text":"}","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}},{"name":"variable","value":{"type":"variable","variable":"commandData","scope":"local"}}]}],"is_inverted":"true"},{"action":"set_variable_parse_json","values":[{"name":"variable","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"json","value":{"type":"variable","variable":"commandData","scope":"local"}}]}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"module","parsing":"plain"}},{"name":"value","value":{"type":"variable","variable":"moduleName","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"command","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandsMap","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandsMap","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"commandData","scope":"local"}}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"aliases","parsing":"plain"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"aliases","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"aliases","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"alias","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"aliases","scope":"local"}}],"operations":[{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandsMap","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandsMap","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"alias","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"commandData","scope":"local"}}]}]}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"command","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commandsList","scope":"local"}}]}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"commands","parsing":"plain"}},{"name":"value","value":{"type":"variable","variable":"commandsMap","scope":"local"}}]}]},{"action":"else","values":[],"operations":[{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"commands","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandsList","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"commandsList","parsing":"plain"}},{"name":"default_value","value":{}}]}]}]},{"action":"set_variable_append_map","values":[{"name":"variable","value":{"type":"variable","variable":"commands","scope":"game"}},{"name":"map","value":{"type":"variable","variable":"commands","scope":"game"}},{"name":"other_map","value":{"type":"variable","variable":"commandsMap","scope":"local"}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"commandsList","parsing":"plain"}},{"name":"value","value":{"type":"variable","variable":"commandsList","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.depends","parsing":"plain"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"legacyCommands","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"legacyCommands","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"legacyCommands","scope":"local"}}],"operations":[{"action":"set_variable_split_text","values":[{"name":"variable","value":{"type":"variable","variable":"legacyCommands","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"legacyCommands","scope":"local"}},{"name":"delimiter","value":{}}]}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"legacyCommands","scope":"local"}}],"operations":[{"action":"set_variable_append_list","values":[{"name":"variable","value":{"type":"variable","variable":"legacyCommands","scope":"game"}},{"name":"list_1","value":{"type":"variable","variable":"legacyCommands","scope":"game"}},{"name":"list_2","value":{"type":"variable","variable":"legacyCommands","scope":"local"}}]}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"mapi=%var_local(moduleName)","scope":"game"}},{"name":"value","value":{"type":"variable","variable":"module","scope":"local"}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.load2"},{"type":"function","position":6,"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mi_versions_%var_local(moduleName)","scope":"save"}}],"operations":[{"action":"set_variable_get_map_keys","values":[{"name":"variable","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mi_versions_%var_local(moduleName)","scope":"save"}}]},{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"lastVersion","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"number","value":{"type":"number","number":0.0}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"release","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"release","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"last","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mi","scope":"save"}},{"name":"key","value":{"type":"variable","variable":"moduleName","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"last","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"last","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"lastVersion","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"lastRelease","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"last","scope":"local"}},{"name":"key","value":{"type":"text","text":"release","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_less_or_equals","values":[{"name":"value","value":{"type":"variable","variable":"release","scope":"local"}},{"name":"compare","value":{"type":"variable","variable":"lastRelease","scope":"local"}}],"operations":[{"action":"if_variable_not_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"variable","variable":"lastVersion","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"version","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"load","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"last","scope":"local"}},{"name":"key","value":{"type":"text","text":"load","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_text_starts_with","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"https:/","parsing":"plain"},{"type":"text","text":"http:/","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"load","scope":"local"}}],"operations":[{"action":"set_variable_set_component_click","values":[{"name":"click_action","value":{"type":"enum","enum":"SUGGEST_COMMAND"}},{"name":"variable","value":{"type":"variable","variable":"msg","scope":"local"}},{"name":"component","value":{"type":"text","text":"<hover:show_text:\"<#7a8085>\u041d\u043e\u0432\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f: <#abc4d6>%var_local(lastVersion)\\n<#7a8085>\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0434\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438.\">\u041e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0430 \u043d\u043e\u0432\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f <#abc4d6>%var_local(moduleName) <#7a8085>[\u043d\u0430\u0432\u0435\u0434\u0438]","parsing":"minimessage"}},{"name":"value","value":{"type":"text","text":"/module loadUrl %var_local(load)","parsing":"plain"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_set_component_click","values":[{"name":"variable","value":{"type":"variable","variable":"msg","scope":"local"}},{"name":"component","value":{"type":"text","text":"<hover:show_text:\"<#7a8085>\u041d\u043e\u0432\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f: <#abc4d6>%var_local(lastVersion)\\n<#7a8085>\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0434\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438.\">\u041e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0430 \u043d\u043e\u0432\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f <#abc4d6>%var_local(moduleName) <#7a8085>[\u043d\u0430\u0432\u0435\u0434\u0438]","parsing":"minimessage"}},{"name":"value","value":{"type":"text","text":"/module load %var_local(load)","parsing":"plain"}},{"name":"click_action","value":{"type":"enum","enum":"SUGGEST_COMMAND"}}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"Mapi.prefix","scope":"game"},{"type":"variable","variable":"msg","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]}]}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.load3"},{"type":"function","position":7,"operations":[{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"args","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]}],"is_inverted":"true"},{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"type":"variable","variable":"#args.length","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#args","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#filteredArgs","scope":"local"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"#options","scope":"local"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"set_variable_create_map_from_values","values":[{"name":"keys","value":{"type":"array","values":[{"type":"text","text":"build","parsing":"plain"},{},{},{"type":"text","text":"dev","parsing":"plain"},{},{},{"type":"text","text":"build_and_dev","parsing":"plain"},{},{},{"type":"text","text":"whitelist","parsing":"plain"},{},{},{},{},{}]}},{"name":"values","value":{"type":"array","values":[{"type":"text","text":"builder","parsing":"plain"},{},{},{"type":"text","text":"developer","parsing":"plain"},{},{},{"type":"text","text":"builder_and_developer","parsing":"plain"},{},{},{"type":"text","text":"whitelisted","parsing":"plain"},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"permissionAliases","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{"type":"variable","variable":"#index","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"args","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.prepareArg","parsing":"plain"}}]}]},{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"type":"variable","variable":"#filteredArgs.size","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"#filteredArgs","scope":"local"}}]},{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#filteredArgs.size","scope":"local"},{"type":"variable","variable":"#optionals","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#needArgs","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#minArguments","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#options","scope":"local"}},{"name":"key","value":{"type":"text","text":"minArguments","parsing":"plain"}},{"name":"default_value","value":{"type":"variable","variable":"#needArgs","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#maxArguments","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#options","scope":"local"}},{"name":"key","value":{"type":"text","text":"maxArguments","parsing":"plain"}},{"name":"default_value","value":{"type":"variable","variable":"#filteredArgs.size","scope":"local"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"#hasString","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#maxArguments","scope":"local"}},{"name":"value","value":{"type":"number","number":999.0}}]}]},{"action":"if_variable_in_range","values":[{"name":"value","value":{"type":"variable","variable":"command.args.size","scope":"local"}},{"name":"min","value":{"type":"variable","variable":"#minArguments","scope":"local"}},{"name":"max","value":{"type":"variable","variable":"#maxArguments","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandException","parsing":"plain"}}]}],"is_inverted":"true"},{"action":"if_variable_greater_or_equals","values":[{"name":"value","value":{"type":"variable","variable":"#filteredArgs.size","scope":"local"}},{"name":"compare","value":{"type":"number","number":1.0}}],"operations":[{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#filteredArgs.size","scope":"local"},{"type":"variable","variable":"#optionals","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#optionalscan","scope":"local"}}]},{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"command.args.size","scope":"local"},{"type":"variable","variable":"#optionalscan","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#optionalscan","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandArgs","parsing":"plain"}}]}]},{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"#","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"LOCAL"}},{"name":"match","value":{"type":"enum","enum":"NAME_CONTAINS"}}]}],"values":[{"name":"is_hidden","value":{"type":"enum","enum":"FALSE"}},{"name":"description","value":{"type":"array","values":[{"type":"text","text":"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u0438\u0437 &aargs","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"icon","value":{"type":"item","item":"{Count:1b,id:\"minecraft:ender_chest\",tag:{Enchantments:[{id:\"minecraft:aqua_affinity\",lvl:0s}],HideFlags:-1,display:{Lore:['{\"italic\":false,\"color\":\"white\",\"extra\":[{\"color\":\"green\",\"text\":\"args\"}],\"text\":\"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u0438\u0437 \"}','{\"text\":\"\"}','{\"italic\":false,\"color\":\"#7A8085\",\"text\":\"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u041f\u0440\u0430\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u043e\u0439, \u0447\u0442\u043e\u0431\u044b\"}','{\"italic\":false,\"color\":\"#7A8085\",\"text\":\"\u0442\u0435\u043b\u0435\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043a \u0444\u0443\u043d\u043a\u0446\u0438\u0438\"}'],Name:'{\"italic\":false,\"color\":\"yellow\",\"text\":\"Mapi.commandConstructor\"}'}}}"}}],"name":"Mapi.commandConstructor"},{"type":"function","position":8,"operations":[{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{"type":"variable","variable":"#data.index","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"#filteredArgs","scope":"local"}}],"operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"#skip","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"LOCAL"}}]},{"action":"if_variable_greater","values":[{"name":"value","value":{"type":"variable","variable":"command.args.size","scope":"local"}},{"name":"compare","value":{"type":"variable","variable":"#argIndex","scope":"local"}}],"operations":[{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"optional","parsing":"plain"}}],"operations":[{"action":"if_variable_greater_or_equals","values":[{"name":"value","value":{"type":"variable","variable":"#optionalscan","scope":"local"}},{"name":"compare","value":{"type":"number","number":1.0}}],"operations":[{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#optionalscan","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#optionalscan","scope":"local"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#skip","scope":"local"}},{"name":"value","value":{"type":"number","number":1.0}}]}]}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"#skip","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#type","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"type","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"#type","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"Mapi.stringArgumentsTypes","scope":"game"}}],"operations":[{"action":"set_variable_trim_list","values":[{"name":"variable","value":{"type":"variable","variable":"#defineBorder","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"start","value":{"type":"variable","variable":"#argIndex","scope":"local"}},{"name":"end","value":{"type":"variable","variable":"command.args.size","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#argumentDefiner","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"Mapi.argumentsTypes","scope":"game"}},{"name":"key","value":{"type":"variable","variable":"#type","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"variable","variable":"#argumentDefiner","scope":"local"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"#border","scope":"local"}}],"operations":[{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"type":"variable","variable":"#borderNum","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"#border","scope":"local"}}]},{"action":"if_variable_greater_or_equals","values":[{"name":"value","value":{"type":"variable","variable":"#borderNum","scope":"local"}},{"name":"compare","value":{"type":"number","number":1.0}}],"operations":[{"action":"set_variable_join_text","values":[{"name":"variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"#border","scope":"local"}},{"name":"separator","value":{"type":"text","text":" ","parsing":"plain"}},{"name":"prefix","value":{}},{"name":"postfix","value":{}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]},{"action":"set_variable_set_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"number","value":{"type":"variable","variable":"#argIndex","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}}]},{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#borderNum","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#repeats","scope":"local"}}]},{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"type":"number","number":1.0},{"type":"variable","variable":"#argIndex","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#del","scope":"local"}}]},{"action":"repeat_multi_times","values":[{"name":"variable","value":{}},{"name":"amount","value":{"type":"variable","variable":"#repeats","scope":"local"}}],"operations":[{"action":"set_variable_remove_list_value_at_index","values":[{"name":"variable","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"index","value":{"type":"variable","variable":"#del","scope":"local"}},{"name":"removed_value","value":{}}]}]},{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"#defineBorder","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"LOCAL"}}]}]}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"number","value":{"type":"variable","variable":"#argIndex","scope":"local"}},{"name":"default_value","value":{}}]}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.typeArg","parsing":"plain"}}]}],"is_inverted":"true"}]},{"action":"else","values":[],"operations":[{"action":"control_return_function","values":[]}]}]}],"values":[{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.commandArgs"},{"type":"function","position":9,"operations":[{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"#vArg","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"replace","value":{"type":"text","text":"&","parsing":"plain"}},{"name":"replacement","value":{"type":"text","text":"&&#abc4d6","parsing":"plain"}}]},{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"#vArg","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"#vArg","scope":"local"}},{"name":"replace","value":{"type":"text","text":"\\n","parsing":"legacy"}},{"name":"replacement","value":{"type":"text","text":"\\&#abc4d6n","parsing":"legacy"}}]},{"action":"set_variable_text","values":[{"name":"text","value":{"type":"array","values":[{"type":"text","text":"&#abc4d6","parsing":"plain"},{"type":"variable","variable":"#vArg","scope":"local"},{"type":"text","text":"&#ff6e6e","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}},{"name":"variable","value":{"type":"variable","variable":"#vArg","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#typeExecutor","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"Mapi.argumentsTypes","scope":"game"}},{"name":"key","value":{"type":"variable","variable":"#type","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#name","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"name","parsing":"plain"}},{"name":"default_value","value":{"type":"text","text":"arg%var_local(#data.index)","parsing":"plain"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"#typeExecutor","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"variable","variable":"#typeExecutor","scope":"local"}}]}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionArgument","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"#exceptionArgument","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.conditionArg","parsing":"plain"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"%var_local(#name)","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}}]},{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#argIndex","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#argIndex","scope":"local"}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.typeArg"},{"type":"function","position":10,"operations":[{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"String","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#type","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#border","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"#defineBorder","scope":"local"}}]}]},{"action":"else","values":[],"operations":[{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"Int","parsing":"plain"},{"type":"text","text":"Number","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#type","scope":"local"}}],"operations":[{"action":"controller_exception","values":[{"name":"exception_type","value":{"type":"enum","enum":"ERROR"}},{"name":"variable","value":{"type":"variable","variable":"#exception","scope":"local"}}],"operations":[{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#arg","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#argNum","scope":"local"}}]}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"#exception","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionArgument","scope":"local"}},{"name":"value","value":{"type":"text","text":"%var(Mapi.prefix)&#ff6e6e\u041d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e %var_local(#vArg)","parsing":"legacy"}}]}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"#argNum","scope":"local"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"Int","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#type","scope":"local"}}],"operations":[{"action":"set_variable_round","values":[{"name":"round_type","value":{"type":"enum","enum":"FLOOR"}},{"name":"variable","value":{"type":"variable","variable":"#argRounded","scope":"local"}},{"name":"number","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"precision","value":{}}]},{"action":"if_variable_not_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"variable","variable":"#arg","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#argRounded","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionArgument","scope":"local"}},{"name":"value","value":{"type":"text","text":"%var(Mapi.prefix)&#ff6e6e\u041d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u0446\u0435\u043b\u043e\u0435 \u0447\u0438\u0441\u043b\u043e %var_local(#vArg)","parsing":"legacy"}}]}]}]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"Player","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#type","scope":"local"}}],"operations":[{"action":"if_game_has_player","values":[{"name":"names_or_uuids","value":{"type":"array","values":[{"type":"variable","variable":"#arg","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}],"operations":[{"action":"select_player_by_name","values":[{"name":"name_or_uuid","value":{"type":"array","values":[{"type":"variable","variable":"#arg","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"value","value":{"type":"game_value","game_value":"name","selection":"{\"type\":\"current\"}"}}]},{"action":"select_reset","values":[]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionArgument","scope":"local"}},{"name":"value","value":{"type":"text","text":"%var(Mapi.prefix)&#ff6e6e\u0418\u0433\u0440\u043e\u043a %var_local(#vArg) \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d","parsing":"legacy"}}]}]}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.argumentsTypes"},{"type":"function","position":11,"operations":[{"action":"if_variable_is_type","values":[{"name":"value","value":{"type":"variable","variable":"#permission","scope":"local"}},{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}}],"operations":[{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"build_or_dev","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#permission","scope":"local"}}],"operations":[{"action":"if_player_has_privilege","values":[],"operations":[{"action":"if_player_has_privilege","values":[{"name":"privilege","value":{"type":"enum","enum":"DEVELOPER"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#hasNotPerm","scope":"local"}},{"name":"value","value":{"type":"number","number":1.0}}]}],"is_inverted":"true"}],"is_inverted":"true"}]},{"action":"else","values":[],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#permission","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"permissionAliases","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"#permission","scope":"local"}},{"name":"default_value","value":{"type":"variable","variable":"#permission","scope":"local"}}]},{"action":"if_player_has_privilege","values":[{"name":"privilege","value":{"type":"enum","enum":"BUILDER","variable":"#permission","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#hasNotPerm","scope":"local"}},{"name":"value","value":{"type":"number","number":1.0}}]}],"is_inverted":"true"}]},{"action":"if_variable_not_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"build_or_dev","parsing":"plain"},{"type":"text","text":"builder","parsing":"plain"},{"type":"text","text":"developer","parsing":"plain"},{"type":"text","text":"builder_and_developer","parsing":"plain"},{"type":"text","text":"whitelisted","parsing":"plain"},{"type":"text","text":"owner","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#permission","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#hasNotPerm","scope":"local"}},{"name":"value","value":{"type":"number","number":"1"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"%player%.permissions","scope":"save"}}],"operations":[{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"#permission","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"%player%.permissions","scope":"save"}}],"operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"#hasNotPerm","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"LOCAL"}}]}]}]}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.hasPermission"},{"type":"function","position":12,"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"#options","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionMessage","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#options","scope":"local"}},{"name":"key","value":{"type":"text","text":"exception","parsing":"plain"}},{"name":"default_value","value":{"type":"text","text":"%var(Mapi.prefix)&#ff6e6e\u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0443\u043a\u0430\u0437\u0430\u043d\u044b \u043d\u0435\u0432\u0435\u0440\u043d\u043e","parsing":"legacy"}}]},{"action":"if_variable_list_is_empty","values":[{"name":"list","value":{"type":"variable","variable":"#exceptionMessage","scope":"local"}}],"operations":[{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionMessage","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"#exceptionMessage","scope":"local"}},{"name":"replace","value":{"type":"text","text":"$scmd","parsing":"plain"}},{"name":"replacement","value":{"type":"variable","variable":"/command","scope":"local"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"#exceptionMessage","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"is_inverted":"true"},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionSound","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#options","scope":"local"}},{"name":"key","value":{"type":"text","text":"sound","parsing":"plain"}},{"name":"default_value","value":{"type":"sound","sound":"minecraft:dummy","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"#exceptionSound","scope":"local"}}],"operations":[{"action":"set_variable_to_json","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionSound","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"#exceptionSound","scope":"local"}}]}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionMessage","scope":"local"}},{"name":"value","value":{"type":"text","text":"%var(Mapi.prefix)&#ff6e6e\u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0443\u043a\u0430\u0437\u0430\u043d\u044b \u043d\u0435\u0432\u0435\u0440\u043d\u043e","parsing":"legacy"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionSound","scope":"local"}},{"name":"value","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}}]}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"variable","variable":"#exceptionSound","scope":"local"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"current\"}"}}]},{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"#","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"LOCAL"}},{"name":"match","value":{"type":"enum","enum":"NAME_CONTAINS"}}]},{"action":"control_end_thread","values":[]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.commandException"},{"type":"function","position":13,"operations":[{"action":"if_variable_is_type","values":[{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}}],"operations":[{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"keys","value":{}},{"name":"values","value":{}}]}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}}],"operations":[{"action":"if_variable_text_starts_with","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"{","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}}],"operations":[{"action":"set_variable_text","values":[{"name":"text","value":{"type":"array","values":[{"type":"text","text":"{","parsing":"plain"},{"type":"variable","variable":"#arg","scope":"local"},{"type":"text","text":"}","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]}],"is_inverted":"true"},{"action":"set_variable_parse_json","values":[{"name":"variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"json","value":{"type":"variable","variable":"#arg","scope":"local"}}]}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}}],"operations":[{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"key","value":{"type":"text","text":"optional","parsing":"plain"}}],"operations":[{"action":"set_variable_increment","values":[{"name":"variable","value":{"type":"variable","variable":"#optionals","scope":"local"}},{"name":"number","value":{}}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#type","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"key","value":{"type":"text","text":"type","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"Option","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#type","scope":"local"}}],"operations":[{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#args.length","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#args.length","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#permission","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"key","value":{"type":"text","text":"permission","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"#permission","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.hasPermission","parsing":"plain"}}]},{"action":"if_player_has_privilege","values":[{"name":"privilege","value":{"type":"enum","enum":"WHITELISTED"}}],"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"#hasNotPerm","scope":"local"}}],"operations":[{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"#commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"hide","parsing":"plain"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)&#ff6e6e\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)&#ff6e6e\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}]}],"is_inverted":"true"}]},{"action":"set_variable_append_map","values":[{"name":"variable","value":{"type":"variable","variable":"#options","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#options","scope":"local"}},{"name":"other_map","value":{"type":"variable","variable":"#arg","scope":"local"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"#arg","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#filteredArgs","scope":"local"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"#hasString","scope":"local"}}],"operations":[{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"#type","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"Mapi.stringArgumentsTypes","scope":"game"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#hasString","scope":"local"}},{"name":"value","value":{"type":"number","number":1.0}}]}]}],"is_inverted":"true"}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.prepareArg"},{"type":"function","position":14,"operations":[{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"equals","parsing":"plain"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#equals","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"equals","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_text_matches","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"#equals","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"match","value":{"type":"variable","variable":"#arg","scope":"local"}}],"operations":[{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"#equals","scope":"local"}}],"operations":[{"action":"set_variable_join_text","values":[{"name":"variable","value":{"type":"variable","variable":"#equals","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"#equals","scope":"local"}},{"name":"separator","value":{"type":"text","text":"&#ff6e6e, &#abc4d6","parsing":"legacy"}},{"name":"prefix","value":{}},{"name":"postfix","value":{}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)&#ff6e6e\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 %var_local(#vArg), \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435: &#abc4d6%var_local(#equals)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}],"is_inverted":"true"}]},{"action":"if_variable_is_type","values":[{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}}],"operations":[{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"in_range","parsing":"plain"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#range","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"in_range","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"#min","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"#range","scope":"local"}},{"name":"number","value":{"type":"number","number":"0"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"#max","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"#range","scope":"local"}},{"name":"number","value":{"type":"number","number":"1"}},{"name":"default_value","value":{}}]},{"action":"if_variable_in_range","values":[{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"min","value":{"type":"variable","variable":"#min","scope":"local"}},{"name":"max","value":{"type":"variable","variable":"#max","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)&#ff6e6e\u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442 %var_local(#vArg) \u043d\u0435 \u0432\u0445\u043e\u0434\u0438\u0442 \u0432 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043e\u0442","parsing":"legacy"},{"type":"variable","variable":"#min","scope":"local"},{"type":"text","text":"&#ff6e6e\u0434\u043e","parsing":"legacy"},{"type":"variable","variable":"#max","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}],"is_inverted":"true"}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"greater","parsing":"plain"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#greater","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"greater","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_less_or_equals","values":[{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"compare","value":{"type":"variable","variable":"#greater","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)&#ff6e6e\u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442 %var_local(#vArg) \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 &#abc4d6","parsing":"legacy"},{"type":"variable","variable":"#greater","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}]}]}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"greater_or_equals","parsing":"plain"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#greaterOrEquals","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"greater_or_equals","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_less","values":[{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"compare","value":{"type":"variable","variable":"#greaterOrEquals","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)&#ff6e6e\u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442 %var_local(#vArg) \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u0435\u043d &#abc4d6","parsing":"legacy"},{"type":"variable","variable":"#greaterOrEquals","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.conditionArg"},{"type":"function","position":15,"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"dependencies","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"dependencies","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"dependencies","scope":"local"}}],"operations":[{"action":"repeat_for_each_map_entry","values":[{"name":"key_variable","value":{"type":"variable","variable":"dependence","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"dependenceNeedVersion","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"dependencies","scope":"local"}}],"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mi_versions_%var_local(dependence)","scope":"save"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"dependenceNeedVersion","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"versions","scope":"local"}}]},{"action":"if_variable_text_starts_with","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":">=","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"dependenceNeedVersion","scope":"local"}}],"operations":[{"action":"set_variable_replace_text","values":[{"name":"first","value":{"type":"enum","enum":"FIRST"}},{"name":"variable","value":{"type":"variable","variable":">=dependenceNeedVersion","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"dependenceNeedVersion","scope":"local"}},{"name":"replace","value":{"type":"text","text":">=","parsing":"plain"}},{"name":"replacement","value":{}}]},{"action":"set_variable_get_map_keys","values":[{"name":"variable","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mi_versions_%var_local(dependence)","scope":"save"}}]},{"action":"set_variable_get_list_index_of_value","values":[{"name":"variable","value":{"type":"variable","variable":">=dependenceNeedVersion","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"value","value":{"type":"variable","variable":">=dependenceNeedVersion","scope":"local"}}]},{"action":"set_variable_increment","values":[{"name":"variable","value":{"type":"variable","variable":">=dependenceNeedVersion","scope":"local"}},{"name":"number","value":{}}]},{"action":"set_variable_trim_list","values":[{"name":"variable","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"start","value":{"type":"number","number":0.0}},{"name":"end","value":{"type":"variable","variable":">=dependenceNeedVersion","scope":"local"}}]}]},{"action":"if_variable_text_starts_with","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"~","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"dependenceNeedVersion","scope":"local"}}],"operations":[{"action":"set_variable_replace_text","values":[{"name":"first","value":{"type":"enum","enum":"FIRST"}},{"name":"variable","value":{"type":"variable","variable":"~dependenceNeedVersion","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"dependenceNeedVersion","scope":"local"}},{"name":"replace","value":{"type":"text","text":"~","parsing":"plain"}},{"name":"replacement","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"~dependenceNeedVersion","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mi_versions_%var_local(dependence)","scope":"save"}},{"name":"key","value":{"type":"variable","variable":"~dependenceNeedVersion","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_keys_by_value","values":[{"name":"variable","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mi_versions_%var_local(dependence)","scope":"save"}},{"name":"value","value":{"type":"variable","variable":"~dependenceNeedVersion","scope":"local"}},{"name":"default_value","value":{}},{"name":"find_mode","value":{"type":"enum","enum":"ALL"}}]}]},{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"needVersion","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"number","value":{"type":"number","number":0.0}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"mapi=%var_local(dependence)","scope":"game"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"dependenceVersion","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi=%var_local(dependence)","scope":"game"}},{"name":"key","value":{"type":"text","text":"version","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"dependenceVersion","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"versions","scope":"local"}}],"operations":[{"action":"set_variable_create_map_from_values","values":[{"name":"keys","value":{"type":"array","values":[{"type":"text","text":"expected","parsing":"plain"},{},{},{"type":"text","text":"but_got","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"dependenceNeedVersion","scope":"local"},{},{},{"type":"variable","variable":"dependenceVersion","scope":"local"},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.depends2","parsing":"plain"}}]}],"is_inverted":"true"}]},{"action":"else","values":[],"operations":[{"action":"set_variable_create_map_from_values","values":[{"name":"keys","value":{"type":"array","values":[{"type":"text","text":"expected","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"dependenceNeedVersion","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.depends2","parsing":"plain"}}]}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"key","value":{"type":"text","text":"&#ff6e6e\u041c\u043e\u0434\u0443\u043b\u044c &#abc4d6%var_local(dependence) &#ff6e6e\u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0432 \u0440\u0435\u0435\u0441\u0442\u0440\u0435","parsing":"legacy"}},{"name":"value","value":{"type":"text","text":"&#ff6e6e\u0423\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 &#abc4d6%var_local(dependence)&#ff6e6e \u0438\u043b\u0438 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0435\u0433\u043e \u0432 \u0440\u0435\u0435\u0441\u0442\u0440","parsing":"legacy"}}]}]}]}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"exceptions","parsing":"plain"}},{"name":"value","value":{"type":"variable","variable":"exceptions","scope":"local"}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.depends"},{"type":"function","position":16,"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"expected","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"key","value":{"type":"text","text":"expected","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"exception.lore","scope":"local"}},{"name":"value","value":{"type":"text","text":"&#ff6e6e\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c \u043c\u043e\u0434\u0443\u043b\u044c &#abc4d6%var_local(dependence) &#7a8085[%var_local(expected)]","parsing":"legacy"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u0417\u0430\u0439\u0434\u0438\u0442\u0435 \u0432 \u043a\u043e\u0434 &#7a8085(&#abc4d6/dev&#7a8085)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"key","value":{"type":"text","text":"but_got","parsing":"plain"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u0423\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0440\u043e\u043a\u0438 \u043c\u043e\u0434\u0443\u043b\u044f &#abc4d6%var_local(dependence)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mi","scope":"save"}},{"name":"key","value":{"type":"variable","variable":"dependence","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"needVersion","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"dependence.load","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"key","value":{"type":"text","text":"load","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_text_starts_with","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"https:/","parsing":"plain"},{"type":"text","text":"http:/","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"dependence.load","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"solutionCommand","scope":"local"}},{"name":"value","value":{"type":"text","text":"/module loadUrl %var_local(dependence.load)","parsing":"plain"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"solutionCommand","scope":"local"}},{"name":"value","value":{"type":"text","text":"/module load %var_local(dependence.load)","parsing":"plain"}}]}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 <#abc4d6>%var_local(solutionCommand)","parsing":"minimessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}}]},{"action":"set_variable_set_component_click","values":[{"name":"click_action","value":{"type":"enum","enum":"SUGGEST_COMMAND"}},{"name":"variable","value":{"type":"variable","variable":"exception.lore","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"exception.lore","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"solutionCommand","scope":"local"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u043c\u0438\u0440 &#7a8085(&#abc4d6/build&#7a8085, &#abc4d6/play&#7a8085)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{"type":"variable","variable":"i","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"entry","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"exception.solution","scope":"local"}}],"operations":[{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"text","text":"&#abc4d6%math(%var_local(i)+1). &#ff6e6e","parsing":"legacy"},{"type":"variable","variable":"entry","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"entry","scope":"local"}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]},{"action":"set_variable_set_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"exception.solution","scope":"local"}},{"name":"number","value":{"type":"variable","variable":"i","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"entry","scope":"local"}}]}]},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"variable","variable":"exception.solution","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}},{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}}]},{"action":"set_variable_set_component_hex_color","values":[{"name":"variable","value":{"type":"variable","variable":"exception.lore","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"exception.lore","scope":"local"}},{"name":"color","value":{"type":"text","text":"#ff6e6e","parsing":"plain"}}]},{"action":"set_variable_set_component_hex_color","values":[{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"exception.solution","scope":"local"}},{"name":"color","value":{"type":"text","text":"#ff6e6e","parsing":"plain"}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"exception.lore","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"exception.solution","scope":"local"}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.depends2"},{"type":"function","position":17,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"name: subcommand, equals: [help, debug, cmdprefix, cmdexceptions]","parsing":"plain"},{"type":"text","text":"optional: true","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: build_or_dev, exception: \"%var(Mapi.prefix)\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: &7$scmd &e<help&7|&edebug&7|&ecmdprefix&7|&ecmdexceptions>\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"help","parsing":"plain"},{"type":"text","text":"cmdexceptions","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subcommand","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.mapi_2","parsing":"plain"}}]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"debug","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subcommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: whitelist, exception: \"%var(Mapi.prefix)\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: &7$scmd debug\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}}],"operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"mapiDebug","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"SAVE"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f &#ff6e6e\u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u044b","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}},{"name":"value","value":{"type":"number","number":1.0}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f &#a6ff6e\u0432\u043a\u043b\u044e\u0447\u0435\u043d\u044b","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:ui.button.click","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"cmdprefix","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subcommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"text","text":"name: prefix","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, exception: \"%var(Mapi.prefix)\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: &7$scmd cmdprefix &e<\u043f\u0440\u0435\u0444\u0438\u043a\u0441>\", permission: whitelist","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"@","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"prefix","scope":"local"}}],"operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"cmdprefix","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"SAVE"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"pcmd","scope":"game"}},{"name":"value","value":{"type":"text","text":"@","parsing":"plain"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)&#a6ff6e\u041f\u0440\u0435\u0444\u0438\u043a\u0441 \u0434\u043b\u044f \u043a\u043e\u043c\u0430\u043d\u0434 \u0441\u0431\u0440\u043e\u0448\u0435\u043d","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"pcmd","scope":"game"}},{"name":"value","value":{"type":"variable","variable":"prefix","scope":"local"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"cmdprefix","scope":"save"}},{"name":"value","value":{"type":"variable","variable":"prefix","scope":"local"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)&#a6ff6e\u041f\u0440\u0435\u0444\u0438\u043a\u0441 \u0434\u043b\u044f \u043a\u043e\u043c\u0430\u043d\u0434 &7= &#abc4d6%var_local(prefix)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.experience_orb.pickup","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.mapiCommand"},{"type":"function","position":18,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"type: Int, name: page, optional: true","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, exception: \"%var(Mapi.prefix)\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: &7$scmd &b<\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430>\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"modules","scope":"local"}}]},{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"type":"variable","variable":"size","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"modules","scope":"game"}}]},{"action":"set_variable_round","values":[{"name":"round_type","value":{"type":"enum","enum":"CEIL"}},{"name":"variable","value":{"type":"variable","variable":"maxPage","scope":"local"}},{"name":"number","value":{"type":"number","number":"%math(%var_local(size)/25)"}},{"name":"precision","value":{}}]},{"action":"set_variable_clamp","values":[{"name":"variable","value":{"type":"variable","variable":"page","scope":"local"}},{"name":"number","value":{"type":"variable","variable":"page","scope":"local"}},{"name":"min","value":{"type":"number","number":1.0}},{"name":"max","value":{"type":"variable","variable":"maxPage","scope":"local"}}]},{"action":"set_variable_multiply","values":[{"name":"value","value":{"type":"array","values":[{"type":"number","number":25.0},{"type":"number","number":"%math(%var_local(page)-1)"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"start","scope":"local"}}]},{"action":"set_variable_clamp","values":[{"name":"variable","value":{"type":"variable","variable":"end","scope":"local"}},{"name":"number","value":{"type":"number","number":"%math(25*%var_local(page))"}},{"name":"min","value":{"type":"variable","variable":"start","scope":"local"}},{"name":"max","value":{"type":"variable","variable":"size","scope":"local"}}]},{"action":"set_variable_trim_list","values":[{"name":"variable","value":{"type":"variable","variable":"list","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"modules","scope":"game"}},{"name":"start","value":{"type":"variable","variable":"start","scope":"local"}},{"name":"end","value":{"type":"variable","variable":"end","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"list","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi=%var_local(module)","scope":"game"}},{"name":"key","value":{"type":"text","text":"description","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"description","scope":"local"}}],"operations":[{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"text","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: &#abc4d6","parsing":"legacy"},{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi=%var_local(module)","scope":"game"}},{"name":"key","value":{"type":"text","text":"authors","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"authors","scope":"local"}}],"operations":[{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"number","number":"%math(%length_local(authors))"}}],"operations":[{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"author","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"number","value":{"type":"number","number":"0"}},{"name":"default_value","value":{}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u0410\u0432\u0442\u043e\u0440: &#ffb657%var_local(author)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_remove_list_value_at_index","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"index","value":{"type":"number","number":"%math(%length_local(authors)-1)"}},{"name":"removed_value","value":{"type":"variable","variable":"last_author","scope":"local"}}]},{"action":"set_variable_join_text","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"separator","value":{"type":"text","text":"<white>, <#ffb657>","parsing":"minimessage"}},{"name":"prefix","value":{"type":"text","text":"<#ffb657>","parsing":"minimessage"}},{"name":"postfix","value":{"type":"text","text":"<white> \u0438 <#ffb657>%var_local(last_author)","parsing":"minimessage"}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u0410\u0432\u0442\u043e\u0440\u044b: %var_local(authors)","parsing":"minimessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}}]}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"version","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi=%var_local(module)","scope":"game"}},{"name":"key","value":{"type":"text","text":"version","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"release","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi=%var_local(module)","scope":"game"}},{"name":"key","value":{"type":"text","text":"release","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u0412\u0435\u0440\u0441\u0438\u044f: <#d877f2>%var_local(version)","parsing":"minimessage"},{"type":"text","text":"\u0412\u0435\u0440\u0441\u0438\u044f \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430: <#d877f2>%var_local(release)","parsing":"minimessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"color","scope":"local"}},{"name":"value","value":{"type":"text","text":"#a6ff6e","parsing":"plain"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi=%var_local(module)","scope":"game"}},{"name":"key","value":{"type":"text","text":"exceptions","parsing":"plain"}},{"name":"default_value","value":{"type":"text","text":"","parsing":"plain"}}]},{"action":"if_variable_list_is_empty","values":[{"name":"list","value":{"type":"variable","variable":"exceptions","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"color","scope":"local"}},{"name":"value","value":{"type":"text","text":"#ff6e6e","parsing":"plain"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"<#ff6e6e>\u041d\u0430\u0439\u0434\u0435\u043d\u043e <#abc4d6>%length_local(exceptions) <#ff6e6e>\u043f\u0440\u043e\u0431\u043b\u0435\u043c","parsing":"minimessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}}]}],"is_inverted":"true"},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"variable","variable":"module_info","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}},{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}}]},{"action":"set_variable_set_component_hover","values":[{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}},{"name":"component","value":{"type":"text","text":"&%var_local(color)%var_local(module)","parsing":"legacy"}},{"name":"hover","value":{"type":"variable","variable":"module_info","scope":"local"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"module_info","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"modules","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.wait","parsing":"plain"}}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"\u041c\u043e\u0434\u0443\u043b\u0438 (&#d877f2%var_local(page)&f/&#d877f2%var_local(maxPage)&f):","parsing":"legacy"},{"type":"variable","variable":"modules","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.modulesCommand"},{"type":"function","position":19,"operations":[{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"help","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subcommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"text","text":"name: category, equals: [general, commands, create_command]","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: build_or_dev, exception: \"%var(Mapi.prefix)\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: &7$scmd help &b<\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f>\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"&#7a8085- &#abc4d6\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0435 &#7a8085-","parsing":"legacy"},{"type":"text","text":"&f\u041f\u043e\u043c\u043e\u0449\u044c \u043f\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u0430\u043c: &7%var(pcmd)mapi help commands","parsing":"legacy"},{"type":"text","text":"&f\u041f\u043e\u043c\u043e\u0449\u044c \u043f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u044b: &7%var(pcmd)mapi help create_command","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"general","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"&#7a8085- &#abc4d6\u041a\u043e\u043c\u0430\u043d\u0434\u044b &#7a8085-","parsing":"legacy"},{"type":"text","text":"&7%var(pcmd)mapi help &b<\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f> &8-&f \u043f\u043e\u043c\u043e\u0449\u044c \u043f\u043e MAPI","parsing":"legacy"},{"type":"text","text":"&7%var(pcmd)mapi debug &8-&f \u0432\u043a\u043b/\u0432\u044b\u043a\u043b \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u044b","parsing":"legacy"},{"type":"text","text":"&7%var(pcmd)mapi cmdprefix &b<\u043f\u0440\u0435\u0444\u0438\u043a\u0441> &8-&f \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u0435\u0444\u0438\u043a\u0441 \u0434\u043b\u044f \u043a\u043e\u043c\u0430\u043d\u0434","parsing":"legacy"},{"type":"text","text":"&7%var(pcmd)about &b<\u043c\u043e\u0434\u0443\u043b\u044c> &8-&f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043c\u043e\u0434\u0443\u043b\u0435","parsing":"legacy"},{"type":"text","text":"&7%var(pcmd)modules &8-&f \u0441\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0445 \u043c\u043e\u0434\u0443\u043b\u0435\u0439","parsing":"legacy"},{"type":"text","text":"&7%var(pcmd)mi &8-&f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0440\u0435\u0435\u0441\u0442\u0440\u0430\u043c\u0438","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commands","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"&#7a8085- &#abc4d6\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b &#7a8085-","parsing":"legacy"},{"type":"text","text":"&f\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043c\u043e\u0434\u0443\u043b\u044f \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0441\u0432\u043e\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u044b. \u0427\u0442\u043e\u0431\u044b \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u0443, \u043d\u0443\u0436\u043d\u043e \u043d\u0430\u0447\u0430\u0442\u044c \u0435\u0451 \u0441\u043e \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u044b. \u041e\u043d \u0445\u0440\u0430\u043d\u0438\u0442\u0441\u044f \u0432 \u0438\u0433\u0440\u043e\u0432\u043e\u0439 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 &7pcmd&f, \u0438 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043e\u043d &7@&f.","parsing":"legacy"},{"type":"text","text":"\u041c\u043e\u0436\u043d\u043e \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u043a\u0430\u043a \u0438 \u043f\u0440\u043e\u0441\u0442\u043e \u0438\u043c\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0438\u043b\u0438 \u0435\u0451 \u043f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c, \u0442\u0430\u043a \u0438 \u043f\u043e\u043b\u043d\u043e\u0435 \u0435\u0451 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435, \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c \u043c\u043e\u0434\u0443\u043b\u044f:","parsing":"legacy"},{"type":"text","text":"&7@mymodule:mycommand&f. \u042d\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043b\u0435\u0437\u043d\u043e, \u043a\u043e\u0433\u0434\u0430 \u0432 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043c\u043e\u0434\u0443\u043b\u044f\u0445 \u0435\u0441\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0441 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c\u0438 \u0438\u043c\u0435\u043d\u0430\u043c\u0438, \u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u0439 \u0438\u0437 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u043e\u0433\u043e \u043c\u043e\u0434\u0443\u043b\u044f.","parsing":"legacy"},{"type":"text","text":"\u041f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u043c\u043e\u0436\u043d\u043e \u0443\u0437\u043d\u0430\u0442\u044c <#abc4d6><underlined><click:open_url:\"https://discord.com/channels/828678938070745129/1069298697415970968/1213921544233943040\">\u0437\u0434\u0435\u0441\u044c","parsing":"minimessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"create_command","scope":"local"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"%var_local(category)","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}}]},{"action":"control_end_thread","values":[]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"cmdexceptions","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subcommand","scope":"local"}}],"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiCommandExceptions","scope":"save"}}],"operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"mapiCommandExceptions","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"SAVE"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u041e\u0448\u0438\u0431\u043a\u0438 &#ff6e6e\u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u044b","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"mapiCommandExceptions","scope":"save"}},{"name":"value","value":{"type":"number","number":1.0}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u041e\u0448\u0438\u0431\u043a\u0438 &#a6ff6e\u0432\u043a\u043b\u044e\u0447\u0435\u043d\u044b","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:ui.button.click","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.mapi_2"},{"type":"function","position":20,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"name: moduleName","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, exception: \"%var(Mapi.prefix)\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: &7$scmd &e<\u043c\u043e\u0434\u0443\u043b\u044c>\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapi=%var_local(moduleName)","scope":"game"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"mapi=%var_local(moduleName)","scope":"game"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"version","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"version","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"release","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"release","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"authors","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"authors","scope":"local"}}],"operations":[{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"type":"variable","variable":"authors.size","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"authors.size","scope":"local"}}],"operations":[{"action":"set_variable_join_text","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"separator","value":{}},{"name":"prefix","value":{"type":"text","text":"&7\u2502&f \u0410\u0432\u0442\u043e\u0440: &#ffb657","parsing":"legacy"}},{"name":"postfix","value":{}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]}]},{"action":"if_variable_greater_or_equals","values":[{"name":"value","value":{"type":"variable","variable":"authors.size","scope":"local"}},{"name":"compare","value":{"type":"number","number":2.0}}],"operations":[{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"authors.size","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"authors.size","scope":"local"}}]},{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"lastAuthor","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"number","value":{"type":"variable","variable":"authors.size","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"set_variable_remove_list_value_at_index","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"index","value":{"type":"variable","variable":"authors.size","scope":"local"}},{"name":"removed_value","value":{}}]},{"action":"set_variable_join_text","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"separator","value":{"type":"text","text":"&f, &#ffb657","parsing":"legacy"}},{"name":"prefix","value":{"type":"text","text":"&7\u2502&f \u0410\u0432\u0442\u043e\u0440\u044b: &#ffb657","parsing":"legacy"}},{"name":"postfix","value":{"type":"text","text":"&f \u0438 &#ffb657%var_local(lastAuthor)","parsing":"legacy"}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"description","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"exceptions","parsing":"plain"}},{"name":"default_value","value":{"type":"text","text":"","parsing":"plain"}}]},{"action":"if_variable_list_is_empty","values":[{"name":"list","value":{"type":"variable","variable":"exceptions","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"status","scope":"local"}},{"name":"value","value":{"type":"text","text":"&#ff6e6e","parsing":"plain"}}]}],"is_inverted":"true"},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"status","scope":"local"}},{"name":"value","value":{"type":"text","text":"&#a6ff6e","parsing":"plain"}}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"&7\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e %var_local(status)%var_local(moduleName) &7\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"description","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"&7\u2502&f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:&#abc4d6","parsing":"legacy"},{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SPACES"}}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"&7\u2502&f \u0412\u0435\u0440\u0441\u0438\u044f: &#d877f2%var_local(version)","parsing":"legacy"},{"type":"text","text":"&7\u2502&f \u0412\u0435\u0440\u0441\u0438\u044f \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430: &#d877f2%var_local(release)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"authors","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"authors","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.version_2","parsing":"plain"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"&7\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)&#ff6e6e\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u043c\u043e\u0434\u0443\u043b\u044c &#ffb657%var_local(moduleName)&#ff6e6e, \u0441\u043f\u0438\u0441\u043e\u043a \u0432\u0441\u0435\u0445 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 - &#abc4d6%var(pcmd)modules","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.versionCommand"},{"type":"function","position":21,"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandsList","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"commandsList","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_list_is_empty","values":[{"name":"list","value":{"type":"variable","variable":"commandsList","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commands","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"commands","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commandsMessage","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"commandsList","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commands","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"if_player_has_privilege","values":[{"name":"privilege","value":{"type":"enum","enum":"WHITELISTED"}}],"operations":[{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"hide","parsing":"plain"}}],"operations":[{"action":"control_skip_iteration","values":[]}]}],"is_inverted":"true"},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"description","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"description","scope":"local"}}],"operations":[{"action":"set_variable_set_component_hex_color","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"color","value":{"type":"text","text":"#abc4d6","parsing":"plain"}}]},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"text","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:","parsing":"plain"},{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"executor","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"executor","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a: &#d877f2%var_local(executor)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"aliases","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"aliases","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"aliases","scope":"local"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u041f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c\u044b:","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"alias","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"aliases","scope":"local"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"&#7a8085-&#abc4d6 %var_local(alias)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]}]}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"hide","parsing":"plain"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"&#ff6e6e\u0421\u043a\u0440\u044b\u0442\u0430\u044f","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]}]},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"variable","variable":"hover","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"set_variable_set_component_hover","values":[{"name":"variable","value":{"type":"variable","variable":"component","scope":"local"}},{"name":"component","value":{"type":"text","text":"&#d877f2%var_local(command)","parsing":"legacy"}},{"name":"hover","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"set_variable_set_component_click","values":[{"name":"click_action","value":{"type":"enum","enum":"SUGGEST_COMMAND"}},{"name":"variable","value":{"type":"variable","variable":"component","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"component","scope":"local"}},{"name":"value","value":{"type":"text","text":"%var(pcmd)help %var_local(command)","parsing":"plain"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"component","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commandsMessage","scope":"local"}}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"&7\u2502&f \u041a\u043e\u043c\u0430\u043d\u0434\u044b &#7a8085(&#d877f2%length_local(commandsList)&#7a8085):","parsing":"legacy"},{"type":"variable","variable":"commandsMessage","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"is_inverted":"true"},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.version_3","parsing":"plain"}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.version_2"},{"type":"function","position":22,"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"contacts","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"contacts","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"contacts","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"&7\u2502&f \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"repeat_for_each_map_entry","values":[{"name":"key_variable","value":{"type":"variable","variable":"contact","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"contactClick","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"contacts","scope":"local"}}],"operations":[{"action":"set_variable_set_component_hover","values":[{"name":"variable","value":{"type":"variable","variable":"contact","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"contact","scope":"local"}},{"name":"hover","value":{"type":"text","text":"&#abc4d6&n%var_local(contactClick)","parsing":"legacy"}}]},{"action":"set_variable_set_component_click","values":[{"name":"click_action","value":{"type":"enum","enum":"OPEN_URL"}},{"name":"variable","value":{"type":"variable","variable":"contact","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"contact","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"contactClick","scope":"local"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"&7\u2502 &#7a8085-","parsing":"legacy"},{"type":"variable","variable":"contact","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]}]},{"action":"if_variable_list_is_empty","values":[{"name":"list","value":{"type":"variable","variable":"exceptions","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"&7\u2502&#a6ff6e \u041f\u0440\u043e\u0431\u043b\u0435\u043c \u043d\u0435 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u043e \u2714","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"&7\u2502&#ff6e6e \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u044b &#7a8085(&#abc4d6%length_local(exceptions)&#7a8085)&#abc4d6:","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"repeat_for_each_map_entry","values":[{"name":"key_variable","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"solution","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"exceptions","scope":"local"}}],"operations":[{"action":"set_variable_set_component_hover","values":[{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"hover","value":{"type":"variable","variable":"solution","scope":"local"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"&7\u2502 &#7a8085-","parsing":"legacy"},{"type":"variable","variable":"exception","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.version_3"},{"type":"function","position":23,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"name: subCommand, equals: [add, remove, clear, list]","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, maxArguments: 2, permission: dev, exception: \"%var(Mapi.prefix)\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: &7$scmd &b<add&7|&bremove&7|&bclear&7|&blist>\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"add","parsing":"plain"},{"type":"text","text":"remove","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subCommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"text","text":"name: legacyCommand","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: dev, exception: \"%var(Mapi.prefix)\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: &7$scmd %var_local(subCommand) &b<\u043a\u043e\u043c\u0430\u043d\u0434\u0430>\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"add","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subCommand","scope":"local"}}],"operations":[{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"legacyCommand","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"legacyCommand","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)&#a6ff6e\u041a\u043e\u043c\u0430\u043d\u0434\u0430 &#abc4d6%var_local(legacyCommand)&#a6ff6e \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432 \u0441\u043f\u0438\u0441\u043e\u043a","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.experience_orb.pickup","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}],"is_inverted":"true"},{"action":"else","values":[],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)&#ff6e6e\u0422\u0430\u043a\u0430\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043a\u0435","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_remove_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}},{"name":"list","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}},{"name":"value","value":{"type":"variable","variable":"legacyCommand","scope":"local"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)&#a6ff6e\u041a\u043e\u043c\u0430\u043d\u0434\u0430 &#abc4d6%var_local(legacyCommand)&#a6ff6e \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.experience_orb.pickup","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: dev, exception: \"%var(Mapi.prefix)\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: &7$scmd %var_local(subCommand)\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"clear","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subCommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)&#a6ff6e\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043c\u0430\u043d\u0434 \u043e\u0447\u0438\u0449\u0435\u043d","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.experience_orb.pickup","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_join_text","values":[{"name":"variable","value":{"type":"variable","variable":"legacyCommandsList","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}},{"name":"separator","value":{"type":"text","text":"&f, &#d877f2","parsing":"legacy"}},{"name":"prefix","value":{"type":"text","text":"Legacy-\u043a\u043e\u043c\u0430\u043d\u0434\u044b (&#d877f2%length_save(legacyCommandsList)&f): &#d877f2","parsing":"legacy"}},{"name":"postfix","value":{}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"legacyCommandsList","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.legacycommandCommand"},{"type":"function","position":24,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"name: cmd, optional: true","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, exception: \"%var(Mapi.prefix)\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: &7$scmd &b[<\u043a\u043e\u043c\u0430\u043d\u0434\u0430>]\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"cmd","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.helpCommand2","parsing":"plain"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commandsMessage","scope":"local"}}]},{"action":"repeat_for_each_map_entry","values":[{"name":"key_variable","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commands","scope":"game"}}],"operations":[{"action":"if_variable_map_value_equals","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"command","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"command","parsing":"plain"}}],"operations":[{"action":"if_player_has_privilege","values":[{"name":"privilege","value":{"type":"enum","enum":"WHITELISTED"}}],"operations":[{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"hide","parsing":"plain"}}],"operations":[{"action":"control_skip_iteration","values":[]}]}],"is_inverted":"true"},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"description","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"description","scope":"local"}}],"operations":[{"action":"set_variable_set_component_hex_color","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"color","value":{"type":"text","text":"#abc4d6","parsing":"plain"}}]},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"text","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:","parsing":"plain"},{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"executor","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"executor","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a: &#d877f2%var_local(executor)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"aliases","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"aliases","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"aliases","scope":"local"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u041f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c\u044b:","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"alias","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"aliases","scope":"local"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"&#7a8085-&#abc4d6 %var_local(alias)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]}]}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"hide","parsing":"plain"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"&#ff6e6e\u0421\u043a\u0440\u044b\u0442\u0430\u044f","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]}]},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"variable","variable":"hover","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"set_variable_set_component_hover","values":[{"name":"variable","value":{"type":"variable","variable":"component","scope":"local"}},{"name":"component","value":{"type":"text","text":"&#d877f2%var_local(command)","parsing":"legacy"}},{"name":"hover","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"set_variable_set_component_click","values":[{"name":"click_action","value":{"type":"enum","enum":"SUGGEST_COMMAND"}},{"name":"variable","value":{"type":"variable","variable":"component","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"component","scope":"local"}},{"name":"value","value":{"type":"text","text":"%var(pcmd)help %var_local(command)","parsing":"plain"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"component","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commandsMessage","scope":"local"}}]}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u041a\u043e\u043c\u0430\u043d\u0434\u044b &#7a8085(&#d877f2%length_local(commandsMessage)&#7a8085):","parsing":"legacy"},{"type":"variable","variable":"commandsMessage","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.helpCommand"},{"type":"function","position":25,"operations":[{"action":"set_variable_get_index_of_subtext","values":[{"name":"variable","value":{"type":"variable","variable":"index","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"cmd","scope":"local"}},{"name":"subtext","value":{"type":"text","text":":","parsing":"plain"}},{"name":"start_index","value":{}}]},{"action":"if_variable_greater","values":[{"name":"value","value":{"type":"variable","variable":"index","scope":"local"}},{"name":"compare","value":{"type":"number","number":0.0}}],"operations":[{"action":"set_variable_trim_text","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"cmd","scope":"local"}},{"name":"start","value":{"type":"number","number":0.0}},{"name":"end","value":{"type":"variable","variable":"index","scope":"local"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"mapi=%var_local(module)","scope":"game"}}],"operations":[{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"index","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"index","scope":"local"}}]},{"action":"set_variable_text_length","values":[{"name":"variable","value":{"type":"variable","variable":"length","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"cmd","scope":"local"}}]},{"action":"set_variable_trim_text","values":[{"name":"variable","value":{"type":"variable","variable":"moduleCommand","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"cmd","scope":"local"}},{"name":"start","value":{"type":"variable","variable":"index","scope":"local"}},{"name":"end","value":{"type":"variable","variable":"length","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commands","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi=%var_local(module)","scope":"game"}},{"name":"key","value":{"type":"text","text":"commands","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commands","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"moduleCommand","scope":"local"}},{"name":"default_value","value":{}}]}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commands","scope":"game"}},{"name":"key","value":{"type":"variable","variable":"cmd","scope":"local"}},{"name":"default_value","value":{}}]}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"commandData","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"command","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"executor","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"executor","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"module","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"aliases","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"aliases","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"description","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"&7\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e &#a6ff6e%var_local(command) &7\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"message","scope":"local"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"description","scope":"local"}}],"operations":[{"action":"set_variable_set_component_hex_color","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"color","value":{"type":"text","text":"#abc4d6","parsing":"plain"}}]},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"text","text":"&7\u2502&f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:","parsing":"legacy"},{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"message","scope":"local"}}]}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"&7\u2502&f \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a: &#d877f2%var_local(executor)","parsing":"legacy"},{"type":"text","text":"&7\u2502&f \u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u0430 \u0438\u0437 \u043c\u043e\u0434\u0443\u043b\u044f &#abc4d6%var_local(module)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"message","scope":"local"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"aliases","scope":"local"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"&7\u2502&f \u041f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c\u044b &#7a8085(&#d877f2%length_local(aliases)&#7a8085):","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"message","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"alias","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"aliases","scope":"local"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"&7\u2502 &#7a8085 - &#d877f2%var_local(alias)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"message","scope":"local"}}]}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"message","scope":"local"},{"type":"text","text":"&7\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}}]}]},{"action":"else","values":[],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)&#ff6e6e\u041a\u043e\u043c\u0430\u043d\u0434 &#abc4d6%var_local(cmd)&#ff6e6e \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.helpCommand2"},{"type":"function","position":26,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"name: action, equals: [add, remove, list, clear, reload]","parsing":"plain"},{"type":"text","text":"optional: true","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, exception: \"%var(Mapi.prefix)\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: &7$scmd &b<add&7|&bremove&7|&blist&7|&bclear&7|&breload>\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"add","parsing":"plain"},{"type":"text","text":"remove","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"action","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"text","text":"name: url","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, exception: \"%var(Mapi.prefix)\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: &7$scmd %var_local(action) &b<url>\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"add","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"action","scope":"local"}}],"operations":[{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"url","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"registries","scope":"save"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)&#ff6e6e\u0422\u0430\u043a\u043e\u0439 \u0440\u0435\u0435\u0441\u0442\u0440 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"url","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"registries","scope":"save"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"Mapi.prefix","scope":"game"},{"type":"text","text":"&#a6ff6e\u0420\u0435\u0435\u0441\u0442\u0440 &#abc4d6","parsing":"legacy"},{"type":"variable","variable":"url","scope":"local"},{"type":"text","text":"&#a6ff6e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d. \u0427\u0442\u043e\u0431\u044b \u0435\u0433\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 &#abc4d6%var(pcmd)mi reload","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"remove","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"action","scope":"local"}}],"operations":[{"action":"set_variable_remove_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"registries","scope":"save"}},{"name":"list","value":{"type":"variable","variable":"registries","scope":"save"}},{"name":"value","value":{"type":"variable","variable":"url","scope":"local"}},{"name":"remove_mode","value":{"type":"enum","enum":"FIRST"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"Mapi.prefix","scope":"game"},{"type":"text","text":"&#a6ff6e\u0420\u0435\u0435\u0441\u0442\u0440 &#abc4d6","parsing":"legacy"},{"type":"variable","variable":"url","scope":"local"},{"type":"text","text":"&#a6ff6e \u0443\u0434\u0430\u043b\u0451\u043d","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.experience_orb.pickup","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, exception: \"%var(Mapi.prefix)\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: &7$scmd %var_local(action)\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"clear","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"action","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"https://raw.githubusercontent.com/unidok/mi/main/registry.txt","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"registries","scope":"save"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)&#a6ff6e\u0420\u0435\u0435\u0441\u0442\u0440\u044b \u043e\u0447\u0438\u0449\u0435\u043d\u044b","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.experience_orb.pickup","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"list","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"action","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0420\u0435\u0435\u0441\u0442\u0440\u044b &#7a8085(&#abc4d6%length_save(registries)&#7a8085)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"url","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"registries","scope":"save"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"text","scope":"local"}},{"name":"value","value":{"type":"text","text":"<#ff6e6e><underlined><click:open_url:\"%var_local(url)\"><hover:show_text:\"<#ff6e6e>\u042d\u0442\u043e\u0442 \u0440\u0435\u0435\u0441\u0442\u0440 \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\\n<#7a8085>\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443\">%var_local(url)","parsing":"minimessage"}}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"loadedRegistries","scope":"save"}},{"name":"key","value":{"type":"variable","variable":"url","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"time","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"loadedRegistries","scope":"save"}},{"name":"key","value":{"type":"variable","variable":"url","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"text","scope":"local"}},{"name":"value","value":{"type":"text","text":"<#abc4d6><underlined><click:open_url:\"%var_local(url)\"><hover:show_text:\"<#7a8085>\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e: <#abc4d6>%var_local(time)\\n<#7a8085>\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443\">%var_local(url)","parsing":"minimessage"}}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"text","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"reload","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"action","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.loadRegistries","parsing":"plain"}}]}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.miCommand"},{"type":"function","position":27,"operations":[{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"type":"variable","variable":"maxRegistries","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"registries","scope":"save"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"loadedRegistries","scope":"save"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"mi","scope":"save"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"mi_versions_","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"SAVE"}},{"name":"match","value":{"type":"enum","enum":"NAME_CONTAINS"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"url","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"registries","scope":"save"}}],"operations":[{"action":"game_send_web_request","values":[{"name":"url","value":{"type":"variable","variable":"url","scope":"local"}},{"name":"content_body","value":{}}]}]},{"action":"repeat_multi_times","values":[{"name":"variable","value":{}},{"name":"amount","value":{"type":"number","number":200.0}}],"operations":[{"action":"if_variable_greater_or_equals","values":[{"name":"value","value":{"type":"text","text":"%length_save(loadedRegistries)","parsing":"plain"}},{"name":"compare","value":{"type":"variable","variable":"maxRegistries","scope":"local"}}],"operations":[{"action":"control_stop_repeat","values":[]}]},{"action":"control_wait","values":[{"name":"duration","value":{"type":"number","number":1.0}}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.loadRegistries"},{"type":"event","position":28,"operations":[{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"game_value","game_value":"url","selection":"null"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"registries","scope":"save"}}],"operations":[{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"response","scope":"local"}},{"name":"text","value":{"type":"game_value","game_value":"url_response","selection":"null"}},{"name":"replace","value":{"type":"text","text":"\\n","parsing":"plain"}},{"name":"replacement","value":{}}]},{"action":"set_variable_text","values":[{"name":"text","value":{"type":"array","values":[{"type":"text","text":"\"{Count:1,id:map,tag:{creative_plus:{handler:\\\"","parsing":"plain"},{"type":"variable","variable":"response","scope":"local"},{"type":"text","text":"\\\"}}}\"","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}},{"name":"variable","value":{"type":"variable","variable":"data","scope":"local"}}]},{"action":"controller_exception","values":[{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"exception_type","value":{"type":"enum","enum":"WARNING"}}],"operations":[{"action":"set_variable_get_template_code","values":[{"name":"return_type","value":{"type":"enum","enum":"MAP"}},{"name":"variable","value":{"type":"variable","variable":"mi","scope":"local"}},{"name":"template","value":{"type":"variable","variable":"data","scope":"local"}}]}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"url","scope":"local"}},{"name":"value","value":{"type":"game_value","game_value":"url","selection":"null"}}]},{"action":"select_player_by_conditional","values":[{"name":"privilege","value":{"type":"enum","enum":"DEVELOPER"}}],"conditional":{"action":"if_player_has_privilege","is_inverted":"false"}},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"Mapi.prefix","scope":"game"},{"type":"text","text":"<click:open_url:\"%var_local(url)\"><hover:show_text:\"<#abc4d6><underlined>%var_local(url)\"><#ff6e6e>\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0440\u0435\u0435\u0441\u0442\u0440 <#7a8085>[\u043d\u0430\u0432\u0435\u0434\u0438]","parsing":"minimessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_append_map","values":[{"name":"variable","value":{"type":"variable","variable":"mi","scope":"save"}},{"name":"map","value":{"type":"variable","variable":"mi","scope":"save"}},{"name":"other_map","value":{"type":"variable","variable":"mi","scope":"local"}}]},{"action":"repeat_for_each_map_entry","values":[{"name":"key_variable","value":{"type":"variable","variable":"moduleId","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mi","scope":"local"}}],"operations":[{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"repeat_for_each_map_entry","values":[{"name":"key_variable","value":{"type":"variable","variable":"version","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"versionInfo","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"release","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"versionInfo","scope":"local"}},{"name":"key","value":{"type":"text","text":"release","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"version","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"release","scope":"local"}}]}]},{"action":"set_variable_sort_any_map","values":[{"name":"variable","value":{"type":"variable","variable":"mi_versions_%var_local(moduleId)","scope":"save"}},{"name":"map","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"sort_order","value":{"type":"enum","enum":"DESCENDING"}},{"name":"sort_type","value":{"type":"enum","enum":"VALUES"}}]}]},{"action":"set_variable_format_timestamp","values":[{"name":"variable","value":{"type":"variable","variable":"time","scope":"local"}},{"name":"time","value":{"type":"game_value","game_value":"timestamp","selection":"null"}},{"name":"pattern","value":{}},{"name":"zone_id","value":{"type":"text","text":"GMT+3","parsing":"plain"}},{"name":"locale","value":{}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"loadedRegistries","scope":"save"}},{"name":"map","value":{"type":"variable","variable":"loadedRegistries","scope":"save"}},{"name":"key","value":{"type":"variable","variable":"url","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"time","scope":"local"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"Mapi.prefix","scope":"game"},{"type":"text","text":"<click:open_url:\"%var_local(url)\"><hover:show_text:\"<#abc4d6><underlined>%var_local(url)\"><#a6ff6e>\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0451\u043d \u0440\u0435\u0435\u0441\u0442\u0440 <#abc4d6>%length_save(loadedRegistries)/%length_save(registries)","parsing":"minimessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]}]}]}]}],"event":"world_web_response"}]}