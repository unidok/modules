{"handlers":[{"type":"event","position":0.0,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"emptyList","scope":"game"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"emptyMap","scope":"game"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiInstalled","scope":"save"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"mapiInstalled","scope":"save"}},{"name":"value","value":{"type":"number","number":1.0}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}},{"name":"value","value":{"type":"number","number":1.0}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"mapiCommandExceptions","scope":"save"}},{"name":"value","value":{"type":"number","number":1.0}}]}],"is_inverted":"true"},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.config","parsing":"plain"}}]},{"action":"repeat_forever","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"color","scope":"local"}},{"name":"value","value":{"type":"text","text":"\u0026#a6ff6e","parsing":"plain"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"COLOR","scope":"local"}},{"name":"value","value":{"type":"text","text":"GREEN","parsing":"plain"}}]},{"action":"if_variable_greater","values":[{"name":"value","value":{"type":"game_value","game_value":"cpu_usage","selection":"null"}},{"name":"compare","value":{"type":"number","number":50.0}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"color","scope":"local"}},{"name":"value","value":{"type":"text","text":"\u0026#ffb657","parsing":"plain"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"COLOR","scope":"local"}},{"name":"value","value":{"type":"text","text":"YELLOW","parsing":"plain"}}]}]},{"action":"if_variable_greater","values":[{"name":"value","value":{"type":"game_value","game_value":"cpu_usage","selection":"null"}},{"name":"compare","value":{"type":"number","number":100.0}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"color","scope":"local"}},{"name":"value","value":{"type":"text","text":"\u0026#ff6e6e","parsing":"plain"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"COLOR","scope":"local"}},{"name":"value","value":{"type":"text","text":"RED","parsing":"plain"}}]}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"tps","scope":"local"}},{"name":"value","value":{"type":"game_value","game_value":"server_tps","selection":"null"}}]},{"action":"set_variable_text","values":[{"name":"text","value":{"type":"array","values":[{"type":"text","text":"\u00267TPS: %var_local(color)%math(round(%var_local(tps),2))","parsing":"legacy"},{},{"type":"text","text":"\u00267 CPU: %var_local(color)","parsing":"legacy"},{"type":"game_value","game_value":"cpu_usage","selection":"null"},{"type":"text","text":"\u00267 MSPT: %var_local(color)","parsing":"legacy"},{"type":"game_value","game_value":"server_stopped_time","selection":"null"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"text","scope":"local"}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]},{"action":"select_player_by_conditional","values":[{"name":"variable","value":{"type":"variable","variable":"%selected%.displayLaggBar","scope":"game"}}],"conditional":{"action":"if_variable_exists","is_inverted":"false"}},{"action":"player_set_boss_bar","values":[{"name":"id","value":{"type":"text","text":"lagg","parsing":"plain"}},{"name":"title","value":{"type":"variable","variable":"text","scope":"local"}},{"name":"progress","value":{"type":"game_value","game_value":"cpu_usage","selection":"null"}},{"name":"color","value":{"type":"enum","enum":"GREEN","variable":"COLOR","scope":"local"}},{"name":"style","value":{"type":"enum","enum":"NOTCHED_12"}}]},{"action":"control_wait","values":[{"name":"duration","value":{"type":"number","number":20.0}}]}]}],"event":"world_start"},{"type":"function","position":1.0,"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"Mapi.prefix","scope":"game"}},{"name":"value","value":{"type":"text","text":"\u0026#ffb657MAPI \u00268» \u0026f","parsing":"legacy"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}}]}],"is_inverted":"true"},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"legacyCommands","scope":"game"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"cmdprefix","scope":"save"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"pcmd","scope":"game"}},{"name":"value","value":{"type":"text","text":"@","parsing":"plain"}}]}],"is_inverted":"true"},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"pcmd","scope":"game"}},{"name":"value","value":{"type":"variable","variable":"cmdprefix","scope":"save"}}]}]},{"action":"control_wait","values":[{"name":"duration","value":{"type":"number","number":1.0}}]},{"action":"select_player_by_conditional","values":[{"name":"privilege","value":{"type":"enum","enum":"DEVELOPER"}}],"conditional":{"action":"if_player_has_privilege","is_inverted":"false"}},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u00267\u0026oЗагрузка...","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"commands","scope":"game"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"command: mapi, executor: \"Mapi.mapiCommand\", description: \"Управление MAPI\"","parsing":"legacy"},{"type":"text","text":"command: modules, executor: \"Mapi.modulesCommand\", description: \"Список модулей\"","parsing":"legacy"},{"type":"text","text":"command: timings, executor: \"Mapi.timingsCommand\", aliases: [lagg, tpsbar], description: \"Отчёт нагрузки\"","parsing":"legacy"},{"type":"text","text":"command: version, executor: \"Mapi.versionCommand\", aliases: [about], description: \"Информация о модуле\"","parsing":"legacy"},{"type":"text","text":"command: legacycommand, executor: \"Mapi.legacycommandCommand\", aliases: [legacycmd, lcmd], description: \"Манипуляции со списком legacy-команд\"","parsing":"legacy"},{"type":"text","text":"command: help, executor: \"Mapi.helpCommand\", description: \"Помощь по командам\"","parsing":"legacy"},{"type":"text","text":"command: mi, executor: \"Mapi.miCommand\", description: \"Управление реестром MI\"","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commands","scope":"local"}}]},{"action":"set_variable_create_map_from_values","values":[{"name":"keys","value":{"type":"array","values":[{"type":"text","text":"Int","parsing":"plain"},{},{},{"type":"text","text":"Number","parsing":"plain"},{},{},{"type":"text","text":"String","parsing":"plain"},{},{},{"type":"text","text":"Player","parsing":"plain"},{},{},{},{},{}]}},{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Mapi.argumentsTypes","parsing":"plain"},{},{},{"type":"text","text":"Mapi.argumentsTypes","parsing":"plain"},{},{},{"type":"text","text":"Mapi.argumentsTypes","parsing":"plain"},{},{},{"type":"text","text":"Mapi.argumentsTypes","parsing":"plain"},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"argumentsTypes","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"String","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"stringArgumentsTypes","scope":"local"}}]},{"action":"set_variable_create_map_from_values","values":[{"name":"keys","value":{"type":"array","values":[{"type":"text","text":"\u00269Discord","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"values","value":{"type":"array","values":[{"type":"text","text":"https://discord.com/channels/828678938070745129/1069298697415970968","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"contacts","scope":"local"}}]},{"action":"set_variable_create_map_from_values","values":[{"name":"keys","value":{"type":"array","values":[{"type":"text","text":"version","parsing":"plain"},{"type":"text","text":"contacts","parsing":"plain"},{},{"type":"text","text":"release","parsing":"plain"},{"type":"text","text":"argumentsTypes","parsing":"plain"},{},{"type":"text","text":"commands","parsing":"plain"},{"type":"text","text":"stringArgumentsTypes","parsing":"plain"},{},{"type":"text","text":"authors","parsing":"plain"},{},{},{"type":"text","text":"description","parsing":"plain"},{},{}]}},{"name":"values","value":{"type":"array","values":[{"type":"text","text":"0.8","parsing":"plain"},{"type":"variable","variable":"contacts","scope":"local"},{},{"type":"number","number":17.0},{"type":"variable","variable":"argumentsTypes","scope":"local"},{},{"type":"variable","variable":"commands","scope":"local"},{"type":"variable","variable":"stringArgumentsTypes","scope":"local"},{},{"type":"text","text":"unidok","parsing":"plain"},{},{},{"type":"text","text":"Ядро для модулей","parsing":"legacy"},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"mapi\u003dmapi","scope":"game"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"modules","scope":"game"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"Mapi.argumentsTypes","scope":"game"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"Mapi.stringArgumentsTypes","scope":"game"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"registries","scope":"game"}}]},{"action":"controller_measure_time","values":[{"name":"duration","value":{"type":"enum","enum":"MILLISECONDS"}},{"name":"variable","value":{"type":"variable","variable":"loadTime","scope":"local"}}],"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"registries","scope":"save"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"https://raw.githubusercontent.com/unidok/mi/main/registry.txt","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"registries","scope":"save"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.loadRegistries","parsing":"plain"}}]}],"is_inverted":"true"},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.load","parsing":"plain"}}]}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eЗагружено \u0026#abc4d6%length(modules) \u0026#a6ff6eмодулей","parsing":"legacy"},{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eЗагрузка завершена \u0026#7a8085(\u0026#abc4d6%var_local(loadTime) мс\u0026#7a8085)","parsing":"legacy"},{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eПомощь - \u0026#abc4d6%var(pcmd)mapi help general","parsing":"legacy"},{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eОтключить эти сообщения - \u0026#abc4d6%var(pcmd)mapi debug","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.player.levelup","pitch":1.5,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"current\"}"}}]}]}],"values":[{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.config"},{"type":"event","position":2.0,"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"pcmd","scope":"game"}}],"operations":[{"action":"if_variable_text_starts_with","values":[{"name":"value","value":{"type":"game_value","game_value":"event_chat_message","selection":"null"}},{"name":"compare","value":{"type":"array","values":[{"type":"variable","variable":"pcmd","scope":"game"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"ignore_case","value":{"type":"enum","enum":"FALSE"}}],"operations":[{"action":"set_variable_split_text","values":[{"name":"variable","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"text","value":{"type":"game_value","game_value":"event_chat_message","selection":"null"}},{"name":"delimiter","value":{}}]},{"action":"set_variable_remove_list_value_at_index","values":[{"name":"removed_value","value":{"type":"variable","variable":"/command","scope":"local"}},{"name":"variable","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"index","value":{"type":"number","number":0.0}}]},{"action":"if_variable_text_matches","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"legacyCommands","scope":"game"},{"type":"variable","variable":"legacyCommandsList","scope":"save"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"match","value":{"type":"variable","variable":"/command","scope":"local"}},{"name":"ignore_case","value":{"type":"enum","enum":"FALSE"}}],"operations":[{"action":"game_cancel_event","values":[]},{"action":"set_variable_replace_text","values":[{"name":"first","value":{"type":"enum","enum":"FIRST"}},{"name":"ignore_case","value":{"type":"enum","enum":"FALSE"}},{"name":"variable","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"/command","scope":"local"}},{"name":"replace","value":{"type":"variable","variable":"pcmd","scope":"game"}},{"name":"replacement","value":{}}]},{"action":"set_variable_get_index_of_subtext","values":[{"name":"variable","value":{"type":"variable","variable":"#subtext","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"subtext","value":{"type":"text","text":":","parsing":"plain"}},{"name":"start_index","value":{}}]},{"action":"if_variable_greater_or_equals","values":[{"name":"value","value":{"type":"variable","variable":"#subtext","scope":"local"}},{"name":"compare","value":{"type":"number","number":0.0}}],"operations":[{"action":"set_variable_trim_text","values":[{"name":"variable","value":{"type":"variable","variable":"#module","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"start","value":{"type":"number","number":"0"}},{"name":"end","value":{"type":"variable","variable":"#subtext","scope":"local"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"mapi\u003d%var_local(#module)","scope":"game"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#commands","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi\u003d%var_local(#module)","scope":"game"}},{"name":"key","value":{"type":"text","text":"commands","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#subtext","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#subtext","scope":"local"}}]},{"action":"set_variable_text_length","values":[{"name":"variable","value":{"type":"variable","variable":"#command.length","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"command","scope":"local"}}]},{"action":"set_variable_trim_text","values":[{"name":"variable","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"start","value":{"type":"variable","variable":"#subtext","scope":"local"}},{"name":"end","value":{"type":"variable","variable":"#command.length","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#commandData","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#commands","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"default_value","value":{}}]}]}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"#commandData","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#commandData","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commands","scope":"game"}},{"name":"key","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"default_value","value":{}}]}],"is_inverted":"true"},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"#commandData","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#executor","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"executor","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"type":"variable","variable":"command.args.size","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"command.args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"variable","variable":"#executor","scope":"local"}}]}]},{"action":"else","values":[],"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiCommandExceptions","scope":"save"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eНеизвестная команда","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]},{"action":"else","values":[],"operations":[{"action":"game_uncancel_event","values":[]}]}]}],"is_inverted":"true"}]}]}],"event":"player_chat"},{"type":"function","position":3.0,"operations":[{"action":"if_variable_greater_or_equals","values":[{"name":"value","value":{"type":"game_value","game_value":"cpu_usage","selection":"null"}},{"name":"compare","value":{"type":"number","number":80.0}}],"operations":[{"action":"control_wait","values":[{"name":"duration","value":{"type":"number","number":2.0}}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{"type":"text","text":"Ждёт, если CPU \u003e\u003d 80","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"FALSE"}},{"name":"icon","value":{"type":"item","item":"{Count:1b,id:\"minecraft:tnt_minecart\",tag:{Enchantments:[{id:\"minecraft:aqua_affinity\",lvl:0s}],HideFlags:-1,display:{Lore:[\u0027{\"italic\":false,\"color\":\"white\",\"text\":\"Ждёт, если CPU \u003e\u003d 80\"}\u0027,\u0027{\"text\":\"\"}\u0027,\u0027{\"italic\":false,\"color\":\"#7A8085\",\"text\":\"Нажмите Правой кнопкой, чтобы\"}\u0027,\u0027{\"italic\":false,\"color\":\"#7A8085\",\"text\":\"телепортироваться к функции\"}\u0027],Name:\u0027{\"italic\":false,\"color\":\"yellow\",\"text\":\"Mapi.wait\"}\u0027}}}"}}],"name":"Mapi.wait"},{"type":"function","position":4.0,"operations":[{"action":"set_variable_get_list_variables","values":[{"name":"variable","value":{"type":"variable","variable":"variables","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"moduleName","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"variables","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.wait","parsing":"plain"}}]},{"action":"if_variable_text_starts_with","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"mapi\u003d","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"moduleName","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"%var_local(moduleName)","scope":"game"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"module","scope":"local"}}],"operations":[{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"moduleName","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"moduleName","scope":"local"}},{"name":"replace","value":{"type":"text","text":"mapi\u003d","parsing":"plain"}},{"name":"replacement","value":{}},{"name":"first","value":{"type":"enum","enum":"FIRST"}}]},{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"moduleName","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"modules","scope":"game"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"moduleName","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"modules","scope":"game"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"authors","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"authors","scope":"local"}}],"operations":[{"action":"set_variable_split_text","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"delimiter","value":{}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"authors","parsing":"plain"}},{"name":"value","value":{"type":"variable","variable":"authors","scope":"local"}}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"argumentsTypes","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"argumentsTypes","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"argumentsTypes","scope":"local"}}],"operations":[{"action":"set_variable_append_map","values":[{"name":"variable","value":{"type":"variable","variable":"Mapi.argumentsTypes","scope":"game"}},{"name":"map","value":{"type":"variable","variable":"Mapi.argumentsTypes","scope":"game"}},{"name":"other_map","value":{"type":"variable","variable":"argumentsTypes","scope":"local"}}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"stringArgumentsTypes","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"stringArgumentsTypes","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"stringArgumentsTypes","scope":"local"}}],"operations":[{"action":"set_variable_append_list","values":[{"name":"variable","value":{"type":"variable","variable":"Mapi.stringArgumentsTypes","scope":"game"}},{"name":"list_1","value":{"type":"variable","variable":"Mapi.stringArgumentsTypes","scope":"game"}},{"name":"list_2","value":{"type":"variable","variable":"stringArgumentsTypes","scope":"local"}}]}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.load2","parsing":"plain"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"version","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"version","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_list_is_empty","values":[{"name":"list","value":{"type":"variable","variable":"exceptions","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eМодуль \u0026#abc4d6%var_local(moduleName) \u0026#7a8085[%var_local(version)] \u0026#a6ff6eзагружен","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_get_map_keys","values":[{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"exceptions","scope":"local"}}]},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"variable","variable":"exceptions","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}},{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}}]},{"action":"set_variable_set_component_hover","values":[{"name":"variable","value":{"type":"variable","variable":"msg","scope":"local"}},{"name":"component","value":{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eМодуль \u0026#abc4d6%var_local(moduleName) \u0026#7a8085[%var_local(version)] \u0026#ff6e6eзагружен","parsing":"legacy"}},{"name":"hover","value":{"type":"variable","variable":"exceptions","scope":"local"}}]},{"action":"set_variable_set_component_click","values":[{"name":"click_action","value":{"type":"enum","enum":"SUGGEST_COMMAND"}},{"name":"variable","value":{"type":"variable","variable":"msg","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"msg","scope":"local"}},{"name":"value","value":{"type":"text","text":"@about %var_local(moduleName)","parsing":"plain"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"msg","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]}]}]}],"is_inverted":"true"}]}]}]}],"values":[{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.load"},{"type":"function","position":5.0,"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commands","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"commands","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"commandsMap","scope":"local"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commandsList","scope":"local"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"commands","scope":"local"}}],"operations":[{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"commands","scope":"local"}}],"operations":[{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"commandData","scope":"local"}}],"operations":[{"action":"if_variable_text_starts_with","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"{","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"commandData","scope":"local"}}],"operations":[{"action":"set_variable_text","values":[{"name":"text","value":{"type":"array","values":[{"type":"text","text":"{","parsing":"plain"},{"type":"variable","variable":"commandData","scope":"local"},{"type":"text","text":"}","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}},{"name":"variable","value":{"type":"variable","variable":"commandData","scope":"local"}}]}],"is_inverted":"true"},{"action":"set_variable_parse_json","values":[{"name":"variable","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"json","value":{"type":"variable","variable":"commandData","scope":"local"}}]}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"module","parsing":"plain"}},{"name":"value","value":{"type":"variable","variable":"moduleName","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"command","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandsMap","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandsMap","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"commandData","scope":"local"}}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"aliases","parsing":"plain"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"aliases","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"aliases","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"alias","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"aliases","scope":"local"}}],"operations":[{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandsMap","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandsMap","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"alias","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"commandData","scope":"local"}}]}]}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"command","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commandsList","scope":"local"}}]}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"commands","parsing":"plain"}},{"name":"value","value":{"type":"variable","variable":"commandsMap","scope":"local"}}]}]},{"action":"else","values":[],"operations":[{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"commands","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandsList","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"commandsList","parsing":"plain"}},{"name":"default_value","value":{}}]}]}]},{"action":"set_variable_append_map","values":[{"name":"variable","value":{"type":"variable","variable":"commands","scope":"game"}},{"name":"map","value":{"type":"variable","variable":"commands","scope":"game"}},{"name":"other_map","value":{"type":"variable","variable":"commandsMap","scope":"local"}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"commandsList","parsing":"plain"}},{"name":"value","value":{"type":"variable","variable":"commandsList","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.depends","parsing":"plain"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"legacyCommands","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"legacyCommands","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"legacyCommands","scope":"local"}}],"operations":[{"action":"set_variable_split_text","values":[{"name":"variable","value":{"type":"variable","variable":"legacyCommands","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"legacyCommands","scope":"local"}},{"name":"delimiter","value":{}}]}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"legacyCommands","scope":"local"}}],"operations":[{"action":"set_variable_append_list","values":[{"name":"variable","value":{"type":"variable","variable":"legacyCommands","scope":"game"}},{"name":"list_1","value":{"type":"variable","variable":"legacyCommands","scope":"game"}},{"name":"list_2","value":{"type":"variable","variable":"legacyCommands","scope":"local"}}]}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"mapi\u003d%var_local(moduleName)","scope":"game"}},{"name":"value","value":{"type":"variable","variable":"module","scope":"local"}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.load2"},{"type":"function","position":6.0,"operations":[{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"args","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]}],"is_inverted":"true"},{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"type":"variable","variable":"#args.length","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#args","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#filteredArgs","scope":"local"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"#options","scope":"local"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"set_variable_create_map_from_values","values":[{"name":"keys","value":{"type":"array","values":[{"type":"text","text":"build","parsing":"plain"},{},{},{"type":"text","text":"dev","parsing":"plain"},{},{},{"type":"text","text":"build_and_dev","parsing":"plain"},{},{},{"type":"text","text":"whitelist","parsing":"plain"},{},{},{},{},{}]}},{"name":"values","value":{"type":"array","values":[{"type":"text","text":"builder","parsing":"plain"},{},{},{"type":"text","text":"developer","parsing":"plain"},{},{},{"type":"text","text":"builder_and_developer","parsing":"plain"},{},{},{"type":"text","text":"whitelisted","parsing":"plain"},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"permissionAliases","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{"type":"variable","variable":"#index","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"args","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.prepareArg","parsing":"plain"}}]}]},{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"type":"variable","variable":"#filteredArgs.size","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"#filteredArgs","scope":"local"}}]},{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#filteredArgs.size","scope":"local"},{"type":"variable","variable":"#optionals","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#needArgs","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#minArguments","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#options","scope":"local"}},{"name":"key","value":{"type":"text","text":"minArguments","parsing":"plain"}},{"name":"default_value","value":{"type":"variable","variable":"#needArgs","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#maxArguments","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#options","scope":"local"}},{"name":"key","value":{"type":"text","text":"maxArguments","parsing":"plain"}},{"name":"default_value","value":{"type":"variable","variable":"#filteredArgs.size","scope":"local"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"#hasString","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#maxArguments","scope":"local"}},{"name":"value","value":{"type":"number","number":999.0}}]}]},{"action":"if_variable_in_range","values":[{"name":"value","value":{"type":"variable","variable":"command.args.size","scope":"local"}},{"name":"min","value":{"type":"variable","variable":"#minArguments","scope":"local"}},{"name":"max","value":{"type":"variable","variable":"#maxArguments","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandException","parsing":"plain"}}]}],"is_inverted":"true"},{"action":"if_variable_greater_or_equals","values":[{"name":"value","value":{"type":"variable","variable":"#filteredArgs.size","scope":"local"}},{"name":"compare","value":{"type":"number","number":1.0}}],"operations":[{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#filteredArgs.size","scope":"local"},{"type":"variable","variable":"#optionals","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#optionalscan","scope":"local"}}]},{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"command.args.size","scope":"local"},{"type":"variable","variable":"#optionalscan","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#optionalscan","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandArgs","parsing":"plain"}}]}]},{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"#","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"LOCAL"}},{"name":"match","value":{"type":"enum","enum":"NAME_CONTAINS"}}]}],"values":[{"name":"is_hidden","value":{"type":"enum","enum":"FALSE"}},{"name":"description","value":{"type":"array","values":[{"type":"text","text":"Проверяет аргументы из \u0026aargs","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"icon","value":{"type":"item","item":"{Count:1b,id:\"minecraft:ender_chest\",tag:{Enchantments:[{id:\"minecraft:aqua_affinity\",lvl:0s}],HideFlags:-1,display:{Lore:[\u0027{\"italic\":false,\"color\":\"white\",\"extra\":[{\"color\":\"green\",\"text\":\"args\"}],\"text\":\"Проверяет аргументы из \"}\u0027,\u0027{\"text\":\"\"}\u0027,\u0027{\"italic\":false,\"color\":\"#7A8085\",\"text\":\"Нажмите Правой кнопкой, чтобы\"}\u0027,\u0027{\"italic\":false,\"color\":\"#7A8085\",\"text\":\"телепортироваться к функции\"}\u0027],Name:\u0027{\"italic\":false,\"color\":\"yellow\",\"text\":\"Mapi.commandConstructor\"}\u0027}}}"}}],"name":"Mapi.commandConstructor"},{"type":"function","position":7.0,"operations":[{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{"type":"variable","variable":"#data.index","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"#filteredArgs","scope":"local"}}],"operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"#skip","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"LOCAL"}}]},{"action":"if_variable_greater","values":[{"name":"value","value":{"type":"variable","variable":"command.args.size","scope":"local"}},{"name":"compare","value":{"type":"variable","variable":"#argIndex","scope":"local"}}],"operations":[{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"optional","parsing":"plain"}}],"operations":[{"action":"if_variable_greater_or_equals","values":[{"name":"value","value":{"type":"variable","variable":"#optionalscan","scope":"local"}},{"name":"compare","value":{"type":"number","number":1.0}}],"operations":[{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#optionalscan","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#optionalscan","scope":"local"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#skip","scope":"local"}},{"name":"value","value":{"type":"number","number":1.0}}]}]}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"#skip","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#type","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"type","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"#type","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"Mapi.stringArgumentsTypes","scope":"game"}}],"operations":[{"action":"set_variable_trim_list","values":[{"name":"variable","value":{"type":"variable","variable":"#defineBorder","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"start","value":{"type":"variable","variable":"#argIndex","scope":"local"}},{"name":"end","value":{"type":"variable","variable":"command.args.size","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#argumentDefiner","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"Mapi.argumentsTypes","scope":"game"}},{"name":"key","value":{"type":"variable","variable":"#type","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"variable","variable":"#argumentDefiner","scope":"local"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"#border","scope":"local"}}],"operations":[{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"type":"variable","variable":"#borderNum","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"#border","scope":"local"}}]},{"action":"if_variable_greater_or_equals","values":[{"name":"value","value":{"type":"variable","variable":"#borderNum","scope":"local"}},{"name":"compare","value":{"type":"number","number":1.0}}],"operations":[{"action":"set_variable_join_text","values":[{"name":"variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"#border","scope":"local"}},{"name":"separator","value":{"type":"text","text":" ","parsing":"plain"}},{"name":"prefix","value":{}},{"name":"postfix","value":{}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]},{"action":"set_variable_set_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"number","value":{"type":"variable","variable":"#argIndex","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}}]},{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#borderNum","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#repeats","scope":"local"}}]},{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"type":"number","number":1.0},{"type":"variable","variable":"#argIndex","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#del","scope":"local"}}]},{"action":"repeat_multi_times","values":[{"name":"variable","value":{}},{"name":"amount","value":{"type":"variable","variable":"#repeats","scope":"local"}}],"operations":[{"action":"set_variable_remove_list_value_at_index","values":[{"name":"variable","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"index","value":{"type":"variable","variable":"#del","scope":"local"}},{"name":"removed_value","value":{}}]}]},{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"#defineBorder","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"LOCAL"}}]}]}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"number","value":{"type":"variable","variable":"#argIndex","scope":"local"}},{"name":"default_value","value":{}}]}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.typeArg","parsing":"plain"}}]}],"is_inverted":"true"}]},{"action":"else","values":[],"operations":[{"action":"control_return_function","values":[]}]}]}],"values":[{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.commandArgs"},{"type":"function","position":8.0,"operations":[{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"#vArg","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"replace","value":{"type":"text","text":"\u0026","parsing":"plain"}},{"name":"replacement","value":{"type":"text","text":"\u0026\u0026#abc4d6","parsing":"plain"}}]},{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"#vArg","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"#vArg","scope":"local"}},{"name":"replace","value":{"type":"text","text":"\\n","parsing":"legacy"}},{"name":"replacement","value":{"type":"text","text":"\\\u0026#abc4d6n","parsing":"legacy"}}]},{"action":"set_variable_text","values":[{"name":"text","value":{"type":"array","values":[{"type":"text","text":"\u0026#abc4d6","parsing":"plain"},{"type":"variable","variable":"#vArg","scope":"local"},{"type":"text","text":"\u0026#ff6e6e","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}},{"name":"variable","value":{"type":"variable","variable":"#vArg","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#typeExecutor","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"Mapi.argumentsTypes","scope":"game"}},{"name":"key","value":{"type":"variable","variable":"#type","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#name","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"name","parsing":"plain"}},{"name":"default_value","value":{"type":"text","text":"arg%var_local(#data.index)","parsing":"plain"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"#typeExecutor","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"variable","variable":"#typeExecutor","scope":"local"}}]}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionArgument","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"#exceptionArgument","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.conditionArg","parsing":"plain"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"%var_local(#name)","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}}]},{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#argIndex","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#argIndex","scope":"local"}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.typeArg"},{"type":"function","position":9.0,"operations":[{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"String","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#type","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#border","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"#defineBorder","scope":"local"}}]}]},{"action":"else","values":[],"operations":[{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"Int","parsing":"plain"},{"type":"text","text":"Number","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#type","scope":"local"}}],"operations":[{"action":"controller_exception","values":[{"name":"exception_type","value":{"type":"enum","enum":"ERROR"}},{"name":"variable","value":{"type":"variable","variable":"#exception","scope":"local"}}],"operations":[{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#arg","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#argNum","scope":"local"}}]}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"#exception","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionArgument","scope":"local"}},{"name":"value","value":{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eНеверное число %var_local(#vArg)","parsing":"legacy"}}]}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"#argNum","scope":"local"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"Int","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#type","scope":"local"}}],"operations":[{"action":"set_variable_round","values":[{"name":"round_type","value":{"type":"enum","enum":"FLOOR"}},{"name":"variable","value":{"type":"variable","variable":"#argRounded","scope":"local"}},{"name":"number","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"precision","value":{}}]},{"action":"if_variable_not_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"variable","variable":"#arg","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#argRounded","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionArgument","scope":"local"}},{"name":"value","value":{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eНеверное целое число %var_local(#vArg)","parsing":"legacy"}}]}]}]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"Player","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#type","scope":"local"}}],"operations":[{"action":"if_game_has_player","values":[{"name":"names_or_uuids","value":{"type":"array","values":[{"type":"variable","variable":"#arg","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}],"operations":[{"action":"select_player_by_name","values":[{"name":"name_or_uuid","value":{"type":"array","values":[{"type":"variable","variable":"#arg","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"value","value":{"type":"game_value","game_value":"name","selection":"{\"type\":\"current\"}"}}]},{"action":"select_reset","values":[]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionArgument","scope":"local"}},{"name":"value","value":{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eИгрок %var_local(#vArg) не найден","parsing":"legacy"}}]}]}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.argumentsTypes"},{"type":"function","position":10.0,"operations":[{"action":"if_variable_is_type","values":[{"name":"value","value":{"type":"variable","variable":"#permission","scope":"local"}},{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}}],"operations":[{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"build_or_dev","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#permission","scope":"local"}}],"operations":[{"action":"if_player_has_privilege","values":[],"operations":[{"action":"if_player_has_privilege","values":[{"name":"privilege","value":{"type":"enum","enum":"DEVELOPER"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#hasNotPerm","scope":"local"}},{"name":"value","value":{"type":"number","number":1.0}}]}],"is_inverted":"true"}],"is_inverted":"true"}]},{"action":"else","values":[],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#permission","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"permissionAliases","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"#permission","scope":"local"}},{"name":"default_value","value":{"type":"variable","variable":"#permission","scope":"local"}}]},{"action":"if_player_has_privilege","values":[{"name":"privilege","value":{"type":"enum","enum":"BUILDER","variable":"#permission","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#hasNotPerm","scope":"local"}},{"name":"value","value":{"type":"number","number":1.0}}]}],"is_inverted":"true"}]},{"action":"if_variable_not_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"build_or_dev","parsing":"plain"},{"type":"text","text":"builder","parsing":"plain"},{"type":"text","text":"developer","parsing":"plain"},{"type":"text","text":"builder_and_developer","parsing":"plain"},{"type":"text","text":"whitelisted","parsing":"plain"},{"type":"text","text":"owner","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#permission","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#hasNotPerm","scope":"local"}},{"name":"value","value":{"type":"number","number":"1"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"%player%.permissions","scope":"save"}}],"operations":[{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"#permission","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"%player%.permissions","scope":"save"}}],"operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"#hasNotPerm","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"LOCAL"}}]}]}]}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.hasPermission"},{"type":"function","position":11.0,"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"#options","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionMessage","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#options","scope":"local"}},{"name":"key","value":{"type":"text","text":"exception","parsing":"plain"}},{"name":"default_value","value":{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eАргументы команды указаны неверно","parsing":"legacy"}}]},{"action":"if_variable_list_is_empty","values":[{"name":"list","value":{"type":"variable","variable":"#exceptionMessage","scope":"local"}}],"operations":[{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionMessage","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"#exceptionMessage","scope":"local"}},{"name":"replace","value":{"type":"text","text":"$scmd","parsing":"plain"}},{"name":"replacement","value":{"type":"variable","variable":"/command","scope":"local"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"#exceptionMessage","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"is_inverted":"true"},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionSound","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#options","scope":"local"}},{"name":"key","value":{"type":"text","text":"sound","parsing":"plain"}},{"name":"default_value","value":{"type":"sound","sound":"minecraft:dummy","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"#exceptionSound","scope":"local"}}],"operations":[{"action":"set_variable_to_json","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionSound","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"#exceptionSound","scope":"local"}}]}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionMessage","scope":"local"}},{"name":"value","value":{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eАргументы команды указаны неверно","parsing":"legacy"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionSound","scope":"local"}},{"name":"value","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}}]}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"variable","variable":"#exceptionSound","scope":"local"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"current\"}"}}]},{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"#","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"LOCAL"}},{"name":"match","value":{"type":"enum","enum":"NAME_CONTAINS"}}]},{"action":"control_end_thread","values":[]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.commandException"},{"type":"function","position":12.0,"operations":[{"action":"if_variable_is_type","values":[{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}}],"operations":[{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"keys","value":{}},{"name":"values","value":{}}]}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}}],"operations":[{"action":"if_variable_text_starts_with","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"{","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}}],"operations":[{"action":"set_variable_text","values":[{"name":"text","value":{"type":"array","values":[{"type":"text","text":"{","parsing":"plain"},{"type":"variable","variable":"#arg","scope":"local"},{"type":"text","text":"}","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]}],"is_inverted":"true"},{"action":"set_variable_parse_json","values":[{"name":"variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"json","value":{"type":"variable","variable":"#arg","scope":"local"}}]}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}}],"operations":[{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"key","value":{"type":"text","text":"optional","parsing":"plain"}}],"operations":[{"action":"set_variable_increment","values":[{"name":"variable","value":{"type":"variable","variable":"#optionals","scope":"local"}},{"name":"number","value":{}}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#type","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"key","value":{"type":"text","text":"type","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"Option","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#type","scope":"local"}}],"operations":[{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#args.length","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#args.length","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#permission","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"key","value":{"type":"text","text":"permission","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"#permission","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.hasPermission","parsing":"plain"}}]},{"action":"if_player_has_privilege","values":[{"name":"privilege","value":{"type":"enum","enum":"WHITELISTED"}}],"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"#hasNotPerm","scope":"local"}}],"operations":[{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"#commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"hide","parsing":"plain"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eНеизвестная команда","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eНедостаточно прав","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}]}],"is_inverted":"true"}]},{"action":"set_variable_append_map","values":[{"name":"variable","value":{"type":"variable","variable":"#options","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#options","scope":"local"}},{"name":"other_map","value":{"type":"variable","variable":"#arg","scope":"local"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"#arg","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#filteredArgs","scope":"local"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"#hasString","scope":"local"}}],"operations":[{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"#type","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"Mapi.stringArgumentsTypes","scope":"game"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#hasString","scope":"local"}},{"name":"value","value":{"type":"number","number":1.0}}]}]}],"is_inverted":"true"}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.prepareArg"},{"type":"function","position":13.0,"operations":[{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"equals","parsing":"plain"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#equals","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"equals","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_text_matches","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"#equals","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"match","value":{"type":"variable","variable":"#arg","scope":"local"}}],"operations":[{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"#equals","scope":"local"}}],"operations":[{"action":"set_variable_join_text","values":[{"name":"variable","value":{"type":"variable","variable":"#equals","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"#equals","scope":"local"}},{"name":"separator","value":{"type":"text","text":"\u0026#ff6e6e, \u0026#abc4d6","parsing":"legacy"}},{"name":"prefix","value":{}},{"name":"postfix","value":{}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eНеизвестный аргумент %var_local(#vArg), используйте: \u0026#abc4d6%var_local(#equals)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}],"is_inverted":"true"}]},{"action":"if_variable_is_type","values":[{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}}],"operations":[{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"in_range","parsing":"plain"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#range","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"in_range","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"#min","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"#range","scope":"local"}},{"name":"number","value":{"type":"number","number":"0"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"#max","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"#range","scope":"local"}},{"name":"number","value":{"type":"number","number":"1"}},{"name":"default_value","value":{}}]},{"action":"if_variable_in_range","values":[{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"min","value":{"type":"variable","variable":"#min","scope":"local"}},{"name":"max","value":{"type":"variable","variable":"#max","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eАргумент %var_local(#vArg) не входит в диапазон от","parsing":"legacy"},{"type":"variable","variable":"#min","scope":"local"},{"type":"text","text":"\u0026#ff6e6eдо","parsing":"legacy"},{"type":"variable","variable":"#max","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}],"is_inverted":"true"}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"greater","parsing":"plain"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#greater","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"greater","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_less_or_equals","values":[{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"compare","value":{"type":"variable","variable":"#greater","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eАргумент %var_local(#vArg) должен быть больше \u0026#abc4d6","parsing":"legacy"},{"type":"variable","variable":"#greater","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}]}]}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"greater_or_equals","parsing":"plain"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#greaterOrEquals","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"greater_or_equals","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_less","values":[{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"compare","value":{"type":"variable","variable":"#greaterOrEquals","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eАргумент %var_local(#vArg) должен быть больше или равен \u0026#abc4d6","parsing":"legacy"},{"type":"variable","variable":"#greaterOrEquals","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.conditionArg"},{"type":"function","position":14.0,"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"dependencies","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"dependencies","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"dependencies","scope":"local"}}],"operations":[{"action":"repeat_for_each_map_entry","values":[{"name":"key_variable","value":{"type":"variable","variable":"dependence","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"dependenceNeedVersion","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"dependencies","scope":"local"}}],"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mi_versions_%var_local(dependence)","scope":"save"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"dependenceNeedVersion","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"versions","scope":"local"}}]},{"action":"if_variable_text_starts_with","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"\u003e\u003d","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"dependenceNeedVersion","scope":"local"}}],"operations":[{"action":"set_variable_replace_text","values":[{"name":"first","value":{"type":"enum","enum":"FIRST"}},{"name":"variable","value":{"type":"variable","variable":"\u003e\u003ddependenceNeedVersion","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"dependenceNeedVersion","scope":"local"}},{"name":"replace","value":{"type":"text","text":"\u003e\u003d","parsing":"plain"}},{"name":"replacement","value":{}}]},{"action":"set_variable_get_map_keys","values":[{"name":"variable","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mi_versions_%var_local(dependence)","scope":"save"}}]},{"action":"set_variable_get_list_index_of_value","values":[{"name":"variable","value":{"type":"variable","variable":"\u003e\u003ddependenceNeedVersion","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"\u003e\u003ddependenceNeedVersion","scope":"local"}}]},{"action":"set_variable_increment","values":[{"name":"variable","value":{"type":"variable","variable":"\u003e\u003ddependenceNeedVersion","scope":"local"}},{"name":"number","value":{}}]},{"action":"set_variable_trim_list","values":[{"name":"variable","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"start","value":{"type":"number","number":0.0}},{"name":"end","value":{"type":"variable","variable":"\u003e\u003ddependenceNeedVersion","scope":"local"}}]}]},{"action":"if_variable_text_starts_with","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"~","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"dependenceNeedVersion","scope":"local"}}],"operations":[{"action":"set_variable_replace_text","values":[{"name":"first","value":{"type":"enum","enum":"FIRST"}},{"name":"variable","value":{"type":"variable","variable":"~dependenceNeedVersion","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"dependenceNeedVersion","scope":"local"}},{"name":"replace","value":{"type":"text","text":"~","parsing":"plain"}},{"name":"replacement","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"~dependenceNeedVersion","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mi_versions_%var_local(dependence)","scope":"save"}},{"name":"key","value":{"type":"variable","variable":"~dependenceNeedVersion","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_keys_by_value","values":[{"name":"variable","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mi_versions_%var_local(dependence)","scope":"save"}},{"name":"value","value":{"type":"variable","variable":"~dependenceNeedVersion","scope":"local"}},{"name":"default_value","value":{}},{"name":"find_mode","value":{"type":"enum","enum":"ALL"}}]}]},{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"needVersion","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"number","value":{"type":"number","number":0.0}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"mapi\u003d%var_local(dependence)","scope":"game"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"dependenceVersion","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi\u003d%var_local(dependence)","scope":"game"}},{"name":"key","value":{"type":"text","text":"version","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"dependenceVersion","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"versions","scope":"local"}}],"operations":[{"action":"set_variable_create_map_from_values","values":[{"name":"keys","value":{"type":"array","values":[{"type":"text","text":"expected","parsing":"plain"},{},{},{"type":"text","text":"but_got","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"dependenceNeedVersion","scope":"local"},{},{},{"type":"variable","variable":"dependenceVersion","scope":"local"},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.depends2","parsing":"plain"}}]}],"is_inverted":"true"}]},{"action":"else","values":[],"operations":[{"action":"set_variable_create_map_from_values","values":[{"name":"keys","value":{"type":"array","values":[{"type":"text","text":"expected","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"dependenceNeedVersion","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.depends2","parsing":"plain"}}]}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"key","value":{"type":"text","text":"\u0026#ff6e6eМодуль \u0026#abc4d6%var_local(dependence) \u0026#ff6e6eне найден в реестре","parsing":"legacy"}},{"name":"value","value":{"type":"text","text":"\u0026#ff6e6eУберите из зависимостей \u0026#abc4d6%var_local(dependence)\u0026#ff6e6e или добавьте его в реестр","parsing":"legacy"}}]}]}]}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"exceptions","parsing":"plain"}},{"name":"value","value":{"type":"variable","variable":"exceptions","scope":"local"}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.depends"},{"type":"function","position":15.0,"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"expected","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"key","value":{"type":"text","text":"expected","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"exception.lore","scope":"local"}},{"name":"value","value":{"type":"text","text":"\u0026#ff6e6eНеобходим модуль \u0026#abc4d6%var_local(dependence) \u0026#7a8085[%var_local(expected)]","parsing":"legacy"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Зайдите в код \u0026#7a8085(\u0026#abc4d6/dev\u0026#7a8085)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"key","value":{"type":"text","text":"but_got","parsing":"plain"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Уберите строки модуля \u0026#abc4d6%var_local(dependence)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mi","scope":"save"}},{"name":"key","value":{"type":"variable","variable":"dependence","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"needVersion","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"dependence.load","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"key","value":{"type":"text","text":"load","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_text_starts_with","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"https:/","parsing":"plain"},{"type":"text","text":"http:/","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"dependence.load","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"solutionCommand","scope":"local"}},{"name":"value","value":{"type":"text","text":"/module loadUrl %var_local(dependence.load)","parsing":"plain"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"solutionCommand","scope":"local"}},{"name":"value","value":{"type":"text","text":"/module load %var_local(dependence.load)","parsing":"plain"}}]}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Используйте \u003c#abc4d6\u003e%var_local(solutionCommand)","parsing":"minimessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}}]},{"action":"set_variable_set_component_click","values":[{"name":"click_action","value":{"type":"enum","enum":"SUGGEST_COMMAND"}},{"name":"variable","value":{"type":"variable","variable":"exception.lore","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"exception.lore","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"solutionCommand","scope":"local"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Перезагрузите мир \u0026#7a8085(\u0026#abc4d6/build\u0026#7a8085, \u0026#abc4d6/play\u0026#7a8085)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{"type":"variable","variable":"i","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"entry","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"exception.solution","scope":"local"}}],"operations":[{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"text","text":"\u0026#abc4d6%math(%var_local(i)+1). \u0026#ff6e6e","parsing":"legacy"},{"type":"variable","variable":"entry","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"entry","scope":"local"}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]},{"action":"set_variable_set_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"exception.solution","scope":"local"}},{"name":"number","value":{"type":"variable","variable":"i","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"entry","scope":"local"}}]}]},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"variable","variable":"exception.solution","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}},{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}}]},{"action":"set_variable_set_component_hex_color","values":[{"name":"variable","value":{"type":"variable","variable":"exception.lore","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"exception.lore","scope":"local"}},{"name":"color","value":{"type":"text","text":"#ff6e6e","parsing":"plain"}}]},{"action":"set_variable_set_component_hex_color","values":[{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"exception.solution","scope":"local"}},{"name":"color","value":{"type":"text","text":"#ff6e6e","parsing":"plain"}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"exception.lore","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"exception.solution","scope":"local"}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.depends2"},{"type":"function","position":16.0,"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"%selected%.displayLaggBar","scope":"game"}}],"operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"%selected%.displayLaggBar","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)Шкала нагрузки \u0026#ff6e6eскрыта","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_remove_boss_bar","values":[{"name":"id","value":{"type":"text","text":"lagg","parsing":"plain"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"%selected%.displayLaggBar","scope":"game"}},{"name":"value","value":{"type":"number","number":1.0}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)Шкала нагрузки \u0026#a6ff6eпоказана","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:ui.button.click","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.timingsCommand"},{"type":"function","position":17.0,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"name: subcommand, equals: [\"reload\", \"help\", \"debug\", cmdprefix, cmdexceptions]","parsing":"plain"},{"type":"text","text":"optional: true","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: build_or_dev, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd \u0026e\u003creload\u00267|\u0026ehelp\u00267|\u0026edebug\u00267|\u0026ecmdprefix\u00267|\u0026ecmdexceptions\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"help","parsing":"plain"},{"type":"text","text":"cmdexceptions","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subcommand","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.mapi_2","parsing":"plain"}}]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"reload","parsing":"plain"},{"type":"text","text":"debug","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subcommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: whitelist, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd \u0026e\u003creload\u00267|\u0026edebug\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"reload","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subcommand","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.config","parsing":"plain"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eЗагрузка завершена","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.player.levelup","pitch":1.5,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"current\"}"}}]}],"is_inverted":"true"}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"debug","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subcommand","scope":"local"}}],"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}}],"operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"mapiDebug","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"SAVE"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)Системные сообщения \u0026#ff6e6eотключены","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}},{"name":"value","value":{"type":"number","number":1.0}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)Системные сообщения \u0026#a6ff6eвключены","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:ui.button.click","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"cmdprefix","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subcommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"text","text":"name: prefix","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd cmdprefix \u0026e\u003cпрефикс\u003e\", permission: whitelist","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"@","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"prefix","scope":"local"}}],"operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"cmdprefix","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"SAVE"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"pcmd","scope":"game"}},{"name":"value","value":{"type":"text","text":"@","parsing":"plain"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eПрефикс для команд сброшен","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"pcmd","scope":"game"}},{"name":"value","value":{"type":"variable","variable":"prefix","scope":"local"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"cmdprefix","scope":"save"}},{"name":"value","value":{"type":"variable","variable":"prefix","scope":"local"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eПрефикс для команд \u00267\u003d \u0026#abc4d6%var_local(prefix)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.experience_orb.pickup","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.mapiCommand"},{"type":"function","position":18.0,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"type: Int, name: page, optional: true","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd \u0026b\u003cстраница\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"modules","scope":"local"}}]},{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"type":"variable","variable":"size","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"modules","scope":"game"}}]},{"action":"set_variable_round","values":[{"name":"round_type","value":{"type":"enum","enum":"CEIL"}},{"name":"variable","value":{"type":"variable","variable":"maxPage","scope":"local"}},{"name":"number","value":{"type":"number","number":"%math(%var_local(size)/25)"}},{"name":"precision","value":{}}]},{"action":"set_variable_clamp","values":[{"name":"variable","value":{"type":"variable","variable":"page","scope":"local"}},{"name":"number","value":{"type":"variable","variable":"page","scope":"local"}},{"name":"min","value":{"type":"number","number":1.0}},{"name":"max","value":{"type":"variable","variable":"maxPage","scope":"local"}}]},{"action":"set_variable_multiply","values":[{"name":"value","value":{"type":"array","values":[{"type":"number","number":25.0},{"type":"number","number":"%math(%var_local(page)-1)"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"start","scope":"local"}}]},{"action":"set_variable_clamp","values":[{"name":"variable","value":{"type":"variable","variable":"end","scope":"local"}},{"name":"number","value":{"type":"number","number":"%math(25*%var_local(page))"}},{"name":"min","value":{"type":"variable","variable":"start","scope":"local"}},{"name":"max","value":{"type":"variable","variable":"size","scope":"local"}}]},{"action":"set_variable_trim_list","values":[{"name":"variable","value":{"type":"variable","variable":"list","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"modules","scope":"game"}},{"name":"start","value":{"type":"variable","variable":"start","scope":"local"}},{"name":"end","value":{"type":"variable","variable":"end","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"list","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi\u003d%var_local(module)","scope":"game"}},{"name":"key","value":{"type":"text","text":"description","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"description","scope":"local"}}],"operations":[{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"text","text":"Описание: \u0026#abc4d6","parsing":"legacy"},{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi\u003d%var_local(module)","scope":"game"}},{"name":"key","value":{"type":"text","text":"authors","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"authors","scope":"local"}}],"operations":[{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"number","number":"%math(%length_local(authors))"}}],"operations":[{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"author","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"number","value":{"type":"number","number":"0"}},{"name":"default_value","value":{}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Автор: \u0026#ffb657%var_local(author)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_remove_list_value_at_index","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"index","value":{"type":"number","number":"%math(%length_local(authors)-1)"}},{"name":"removed_value","value":{"type":"variable","variable":"last_author","scope":"local"}}]},{"action":"set_variable_join_text","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"separator","value":{"type":"text","text":"\u003cwhite\u003e, \u003c#ffb657\u003e","parsing":"minimessage"}},{"name":"prefix","value":{"type":"text","text":"\u003c#ffb657\u003e","parsing":"minimessage"}},{"name":"postfix","value":{"type":"text","text":"\u003cwhite\u003e и \u003c#ffb657\u003e%var_local(last_author)","parsing":"minimessage"}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Авторы: %var_local(authors)","parsing":"minimessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}}]}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"version","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi\u003d%var_local(module)","scope":"game"}},{"name":"key","value":{"type":"text","text":"version","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"release","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi\u003d%var_local(module)","scope":"game"}},{"name":"key","value":{"type":"text","text":"release","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Версия: \u003c#d877f2\u003e%var_local(version)","parsing":"minimessage"},{"type":"text","text":"Версия протокола: \u003c#d877f2\u003e%var_local(release)","parsing":"minimessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"color","scope":"local"}},{"name":"value","value":{"type":"text","text":"#a6ff6e","parsing":"plain"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi\u003d%var_local(module)","scope":"game"}},{"name":"key","value":{"type":"text","text":"exceptions","parsing":"plain"}},{"name":"default_value","value":{"type":"text","text":"","parsing":"plain"}}]},{"action":"if_variable_list_is_empty","values":[{"name":"list","value":{"type":"variable","variable":"exceptions","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"color","scope":"local"}},{"name":"value","value":{"type":"text","text":"#ff6e6e","parsing":"plain"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u003c#ff6e6e\u003eНайдено \u003c#abc4d6\u003e%length_local(exceptions) \u003c#ff6e6e\u003eпроблем","parsing":"minimessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}}]}],"is_inverted":"true"},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"variable","variable":"module_info","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}},{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}}]},{"action":"set_variable_set_component_hover","values":[{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}},{"name":"component","value":{"type":"text","text":"\u0026%var_local(color)%var_local(module)","parsing":"legacy"}},{"name":"hover","value":{"type":"variable","variable":"module_info","scope":"local"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"module_info","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"modules","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.wait","parsing":"plain"}}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"Модули (\u0026#d877f2%var_local(page)\u0026f/\u0026#d877f2%var_local(maxPage)\u0026f):","parsing":"legacy"},{"type":"variable","variable":"modules","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.modulesCommand"},{"type":"function","position":19.0,"operations":[{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"help","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subcommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"text","text":"name: category, equals: [general, commands, create_command]","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: build_or_dev, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd help \u0026e\u003cкатегория\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u0026#7a8085- \u0026#abc4d6Основное \u0026#7a8085-","parsing":"legacy"},{"type":"text","text":"\u0026fПомощь по командам: \u00267%var(pcmd)mapi help commands","parsing":"legacy"},{"type":"text","text":"\u0026fПомощь по созданию команды: \u00267%var(pcmd)mapi help create_command","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"general","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u0026#7a8085- \u0026#abc4d6Команды \u0026#7a8085-","parsing":"legacy"},{"type":"text","text":"\u00267%var(pcmd)mapi reload \u00268-\u0026f перезагрузка MAPI","parsing":"legacy"},{"type":"text","text":"\u00267%var(pcmd)mapi help \u00268-\u0026f помощь по MAPI","parsing":"legacy"},{"type":"text","text":"\u00267%var(pcmd)mapi debug \u00268-\u0026f вкл/выкл сообщения системы","parsing":"legacy"},{"type":"text","text":"\u00267%var(pcmd)mapi cmdprefix \u00268-\u0026f изменить префикс для команд","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{"type":"text","text":"\u00267%var(pcmd)tpsbar \u00268-\u0026f вкл/выкл отображение шкалы нагрузки","parsing":"legacy"},{"type":"text","text":"\u00267%var(pcmd)about \u00268-\u0026f информация о модуле","parsing":"legacy"},{"type":"text","text":"\u00267%var(pcmd)modules \u00268-\u0026f список загруженных модулей","parsing":"legacy"},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commands","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u0026#7a8085- \u0026#abc4d6Создание команды \u0026#7a8085-","parsing":"legacy"},{"type":"text","text":"\u0026fУ каждого модуля могут быть свои команды. Чтобы ввести команду, нужно начать её со специального префикса команды. Он хранится в игровой переменной \u00267pcmd\u0026f, и по умолчанию он \u00267@\u0026f.","parsing":"legacy"},{"type":"text","text":"Можно вводить как и просто имя команды или её псевдоним, так и полное её название, с указанием модуля:","parsing":"legacy"},{"type":"text","text":"\u00267@mymodule:mycommand\u0026f. Это будет полезно, когда в нескольких модулях есть команды с одинаковыми именами, и вы хотите обратиться к ней из определённого модуля.","parsing":"legacy"},{"type":"text","text":"Полностью можно узнать \u003c#abc4d6\u003e\u003cunderlined\u003e\u003cclick:open_url:\"https://discord.com/channels/828678938070745129/1069298697415970968/1213921544233943040\"\u003eздесь","parsing":"minimessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"create_command","scope":"local"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"%var_local(category)","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}}]},{"action":"control_end_thread","values":[]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"cmdexceptions","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subcommand","scope":"local"}}],"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiCommandExceptions","scope":"save"}}],"operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"mapiCommandExceptions","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"SAVE"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)Ошибки \u0026#ff6e6eвыключены","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"mapiCommandExceptions","scope":"save"}},{"name":"value","value":{"type":"number","number":1.0}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)Ошибки \u0026#a6ff6eвключены","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:ui.button.click","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.mapi_2"},{"type":"function","position":20.0,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"name: moduleName","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd \u0026e\u003cмодуль\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapi\u003d%var_local(moduleName)","scope":"game"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"mapi\u003d%var_local(moduleName)","scope":"game"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"version","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"version","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"release","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"release","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"authors","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"authors","scope":"local"}}],"operations":[{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"type":"variable","variable":"authors.size","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"authors.size","scope":"local"}}],"operations":[{"action":"set_variable_join_text","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"separator","value":{}},{"name":"prefix","value":{"type":"text","text":"\u00267│\u0026f Автор: \u0026#ffb657","parsing":"legacy"}},{"name":"postfix","value":{}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]}]},{"action":"if_variable_greater_or_equals","values":[{"name":"value","value":{"type":"variable","variable":"authors.size","scope":"local"}},{"name":"compare","value":{"type":"number","number":2.0}}],"operations":[{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"authors.size","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"authors.size","scope":"local"}}]},{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"lastAuthor","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"number","value":{"type":"variable","variable":"authors.size","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"set_variable_remove_list_value_at_index","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"index","value":{"type":"variable","variable":"authors.size","scope":"local"}},{"name":"removed_value","value":{}}]},{"action":"set_variable_join_text","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"separator","value":{"type":"text","text":"\u0026f, \u0026#ffb657","parsing":"legacy"}},{"name":"prefix","value":{"type":"text","text":"\u00267│\u0026f Авторы: \u0026#ffb657","parsing":"legacy"}},{"name":"postfix","value":{"type":"text","text":"\u0026f и \u0026#ffb657%var_local(lastAuthor)","parsing":"legacy"}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"description","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"exceptions","parsing":"plain"}},{"name":"default_value","value":{"type":"text","text":"","parsing":"plain"}}]},{"action":"if_variable_list_is_empty","values":[{"name":"list","value":{"type":"variable","variable":"exceptions","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"status","scope":"local"}},{"name":"value","value":{"type":"text","text":"\u0026#ff6e6e","parsing":"plain"}}]}],"is_inverted":"true"},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"status","scope":"local"}},{"name":"value","value":{"type":"text","text":"\u0026#a6ff6e","parsing":"plain"}}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"\u00267┌──────── Информация о %var_local(status)%var_local(moduleName) \u00267────────","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"description","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"\u00267│\u0026f Описание:\u0026#abc4d6","parsing":"legacy"},{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SPACES"}}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"\u00267│\u0026f Версия: \u0026#d877f2%var_local(version)","parsing":"legacy"},{"type":"text","text":"\u00267│\u0026f Версия протокола: \u0026#d877f2%var_local(release)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"authors","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"authors","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.version_2","parsing":"plain"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"\u00267└──────────────────────────────────","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eНеизвестный модуль \u0026#ffb657%var_local(moduleName)\u0026#ff6e6e, список всех модулей - \u0026#abc4d6%var(pcmd)modules","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.versionCommand"},{"type":"function","position":21.0,"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandsList","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"commandsList","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_list_is_empty","values":[{"name":"list","value":{"type":"variable","variable":"commandsList","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commands","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"commands","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commandsMessage","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"commandsList","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commands","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"if_player_has_privilege","values":[{"name":"privilege","value":{"type":"enum","enum":"WHITELISTED"}}],"operations":[{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"hide","parsing":"plain"}}],"operations":[{"action":"control_skip_iteration","values":[]}]}],"is_inverted":"true"},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"description","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"description","scope":"local"}}],"operations":[{"action":"set_variable_set_component_hex_color","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"color","value":{"type":"text","text":"#abc4d6","parsing":"plain"}}]},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"text","text":"Описание:","parsing":"plain"},{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"executor","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"executor","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Обработчик: \u0026#d877f2%var_local(executor)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"aliases","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"aliases","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"aliases","scope":"local"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Псевдонимы:","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"alias","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"aliases","scope":"local"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u0026#7a8085-\u0026#abc4d6 %var_local(alias)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]}]}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"hide","parsing":"plain"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u0026#ff6e6eСкрытая","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]}]},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"variable","variable":"hover","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"set_variable_set_component_hover","values":[{"name":"variable","value":{"type":"variable","variable":"component","scope":"local"}},{"name":"component","value":{"type":"text","text":"\u0026#d877f2%var_local(command)","parsing":"legacy"}},{"name":"hover","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"set_variable_set_component_click","values":[{"name":"click_action","value":{"type":"enum","enum":"SUGGEST_COMMAND"}},{"name":"variable","value":{"type":"variable","variable":"component","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"component","scope":"local"}},{"name":"value","value":{"type":"text","text":"%var(pcmd)help %var_local(command)","parsing":"plain"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"component","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commandsMessage","scope":"local"}}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"\u00267│\u0026f Команды \u0026#7a8085(\u0026#d877f2%length_local(commandsList)\u0026#7a8085):","parsing":"legacy"},{"type":"variable","variable":"commandsMessage","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"is_inverted":"true"},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.version_3","parsing":"plain"}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.version_2"},{"type":"function","position":22.0,"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"contacts","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"contacts","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"contacts","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"\u00267│\u0026f Контакты:","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"repeat_for_each_map_entry","values":[{"name":"key_variable","value":{"type":"variable","variable":"contact","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"contactClick","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"contacts","scope":"local"}}],"operations":[{"action":"set_variable_set_component_hover","values":[{"name":"variable","value":{"type":"variable","variable":"contact","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"contact","scope":"local"}},{"name":"hover","value":{"type":"text","text":"\u0026#abc4d6\u0026n%var_local(contactClick)","parsing":"legacy"}}]},{"action":"set_variable_set_component_click","values":[{"name":"click_action","value":{"type":"enum","enum":"OPEN_URL"}},{"name":"variable","value":{"type":"variable","variable":"contact","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"contact","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"contactClick","scope":"local"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"\u00267│ \u0026#7a8085-","parsing":"legacy"},{"type":"variable","variable":"contact","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]}]},{"action":"if_variable_list_is_empty","values":[{"name":"list","value":{"type":"variable","variable":"exceptions","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"\u00267│\u0026#a6ff6e Проблем не обнаружено ✔","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"\u00267│\u0026#ff6e6e Проблемы \u0026#7a8085(\u0026#abc4d6%length_local(exceptions)\u0026#7a8085)\u0026#abc4d6:","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"repeat_for_each_map_entry","values":[{"name":"key_variable","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"solution","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"exceptions","scope":"local"}}],"operations":[{"action":"set_variable_set_component_hover","values":[{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"hover","value":{"type":"variable","variable":"solution","scope":"local"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"\u00267│ \u0026#7a8085-","parsing":"legacy"},{"type":"variable","variable":"exception","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.version_3"},{"type":"function","position":23.0,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"name: subCommand, equals: [add, remove, clear, list]","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, maxArguments: 2, permission: dev, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd \u0026b\u003cadd\u00267|\u0026bremove\u00267|\u0026bclear\u00267|\u0026blist\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"add","parsing":"plain"},{"type":"text","text":"remove","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subCommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"text","text":"name: legacyCommand","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: dev, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd %var_local(subCommand) \u0026b\u003cкоманда\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"add","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subCommand","scope":"local"}}],"operations":[{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"legacyCommand","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"legacyCommand","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eКоманда \u0026#abc4d6%var_local(legacyCommand)\u0026#a6ff6e успешно добавлена в список","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.experience_orb.pickup","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}],"is_inverted":"true"},{"action":"else","values":[],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eТакая команда уже есть в списке","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_remove_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}},{"name":"list","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}},{"name":"value","value":{"type":"variable","variable":"legacyCommand","scope":"local"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eКоманда \u0026#abc4d6%var_local(legacyCommand)\u0026#a6ff6e успешно удалена из списка","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.experience_orb.pickup","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: dev, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd %var_local(subCommand)\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"clear","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subCommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eСписок команд очищен","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.experience_orb.pickup","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_join_text","values":[{"name":"variable","value":{"type":"variable","variable":"legacyCommandsList","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}},{"name":"separator","value":{"type":"text","text":"\u0026f, \u0026#d877f2","parsing":"legacy"}},{"name":"prefix","value":{"type":"text","text":"Legacy-команды (\u0026#d877f2%length_save(legacyCommandsList)\u0026f): \u0026#d877f2","parsing":"legacy"}},{"name":"postfix","value":{}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"legacyCommandsList","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.legacycommandCommand"},{"type":"function","position":24.0,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"name: cmd, optional: true","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd \u0026b[\u003cкоманда\u003e]\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"cmd","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.helpCommand2","parsing":"plain"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commandsMessage","scope":"local"}}]},{"action":"repeat_for_each_map_entry","values":[{"name":"key_variable","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commands","scope":"game"}}],"operations":[{"action":"if_variable_map_value_equals","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"command","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"command","parsing":"plain"}}],"operations":[{"action":"if_player_has_privilege","values":[{"name":"privilege","value":{"type":"enum","enum":"WHITELISTED"}}],"operations":[{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"hide","parsing":"plain"}}],"operations":[{"action":"control_skip_iteration","values":[]}]}],"is_inverted":"true"},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"description","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"description","scope":"local"}}],"operations":[{"action":"set_variable_set_component_hex_color","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"color","value":{"type":"text","text":"#abc4d6","parsing":"plain"}}]},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"text","text":"Описание:","parsing":"plain"},{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"executor","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"executor","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Обработчик: \u0026#d877f2%var_local(executor)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"aliases","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"aliases","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"aliases","scope":"local"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Псевдонимы:","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"alias","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"aliases","scope":"local"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u0026#7a8085-\u0026#abc4d6 %var_local(alias)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]}]}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"hide","parsing":"plain"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u0026#ff6e6eСкрытая","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]}]},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"variable","variable":"hover","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"set_variable_set_component_hover","values":[{"name":"variable","value":{"type":"variable","variable":"component","scope":"local"}},{"name":"component","value":{"type":"text","text":"\u0026#d877f2%var_local(command)","parsing":"legacy"}},{"name":"hover","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"set_variable_set_component_click","values":[{"name":"click_action","value":{"type":"enum","enum":"SUGGEST_COMMAND"}},{"name":"variable","value":{"type":"variable","variable":"component","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"component","scope":"local"}},{"name":"value","value":{"type":"text","text":"%var(pcmd)help %var_local(command)","parsing":"plain"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"component","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commandsMessage","scope":"local"}}]}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)Команды \u0026#7a8085(\u0026#d877f2%length_local(commandsMessage)\u0026#7a8085):","parsing":"legacy"},{"type":"variable","variable":"commandsMessage","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.helpCommand"},{"type":"function","position":25.0,"operations":[{"action":"set_variable_get_index_of_subtext","values":[{"name":"variable","value":{"type":"variable","variable":"index","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"cmd","scope":"local"}},{"name":"subtext","value":{"type":"text","text":":","parsing":"plain"}},{"name":"start_index","value":{}}]},{"action":"if_variable_greater","values":[{"name":"value","value":{"type":"variable","variable":"index","scope":"local"}},{"name":"compare","value":{"type":"number","number":0.0}}],"operations":[{"action":"set_variable_trim_text","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"cmd","scope":"local"}},{"name":"start","value":{"type":"number","number":0.0}},{"name":"end","value":{"type":"variable","variable":"index","scope":"local"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"mapi\u003d%var_local(module)","scope":"game"}}],"operations":[{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"index","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"index","scope":"local"}}]},{"action":"set_variable_text_length","values":[{"name":"variable","value":{"type":"variable","variable":"length","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"cmd","scope":"local"}}]},{"action":"set_variable_trim_text","values":[{"name":"variable","value":{"type":"variable","variable":"moduleCommand","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"cmd","scope":"local"}},{"name":"start","value":{"type":"variable","variable":"index","scope":"local"}},{"name":"end","value":{"type":"variable","variable":"length","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commands","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi\u003d%var_local(module)","scope":"game"}},{"name":"key","value":{"type":"text","text":"commands","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commands","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"moduleCommand","scope":"local"}},{"name":"default_value","value":{}}]}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commands","scope":"game"}},{"name":"key","value":{"type":"variable","variable":"cmd","scope":"local"}},{"name":"default_value","value":{}}]}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"commandData","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"command","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"executor","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"executor","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"module","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"aliases","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"aliases","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"description","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u00267┌──────── Информация о \u0026#a6ff6e%var_local(command) \u00267────────","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"message","scope":"local"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"description","scope":"local"}}],"operations":[{"action":"set_variable_set_component_hex_color","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"color","value":{"type":"text","text":"#abc4d6","parsing":"plain"}}]},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"text","text":"\u00267│\u0026f Описание:","parsing":"legacy"},{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"message","scope":"local"}}]}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u00267│\u0026f Обработчик: \u0026#d877f2%var_local(executor)","parsing":"legacy"},{"type":"text","text":"\u00267│\u0026f Загружена из модуля \u0026#abc4d6%var_local(module)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"message","scope":"local"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"aliases","scope":"local"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u00267│\u0026f Псевдонимы \u0026#7a8085(\u0026#d877f2%length_local(aliases)\u0026#7a8085):","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"message","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"alias","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"aliases","scope":"local"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u00267│ \u0026#7a8085 - \u0026#d877f2%var_local(alias)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"message","scope":"local"}}]}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"message","scope":"local"},{"type":"text","text":"\u00267└──────────────────────────────────","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}}]}]},{"action":"else","values":[],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eКоманд \u0026#abc4d6%var_local(cmd)\u0026#ff6e6e не существует","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.helpCommand2"},{"type":"function","position":26.0,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"name: action, equals: [add, remove, list, clear, reload]","parsing":"plain"},{"type":"text","text":"optional: true","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd \u0026b\u003cadd\u00267|\u0026bremove\u00267|\u0026blist\u00267|\u0026bclear\u00267|\u0026breload\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"add","parsing":"plain"},{"type":"text","text":"remove","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"action","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"text","text":"name: url","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd %var_local(action) \u0026b\u003curl\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"add","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"action","scope":"local"}}],"operations":[{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"url","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"registries","scope":"save"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eТакой реестр уже есть","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"url","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"registries","scope":"save"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"Mapi.prefix","scope":"game"},{"type":"text","text":"\u0026#a6ff6eРеестр \u0026#abc4d6","parsing":"legacy"},{"type":"variable","variable":"url","scope":"local"},{"type":"text","text":"\u0026#a6ff6e добавлен. Чтобы его загрузить используйте \u0026#abc4d6%var(pcmd)mi reload","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"remove","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"action","scope":"local"}}],"operations":[{"action":"set_variable_remove_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"registries","scope":"save"}},{"name":"list","value":{"type":"variable","variable":"registries","scope":"save"}},{"name":"value","value":{"type":"variable","variable":"url","scope":"local"}},{"name":"remove_mode","value":{"type":"enum","enum":"FIRST"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"Mapi.prefix","scope":"game"},{"type":"text","text":"\u0026#a6ff6eРеестр \u0026#abc4d6","parsing":"legacy"},{"type":"variable","variable":"url","scope":"local"},{"type":"text","text":"\u0026#a6ff6e удалён","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.experience_orb.pickup","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd %var_local(action)\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"plain"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"clear","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"action","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"https://raw.githubusercontent.com/unidok/mi/main/registry.txt","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"registries","scope":"save"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eРеестры очищены","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.experience_orb.pickup","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"list","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"action","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)Реестры \u0026#7a8085(\u0026#abc4d6%length_save(registries)\u0026#7a8085)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"url","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"registries","scope":"save"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"text","scope":"local"}},{"name":"value","value":{"type":"text","text":"\u003c#ff6e6e\u003e\u003cunderlined\u003e\u003cclick:open_url:\"%var_local(url)\"\u003e\u003chover:show_text:\"\u003c#ff6e6e\u003eЭтот реестр не загружен\\n\u003c#7a8085\u003eНажмите, чтобы открыть ссылку\"\u003e%var_local(url)","parsing":"minimessage"}}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"loadedRegistries","scope":"save"}},{"name":"key","value":{"type":"variable","variable":"url","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"time","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"loadedRegistries","scope":"save"}},{"name":"key","value":{"type":"variable","variable":"url","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"text","scope":"local"}},{"name":"value","value":{"type":"text","text":"\u003c#abc4d6\u003e\u003cunderlined\u003e\u003cclick:open_url:\"%var_local(url)\"\u003e\u003chover:show_text:\"\u003c#7a8085\u003eЗагружено: \u003c#abc4d6\u003e%var_local(time)\\n\u003c#7a8085\u003eНажмите, чтобы открыть ссылку\"\u003e%var_local(url)","parsing":"minimessage"}}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"text","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"reload","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"action","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.loadRegistries","parsing":"plain"}}]}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.miCommand"},{"type":"function","position":27.0,"operations":[{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"type":"variable","variable":"maxRegistries","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"registries","scope":"save"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"loadedRegistries","scope":"save"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"mi","scope":"save"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"mi_versions_","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"SAVE"}},{"name":"match","value":{"type":"enum","enum":"NAME_CONTAINS"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"url","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"registries","scope":"save"}}],"operations":[{"action":"game_send_web_request","values":[{"name":"url","value":{"type":"variable","variable":"url","scope":"local"}},{"name":"content_body","value":{}}]}]},{"action":"repeat_multi_times","values":[{"name":"variable","value":{}},{"name":"amount","value":{"type":"number","number":200.0}}],"operations":[{"action":"if_variable_greater_or_equals","values":[{"name":"value","value":{"type":"text","text":"%length_save(loadedRegistries)","parsing":"plain"}},{"name":"compare","value":{"type":"variable","variable":"maxRegistries","scope":"local"}}],"operations":[{"action":"control_stop_repeat","values":[]}]},{"action":"control_wait","values":[{"name":"duration","value":{"type":"number","number":1.0}}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.loadRegistries"},{"type":"event","position":28.0,"operations":[{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"game_value","game_value":"url","selection":"null"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"registries","scope":"save"}}],"operations":[{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"response","scope":"local"}},{"name":"text","value":{"type":"game_value","game_value":"url_response","selection":"null"}},{"name":"replace","value":{"type":"text","text":"\\n","parsing":"plain"}},{"name":"replacement","value":{}}]},{"action":"set_variable_text","values":[{"name":"text","value":{"type":"array","values":[{"type":"text","text":"\"{Count:1,id:map,tag:{creative_plus:{handler:\\\"","parsing":"plain"},{"type":"variable","variable":"response","scope":"local"},{"type":"text","text":"\\\"}}}\"","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}},{"name":"variable","value":{"type":"variable","variable":"data","scope":"local"}}]},{"action":"controller_exception","values":[{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}}],"operations":[{"action":"set_variable_get_template_code","values":[{"name":"return_type","value":{"type":"enum","enum":"MAP"}},{"name":"variable","value":{"type":"variable","variable":"mi","scope":"local"}},{"name":"template","value":{"type":"variable","variable":"data","scope":"local"}}]}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"url","scope":"local"}},{"name":"value","value":{"type":"game_value","game_value":"url","selection":"null"}}]},{"action":"select_player_by_conditional","values":[{"name":"privilege","value":{"type":"enum","enum":"DEVELOPER"}}],"conditional":{"action":"if_player_has_privilege","is_inverted":"false"}},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"Mapi.prefix","scope":"game"},{"type":"text","text":"\u003cclick:open_url:\"%var_local(url)\"\u003e\u003chover:show_text:\"\u003c#abc4d6\u003e\u003cunderlined\u003e%var_local(url)\"\u003e\u003c#ff6e6e\u003eНе удалось подключить реестр \u003c#7a8085\u003e[наведи]","parsing":"minimessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_append_map","values":[{"name":"variable","value":{"type":"variable","variable":"mi","scope":"save"}},{"name":"map","value":{"type":"variable","variable":"mi","scope":"save"}},{"name":"other_map","value":{"type":"variable","variable":"mi","scope":"local"}}]},{"action":"repeat_for_each_map_entry","values":[{"name":"key_variable","value":{"type":"variable","variable":"moduleId","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mi","scope":"local"}}],"operations":[{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"repeat_for_each_map_entry","values":[{"name":"key_variable","value":{"type":"variable","variable":"version","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"versionInfo","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"release","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"versionInfo","scope":"local"}},{"name":"key","value":{"type":"text","text":"release","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"version","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"release","scope":"local"}}]}]},{"action":"set_variable_sort_any_map","values":[{"name":"variable","value":{"type":"variable","variable":"mi_versions_%var_local(moduleId)","scope":"save"}},{"name":"map","value":{"type":"variable","variable":"versions","scope":"local"}},{"name":"sort_order","value":{"type":"enum","enum":"DESCENDING"}},{"name":"sort_type","value":{"type":"enum","enum":"VALUES"}}]}]},{"action":"set_variable_format_timestamp","values":[{"name":"variable","value":{"type":"variable","variable":"time","scope":"local"}},{"name":"time","value":{"type":"game_value","game_value":"timestamp","selection":"null"}},{"name":"pattern","value":{}},{"name":"zone_id","value":{"type":"text","text":"GMT+3","parsing":"plain"}},{"name":"locale","value":{}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"loadedRegistries","scope":"save"}},{"name":"map","value":{"type":"variable","variable":"loadedRegistries","scope":"save"}},{"name":"key","value":{"type":"variable","variable":"url","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"time","scope":"local"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"Mapi.prefix","scope":"game"},{"type":"text","text":"\u003cclick:open_url:\"%var_local(url)\"\u003e\u003chover:show_text:\"\u003c#abc4d6\u003e\u003cunderlined\u003e%var_local(url)\"\u003e\u003c#a6ff6e\u003eПодключён реестр \u003c#abc4d6\u003e%length_save(loadedRegistries)/%length_save(registries)","parsing":"minimessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]}]}]}]}],"event":"world_web_response"}]}