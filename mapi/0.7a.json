{"handlers":[{"type":"event","position":0.0,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"Empty List","scope":"game"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"Empty Map","scope":"game"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.config","parsing":"legacy"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiInstalled","scope":"save"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"mapiInstalled","scope":"save"}},{"name":"value","value":{"type":"number","number":1.0}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}},{"name":"value","value":{"type":"number","number":1.0}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"mapiCommandExceptions","scope":"save"}},{"name":"value","value":{"type":"number","number":1.0}}]}],"is_inverted":"true"},{"action":"repeat_forever","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"color","scope":"local"}},{"name":"value","value":{"type":"text","text":"\u0026#a6ff6e","parsing":"legacy"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"COLOR","scope":"local"}},{"name":"value","value":{"type":"text","text":"GREEN","parsing":"legacy"}}]},{"action":"if_variable_greater","values":[{"name":"value","value":{"type":"game_value","game_value":"cpu_usage","selection":"null"}},{"name":"compare","value":{"type":"number","number":50.0}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"color","scope":"local"}},{"name":"value","value":{"type":"text","text":"\u0026#ffb657","parsing":"legacy"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"COLOR","scope":"local"}},{"name":"value","value":{"type":"text","text":"YELLOW","parsing":"legacy"}}]}]},{"action":"if_variable_greater","values":[{"name":"value","value":{"type":"game_value","game_value":"cpu_usage","selection":"null"}},{"name":"compare","value":{"type":"number","number":100.0}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"color","scope":"local"}},{"name":"value","value":{"type":"text","text":"\u0026#ff6e6e","parsing":"legacy"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"COLOR","scope":"local"}},{"name":"value","value":{"type":"text","text":"RED","parsing":"legacy"}}]}]},{"action":"set_variable_text","values":[{"name":"text","value":{"type":"array","values":[{"type":"text","text":"\u00267CPU: %var_local(color)","parsing":"legacy"},{"type":"game_value","game_value":"cpu_usage","selection":"null"},{"type":"text","text":"\u00267 MSPT: %var_local(color)","parsing":"legacy"},{"type":"game_value","game_value":"server_stopped_time","selection":"null"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"text","scope":"local"}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]},{"action":"select_player_by_conditional","values":[{"name":"variable","value":{"type":"variable","variable":"%selected%.displayLaggBar","scope":"game"}}],"conditional":{"action":"if_variable_exists","is_inverted":"false"}},{"action":"player_set_boss_bar","values":[{"name":"id","value":{"type":"text","text":"lagg","parsing":"legacy"}},{"name":"title","value":{"type":"variable","variable":"text","scope":"local"}},{"name":"progress","value":{"type":"game_value","game_value":"cpu_usage","selection":"null"}},{"name":"color","value":{"type":"enum","enum":"GREEN","variable":"COLOR","scope":"local"}},{"name":"style","value":{"type":"enum","enum":"NOTCHED_20"}}]},{"action":"control_wait","values":[{"name":"duration","value":{"type":"number","number":5.0}}]}]}],"event":"world_start"},{"type":"function","position":1.0,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{"type":"item","item":"{Count:1b,id:\"minecraft:ender_chest\",tag:{creative_plus:{handler:\"eJzFlNFqhDAQRX9F5jksKX3Lr6wis3EoodFIEq0i/nsTzdpdWCm2D4JonDuZzD0MmcCPLYEA6qnxwKA1TnllGhCcgWnJYvxzIK4ToFwVcOTLHq3Cm6ZSWkJPpVYu7u9Rd7SmN1jHyimSJBDT/Ui0FsfnLUnxNMRay0eANHWNTSUyiVp2OhzGMhpIdt5YkeUQwzmwDLVCR05k1xgpYGbT359iDu8fC6vXFyaepLTcWo6unTRLojahK5hDYXYaSUuaAqJI5nVCT9bFxnYTNmOnYP2k8XykTVffyAYpLQS/8F1ebxf+CPPotJwBeUNyHHON7Q7lgz2EQirvOH+vaMC6XeR7Ox+x5qPDNBX/GiH2+0QcplWwdKsK+DJWV6XzaD3M30Vn4gA\u003d\"},display:{Name:\u0027{\"italic\":false,\"extra\":[{\"text\":\"\"},{\"color\":\"#a6ff6e\",\"text\":\"Шаблон модуля\"}],\"text\":\"\"}\u0027}}}"},{"type":"item","item":"{Count:1b,id:\"minecraft:ender_chest\",tag:{creative_plus:{handler:\"eJylUttKAzEQ/ZUyKFRYpCgo5FV8FMHLk5YQs2Mb2BtJtrQsC14e9QN89BNKwQuI+gvZPzJJt9rSpaBCYJKZyZyZc6YAPcoQCFzmCdciTSCALFXCX0kngDRDydxLATkrgE2TCCjUdMCkYBcRUi6RaaSRUNr+H7Aox2l6wmJXvPbUISDFDJVJyUaLX+qIxqGr5Q3xTtI61lIkvaDlqpIWDjOJSrl2yqD481kFeJi5aQMLxdFfSesczEN1bT7Nh3mr7s2LtRMzNu/m1TzZaN7pbO3srikeh/XjwpltbibVXXVlM5/N0zTb+/EcoOyWro9vrqakNrC1EKqvjsOeo1bx1CdFKWcRlLZoMCeX9UV0TuNljWZB6t/L4Iv8HLBMbPI0jlkS7tnl0DLnOpVLuFnERiipwiSksVWL9bARvY79Z0fMo2X2pbp1ulQ3ZlzdzPRg6zHT/fa6JY16eto/u7Ox8aft6bpBu02TCEX7IgwxaRgFkzy2bm8InByd7sO89CEqLkU2L9FKHn7R7A+I4I3VhUbXmjcEitIpGcz+WMo4lF+sc4iH\"},display:{Lore:[\u0027{\"italic\":false,\"color\":\"white\",\"extra\":[{\"text\":\"\"},{\"color\":\"gray\",\"text\":\"calculate \"},{\"color\":\"aqua\",\"text\":\"\\\\u003cвыражение\\\\u003e\"}],\"text\":\"\"}\u0027],Name:\u0027{\"italic\":false,\"extra\":[{\"text\":\"\"},{\"color\":\"yellow\",\"text\":\"Пример команды\"}],\"text\":\"\"}\u0027}}}"},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{}}]},{"action":"empty","values":[]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"Mapi.prefix","scope":"game"}},{"name":"value","value":{"type":"text","text":"\u0026#ffb657MAPI \u00268» \u0026f","parsing":"legacy"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}}]}],"is_inverted":"true"},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"cmdprefix","scope":"save"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"pcmd","scope":"game"}},{"name":"value","value":{"type":"text","text":"@","parsing":"legacy"}}]}],"is_inverted":"true"},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"pcmd","scope":"game"}},{"name":"value","value":{"type":"variable","variable":"cmdprefix","scope":"save"}}]}]},{"action":"control_wait","values":[{"name":"duration","value":{"type":"number","number":2.0}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"Commands","scope":"game"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"command: mapi, executor: \"Mapi.mapiCommand\", description: \"Управление MAPI\"","parsing":"legacy"},{"type":"text","text":"command: modules, executor: \"Mapi.modulesCommand\", description: \"Список модулей\"","parsing":"legacy"},{"type":"text","text":"command: timings, executor: \"Mapi.timingsCommand\", aliases: [lagg], description: \"Отчёт нагрузки\"","parsing":"legacy"},{"type":"text","text":"command: version, executor: \"Mapi.versionCommand\", aliases: [about], description: \"Информация о модуле\"","parsing":"legacy"},{"type":"text","text":"command: legacycommand, executor: \"Mapi.legacycommandCommand\", aliases: [legacycmd, lcmd], description: \"Манипуляции со списком legacy-команд\"","parsing":"legacy"},{"type":"text","text":"command: mi, executor: \"Mapi.miCommand\", description: \"Работа с реестром модулей\"","parsing":"legacy"},{"type":"text","text":"command: help, executor: \"Mapi.helpCommand\", description: \"Помощь по командам\"","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commands","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Int","parsing":"legacy"},{"type":"text","text":"Number","parsing":"legacy"},{"type":"text","text":"String","parsing":"legacy"},{"type":"text","text":"Player","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"argumentsTypes","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Mapi.argumentsTypes","parsing":"legacy"},{"type":"text","text":"Mapi.argumentsTypes","parsing":"legacy"},{"type":"text","text":"Mapi.argumentsTypes","parsing":"legacy"},{"type":"text","text":"Mapi.argumentsTypes","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"argumentsTypesExecutors","scope":"local"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"argumentsTypes","scope":"local"}},{"name":"keys","value":{"type":"variable","variable":"argumentsTypes","scope":"local"}},{"name":"values","value":{"type":"variable","variable":"argumentsTypesExecutors","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"String","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"stringArgumentsTypes","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"version","parsing":"legacy"},{"type":"text","text":"release","parsing":"legacy"},{"type":"text","text":"commands","parsing":"legacy"},{"type":"text","text":"authors","parsing":"legacy"},{"type":"text","text":"description","parsing":"legacy"},{"type":"text","text":"argumentsTypes","parsing":"legacy"},{"type":"text","text":"stringArgumentsTypes","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"keys","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"0.7","parsing":"plain"},{"type":"number","number":16.0},{"type":"variable","variable":"commands","scope":"local"},{"type":"text","text":"unidok","parsing":"plain"},{"type":"text","text":"Ядро для модулей","parsing":"legacy"},{"type":"variable","variable":"argumentsTypes","scope":"local"},{"type":"variable","variable":"stringArgumentsTypes","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"values","scope":"local"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"mapi\u003dmapi","scope":"game"}},{"name":"keys","value":{"type":"variable","variable":"keys","scope":"local"}},{"name":"values","value":{"type":"variable","variable":"values","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"Imported Modules","scope":"game"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"Mapi.argumentsTypes","scope":"game"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"Mapi.stringArgumentsTypes","scope":"game"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.load","parsing":"legacy"}}]}],"values":[{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.config"},{"type":"function","position":2.0,"operations":[{"action":"controller_measure_time","values":[{"name":"duration","value":{"type":"enum","enum":"MILLISECONDS"}},{"name":"variable","value":{"type":"variable","variable":"loadTime","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"CACHE","scope":"local"}},{"name":"value","value":{"type":"number","number":1.0}}]},{"action":"select_player_by_conditional","values":[{"name":"exact","value":{"type":"enum","enum":"FALSE"}},{"name":"privilege","value":{"type":"enum","enum":"DEVELOPER"}}],"conditional":{"action":"if_player_has_privilege","is_inverted":"false"}},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u00267\u0026oЗагрузка...","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"set_variable_get_list_variables","values":[{"name":"variable","value":{"type":"variable","variable":"variables","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"moduleName","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"variables","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.wait","parsing":"plain"}}]},{"action":"if_variable_text_starts_with","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"mapi\u003d","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"moduleName","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"%var_local(moduleName)","scope":"game"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"module","scope":"local"}}],"operations":[{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"moduleName","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"moduleName","scope":"local"}},{"name":"replace","value":{"type":"text","text":"mapi\u003d","parsing":"plain"}},{"name":"replacement","value":{}},{"name":"first","value":{"type":"enum","enum":"FIRST"}}]},{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"moduleName","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"Imported Modules","scope":"game"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"moduleName","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"Imported Modules","scope":"game"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"authors","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"authors","scope":"local"}}],"operations":[{"action":"set_variable_split_text","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"delimiter","value":{}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"authors","parsing":"plain"}},{"name":"value","value":{"type":"variable","variable":"authors","scope":"local"}}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"argumentsTypes","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"argumentsTypes","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"argumentsTypes","scope":"local"}}],"operations":[{"action":"set_variable_append_map","values":[{"name":"variable","value":{"type":"variable","variable":"Mapi.argumentsTypes","scope":"game"}},{"name":"map","value":{"type":"variable","variable":"Mapi.argumentsTypes","scope":"game"}},{"name":"other_map","value":{"type":"variable","variable":"argumentsTypes","scope":"local"}}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"stringArgumentsTypes","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"stringArgumentsTypes","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"stringArgumentsTypes","scope":"local"}}],"operations":[{"action":"set_variable_append_list","values":[{"name":"variable","value":{"type":"variable","variable":"Mapi.stringArgumentsTypes","scope":"game"}},{"name":"list_1","value":{"type":"variable","variable":"Mapi.stringArgumentsTypes","scope":"game"}},{"name":"list_2","value":{"type":"variable","variable":"stringArgumentsTypes","scope":"local"}}]}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.load2","parsing":"legacy"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eМодуль \u0026#abc4d6%var_local(moduleName) \u0026#a6ff6eзагружен","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]}],"is_inverted":"true"}]}]}]}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"v","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi\u003dmapi","scope":"game"}},{"name":"key","value":{"type":"text","text":"version","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eЗагружено \u0026#abc4d6%length(Imported Modules) \u0026#a6ff6eмодулей","parsing":"legacy"},{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eЗагрузка завершена \u00267\u0026ov%var_local(v) \u0026#7a8085(\u0026#abc4d6%math(round(%var_local(loadTime)/1000,2)) сек.\u0026#7a8085)","parsing":"legacy"},{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eПомощь - \u0026#abc4d6%var(pcmd)mapi help general","parsing":"legacy"},{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eОтключить эти сообщения - \u0026#abc4d6%var(pcmd)mapi debug","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.player.levelup","pitch":1.5,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"current\"}"}}]}]}],"values":[{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.load"},{"type":"function","position":3.0,"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commands","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"commands","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"commandsMap","scope":"local"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commandsList","scope":"local"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"commands","scope":"local"}}],"operations":[{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"commands","scope":"local"}}],"operations":[{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"commandData","scope":"local"}}],"operations":[{"action":"if_variable_text_starts_with","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"{","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"commandData","scope":"local"}}],"operations":[{"action":"set_variable_text","values":[{"name":"text","value":{"type":"array","values":[{"type":"text","text":"{","parsing":"legacy"},{"type":"variable","variable":"commandData","scope":"local"},{"type":"text","text":"}","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}},{"name":"variable","value":{"type":"variable","variable":"commandData","scope":"local"}}]}],"is_inverted":"true"},{"action":"set_variable_parse_json","values":[{"name":"variable","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"json","value":{"type":"variable","variable":"commandData","scope":"local"}}]}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"module","parsing":"plain"}},{"name":"value","value":{"type":"variable","variable":"moduleName","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"command","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandsMap","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandsMap","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"commandData","scope":"local"}}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"aliases","parsing":"plain"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"aliases","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"aliases","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"alias","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"aliases","scope":"local"}}],"operations":[{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandsMap","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandsMap","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"alias","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"commandData","scope":"local"}}]}]}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"command","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commandsList","scope":"local"}}]}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"commands","parsing":"plain"}},{"name":"value","value":{"type":"variable","variable":"commandsMap","scope":"local"}}]}]},{"action":"else","values":[],"operations":[{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"commands","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandsList","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"commandsList","parsing":"plain"}},{"name":"default_value","value":{}}]}]}]},{"action":"set_variable_append_map","values":[{"name":"variable","value":{"type":"variable","variable":"Commands","scope":"game"}},{"name":"map","value":{"type":"variable","variable":"Commands","scope":"game"}},{"name":"other_map","value":{"type":"variable","variable":"commandsMap","scope":"local"}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"commandsList","parsing":"plain"}},{"name":"value","value":{"type":"variable","variable":"commandsList","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.depends","parsing":"plain"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"mapi\u003d%var_local(moduleName)","scope":"game"}},{"name":"value","value":{"type":"variable","variable":"module","scope":"local"}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.load2"},{"type":"function","position":4.0,"operations":[{"action":"if_variable_text_matches","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"null","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"match","value":{"type":"game_value","game_value":"event_chat_message","selection":"null"}}],"operations":[{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"args","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]}],"is_inverted":"true"},{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"type":"variable","variable":"#args.length","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#args","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#filteredArgs","scope":"local"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"#options","scope":"local"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{"type":"variable","variable":"#index","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"args","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.prepareArg","parsing":"legacy"}}]}]},{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"type":"variable","variable":"#filteredArgs.size","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"#filteredArgs","scope":"local"}}]},{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#filteredArgs.size","scope":"local"},{"type":"variable","variable":"#optionals","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#needArgs","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#minArguments","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#options","scope":"local"}},{"name":"key","value":{"type":"text","text":"minArguments","parsing":"legacy"}},{"name":"default_value","value":{"type":"variable","variable":"#needArgs","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#maxArguments","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#options","scope":"local"}},{"name":"key","value":{"type":"text","text":"maxArguments","parsing":"legacy"}},{"name":"default_value","value":{"type":"variable","variable":"#filteredArgs.size","scope":"local"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"#hasString","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#maxArguments","scope":"local"}},{"name":"value","value":{"type":"number","number":999.0}}]}]},{"action":"if_variable_in_range","values":[{"name":"value","value":{"type":"variable","variable":"command.args.size","scope":"local"}},{"name":"min","value":{"type":"variable","variable":"#minArguments","scope":"local"}},{"name":"max","value":{"type":"variable","variable":"#maxArguments","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandException","parsing":"legacy"}}]}],"is_inverted":"true"},{"action":"if_variable_greater_or_equals","values":[{"name":"value","value":{"type":"variable","variable":"#filteredArgs.size","scope":"local"}},{"name":"compare","value":{"type":"number","number":1.0}}],"operations":[{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#filteredArgs.size","scope":"local"},{"type":"variable","variable":"#optionals","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#optionalscan","scope":"local"}}]},{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"command.args.size","scope":"local"},{"type":"variable","variable":"#optionalscan","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#optionalscan","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandArgs","parsing":"legacy"}}]}]},{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"#","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"LOCAL"}},{"name":"match","value":{"type":"enum","enum":"NAME_CONTAINS"}}]}],"is_inverted":"true"}],"values":[{"name":"is_hidden","value":{"type":"enum","enum":"FALSE"}},{"name":"description","value":{"type":"array","values":[{"type":"text","text":"Проверяет аргументы из \u0026aargs","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"icon","value":{"type":"item","item":"{Count:1b,id:\"minecraft:ender_chest\",tag:{Enchantments:[{id:\"minecraft:aqua_affinity\",lvl:0s}],HideFlags:-1,display:{Lore:[\u0027{\"italic\":false,\"color\":\"white\",\"extra\":[{\"color\":\"green\",\"text\":\"args\"}],\"text\":\"Проверяет аргументы из \"}\u0027,\u0027{\"text\":\"\"}\u0027,\u0027{\"italic\":false,\"color\":\"#7A8085\",\"text\":\"Нажмите Правой кнопкой, чтобы\"}\u0027,\u0027{\"italic\":false,\"color\":\"#7A8085\",\"text\":\"телепортироваться к функции\"}\u0027],Name:\u0027{\"italic\":false,\"color\":\"yellow\",\"text\":\"Mapi.commandConstructor\"}\u0027}}}"}}],"name":"Mapi.commandConstructor"},{"type":"function","position":5.0,"operations":[{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{"type":"variable","variable":"#data.index","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"#filteredArgs","scope":"local"}}],"operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"#skip","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"LOCAL"}}]},{"action":"if_variable_greater","values":[{"name":"value","value":{"type":"variable","variable":"command.args.size","scope":"local"}},{"name":"compare","value":{"type":"variable","variable":"#argIndex","scope":"local"}}],"operations":[{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"optional","parsing":"legacy"}}],"operations":[{"action":"if_variable_greater_or_equals","values":[{"name":"value","value":{"type":"variable","variable":"#optionalscan","scope":"local"}},{"name":"compare","value":{"type":"number","number":1.0}}],"operations":[{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#optionalscan","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#optionalscan","scope":"local"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#skip","scope":"local"}},{"name":"value","value":{"type":"number","number":1.0}}]}]}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"#skip","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#type","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"type","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"#type","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"Mapi.stringArgumentsTypes","scope":"game"}}],"operations":[{"action":"set_variable_trim_list","values":[{"name":"variable","value":{"type":"variable","variable":"#defineBorder","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"start","value":{"type":"variable","variable":"#argIndex","scope":"local"}},{"name":"end","value":{"type":"variable","variable":"command.args.size","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#argumentDefiner","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"Mapi.argumentsTypes","scope":"game"}},{"name":"key","value":{"type":"variable","variable":"#type","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"variable","variable":"#argumentDefiner","scope":"local"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"#border","scope":"local"}}],"operations":[{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"type":"variable","variable":"#borderNum","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"#border","scope":"local"}}]},{"action":"if_variable_greater_or_equals","values":[{"name":"value","value":{"type":"variable","variable":"#borderNum","scope":"local"}},{"name":"compare","value":{"type":"number","number":1.0}}],"operations":[{"action":"set_variable_join_text","values":[{"name":"variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"#border","scope":"local"}},{"name":"separator","value":{"type":"text","text":"%space%","parsing":"legacy"}},{"name":"prefix","value":{}},{"name":"postfix","value":{}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]},{"action":"set_variable_set_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"number","value":{"type":"variable","variable":"#argIndex","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}}]},{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#borderNum","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#repeats","scope":"local"}}]},{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"type":"number","number":1.0},{"type":"variable","variable":"#argIndex","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#del","scope":"local"}}]},{"action":"repeat_multi_times","values":[{"name":"variable","value":{}},{"name":"amount","value":{"type":"variable","variable":"#repeats","scope":"local"}}],"operations":[{"action":"set_variable_remove_list_value_at_index","values":[{"name":"variable","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"index","value":{"type":"variable","variable":"#del","scope":"local"}}]}]},{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"#defineBorder","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"LOCAL"}}]}]}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"number","value":{"type":"variable","variable":"#argIndex","scope":"local"}}]}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.typeArg","parsing":"legacy"}}]}],"is_inverted":"true"}]},{"action":"else","values":[],"operations":[{"action":"control_return_function","values":[]}]}]}],"values":[{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.commandArgs"},{"type":"function","position":6.0,"operations":[{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"#vArg","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"replace","value":{"type":"text","text":"\u0026","parsing":"legacy"}},{"name":"replacement","value":{"type":"text","text":"\u0026\u0026#abc4d6","parsing":"legacy"}}]},{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"#vArg","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"#vArg","scope":"local"}},{"name":"replace","value":{"type":"text","text":"\\n","parsing":"legacy"}},{"name":"replacement","value":{"type":"text","text":"\\\u0026#abc4d6n","parsing":"legacy"}}]},{"action":"set_variable_text","values":[{"name":"text","value":{"type":"array","values":[{"type":"text","text":"\u0026#abc4d6","parsing":"legacy"},{"type":"variable","variable":"#vArg","scope":"local"},{"type":"text","text":"\u0026#ff6e6e","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}},{"name":"variable","value":{"type":"variable","variable":"#vArg","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#typeExecutor","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"Mapi.argumentsTypes","scope":"game"}},{"name":"key","value":{"type":"variable","variable":"#type","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#name","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"name","parsing":"legacy"}},{"name":"default_value","value":{"type":"text","text":"arg%var_local(#data.index)","parsing":"legacy"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"#typeExecutor","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"variable","variable":"#typeExecutor","scope":"local"}}]}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionArgument","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"#exceptionArgument","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.conditionArg","parsing":"legacy"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"%var_local(#name)","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}}]},{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#argIndex","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#argIndex","scope":"local"}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.typeArg"},{"type":"function","position":7.0,"operations":[{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"String","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#type","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#border","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"#defineBorder","scope":"local"}}]}]},{"action":"else","values":[],"operations":[{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"Int","parsing":"legacy"},{"type":"text","text":"Number","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#type","scope":"local"}}],"operations":[{"action":"controller_exception","values":[{"name":"exception_type","value":{"type":"enum","enum":"ERROR"}},{"name":"variable","value":{"type":"variable","variable":"#exception","scope":"local"}}],"operations":[{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#arg","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#argNum","scope":"local"}}]}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"#exception","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionArgument","scope":"local"}},{"name":"value","value":{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eНеверное число %var_local(#vArg)","parsing":"legacy"}}]}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"#argNum","scope":"local"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"Int","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#type","scope":"local"}}],"operations":[{"action":"set_variable_round","values":[{"name":"round_type","value":{"type":"enum","enum":"FLOOR"}},{"name":"variable","value":{"type":"variable","variable":"#argRounded","scope":"local"}},{"name":"number","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"precision","value":{}}]},{"action":"if_variable_not_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"variable","variable":"#arg","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#argRounded","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionArgument","scope":"local"}},{"name":"value","value":{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eНеверное целое число %var_local(#vArg)","parsing":"legacy"}}]}]}]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"Player","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#type","scope":"local"}}],"operations":[{"action":"if_game_has_player","values":[{"name":"names_or_uuids","value":{"type":"array","values":[{"type":"variable","variable":"#arg","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}],"operations":[{"action":"select_player_by_name","values":[{"name":"name_or_uuid","value":{"type":"variable","variable":"#arg","scope":"local"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"value","value":{"type":"game_value","game_value":"name","selection":"{\"type\":\"current\"}"}}]},{"action":"select_reset","values":[]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionArgument","scope":"local"}},{"name":"value","value":{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eИгрок %var_local(#vArg) не найден","parsing":"legacy"}}]}]}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.argumentsTypes"},{"type":"function","position":8.0,"operations":[{"action":"if_variable_is_type","values":[{"name":"value","value":{"type":"variable","variable":"#permission","scope":"local"}},{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}}],"operations":[{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"build_or_dev","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#permission","scope":"local"}}],"operations":[{"action":"if_player_has_privilege","values":[],"operations":[{"action":"if_player_has_privilege","values":[{"name":"privilege","value":{"type":"enum","enum":"DEVELOPER"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#hasNotPerm","scope":"local"}},{"name":"value","value":{"type":"number","number":1.0}}]}],"is_inverted":"true"}],"is_inverted":"true"}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"build","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#permission","scope":"local"}}],"operations":[{"action":"if_player_has_privilege","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#hasNotPerm","scope":"local"}},{"name":"value","value":{"type":"number","number":1.0}}]}],"is_inverted":"true"}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"dev","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#permission","scope":"local"}}],"operations":[{"action":"if_player_has_privilege","values":[{"name":"privilege","value":{"type":"enum","enum":"DEVELOPER"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#hasNotPerm","scope":"local"}},{"name":"value","value":{"type":"number","number":1.0}}]}],"is_inverted":"true"}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"build_and_dev","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#permission","scope":"local"}}],"operations":[{"action":"if_player_has_privilege","values":[{"name":"privilege","value":{"type":"enum","enum":"BUILDER_AND_DEVELOPER"}},{"name":"exact","value":{"type":"enum","enum":"FALSE"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#hasNotPerm","scope":"local"}},{"name":"value","value":{"type":"number","number":1.0}}]}],"is_inverted":"true"}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"whitelist","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#permission","scope":"local"}}],"operations":[{"action":"if_player_has_privilege","values":[{"name":"privilege","value":{"type":"enum","enum":"WHITELISTED"}},{"name":"exact","value":{"type":"enum","enum":"FALSE"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#hasNotPerm","scope":"local"}},{"name":"value","value":{"type":"number","number":1.0}}]}],"is_inverted":"true"}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"owner","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#permission","scope":"local"}}],"operations":[{"action":"if_player_has_privilege","values":[{"name":"privilege","value":{"type":"enum","enum":"OWNER"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#hasNotPerm","scope":"local"}},{"name":"value","value":{"type":"number","number":1.0}}]}],"is_inverted":"true"}]},{"action":"if_variable_not_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"build_or_dev","parsing":"legacy"},{"type":"text","text":"build","parsing":"legacy"},{"type":"text","text":"dev","parsing":"legacy"},{"type":"text","text":"build_and_dev","parsing":"legacy"},{"type":"text","text":"whitelist","parsing":"legacy"},{"type":"text","text":"owner","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#permission","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#hasNotPerm","scope":"local"}},{"name":"value","value":{"type":"number","number":"1"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"%player%.permissions","scope":"save"}}],"operations":[{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"#permission","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"%player%.permissions","scope":"save"}}],"operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"#hasNotPerm","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"LOCAL"}}]}]}]}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.hasPermission"},{"type":"function","position":9.0,"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"#options","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionMessage","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#options","scope":"local"}},{"name":"key","value":{"type":"text","text":"exception","parsing":"legacy"}},{"name":"default_value","value":{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eНеполная или неверная команда","parsing":"legacy"}}]},{"action":"if_variable_list_is_empty","values":[{"name":"list","value":{"type":"variable","variable":"#exceptionMessage","scope":"local"}}],"operations":[{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionMessage","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"#exceptionMessage","scope":"local"}},{"name":"replace","value":{"type":"text","text":"$scmd","parsing":"legacy"}},{"name":"replacement","value":{"type":"variable","variable":"/command","scope":"local"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"#exceptionMessage","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"is_inverted":"true"},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionSound","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#options","scope":"local"}},{"name":"key","value":{"type":"text","text":"sound","parsing":"legacy"}},{"name":"default_value","value":{"type":"sound","sound":"minecraft:dummy","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"#exceptionSound","scope":"local"}}],"operations":[{"action":"set_variable_text","values":[{"name":"text","value":{"type":"array","values":[{"type":"variable","variable":"#exceptionSound","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#exceptionSound","scope":"local"}}]}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionMessage","scope":"local"}},{"name":"value","value":{"type":"text","text":"%var(Префикс MAPI)\u0026#ff6e6eНеполная или неверная команда","parsing":"legacy"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#exceptionSound","scope":"local"}},{"name":"value","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}}]}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"variable","variable":"#exceptionSound","scope":"local"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"current\"}"}}]},{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"#","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"LOCAL"}},{"name":"match","value":{"type":"enum","enum":"NAME_CONTAINS"}}]},{"action":"control_end_thread","values":[]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.commandException"},{"type":"function","position":10.0,"operations":[{"action":"if_variable_is_type","values":[{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}}],"operations":[{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"keys","value":{}},{"name":"values","value":{}}]}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}}],"operations":[{"action":"if_variable_text_starts_with","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"{","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}}],"operations":[{"action":"set_variable_text","values":[{"name":"text","value":{"type":"array","values":[{"type":"text","text":"{","parsing":"legacy"},{"type":"variable","variable":"#arg","scope":"local"},{"type":"text","text":"}","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]}],"is_inverted":"true"},{"action":"set_variable_parse_json","values":[{"name":"variable","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"json","value":{"type":"variable","variable":"#arg","scope":"local"}}]}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}}],"operations":[{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"key","value":{"type":"text","text":"optional","parsing":"legacy"}}],"operations":[{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#optionals","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#optionals","scope":"local"}}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#type","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"key","value":{"type":"text","text":"type","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"Option","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"#type","scope":"local"}}],"operations":[{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#args.length","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#args.length","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#permission","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"key","value":{"type":"text","text":"permission","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"#permission","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.hasPermission","parsing":"legacy"}}]},{"action":"if_player_has_privilege","values":[{"name":"privilege","value":{"type":"enum","enum":"WHITELISTED"}}],"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"#hasNotPerm","scope":"local"}}],"operations":[{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"#commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"hide","parsing":"legacy"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eНеизвестная команда","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eНедостаточно прав","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}]}],"is_inverted":"true"}]},{"action":"set_variable_append_map","values":[{"name":"variable","value":{"type":"variable","variable":"#options","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#options","scope":"local"}},{"name":"other_map","value":{"type":"variable","variable":"#arg","scope":"local"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"#arg","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#filteredArgs","scope":"local"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"#hasString","scope":"local"}}],"operations":[{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"#type","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"Mapi.stringArgumentsTypes","scope":"game"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#hasString","scope":"local"}},{"name":"value","value":{"type":"number","number":1.0}}]}]}],"is_inverted":"true"}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.prepareArg"},{"type":"function","position":11.0,"operations":[{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"equals","parsing":"legacy"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#equals","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"equals","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"if_variable_text_matches","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"#equals","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"match","value":{"type":"variable","variable":"#arg","scope":"local"}}],"operations":[{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"#equals","scope":"local"}}],"operations":[{"action":"set_variable_join_text","values":[{"name":"variable","value":{"type":"variable","variable":"#equals","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"#equals","scope":"local"}},{"name":"separator","value":{"type":"text","text":"\u0026#ff6e6e, \u0026#abc4d6","parsing":"legacy"}},{"name":"prefix","value":{}},{"name":"postfix","value":{}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eНеизвестный аргумент %var_local(#vArg), используйте: \u0026#abc4d6%var_local(#equals)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}],"is_inverted":"true"}]},{"action":"if_variable_is_type","values":[{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}}],"operations":[{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"in_range","parsing":"legacy"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#range","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"in_range","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"#min","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"#range","scope":"local"}},{"name":"number","value":{"type":"number","number":"0"}}]},{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"#max","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"#range","scope":"local"}},{"name":"number","value":{"type":"number","number":"1"}}]},{"action":"if_variable_in_range","values":[{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"min","value":{"type":"variable","variable":"#min","scope":"local"}},{"name":"max","value":{"type":"variable","variable":"#max","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eАргумент %var_local(#vArg) не входит в диапазон от","parsing":"legacy"},{"type":"variable","variable":"#min","scope":"local"},{"type":"text","text":"\u0026#ff6e6eдо","parsing":"legacy"},{"type":"variable","variable":"#max","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}],"is_inverted":"true"}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"greater","parsing":"legacy"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#greater","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"greater","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"if_variable_less_or_equals","values":[{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"compare","value":{"type":"variable","variable":"#greater","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eАргумент %var_local(#vArg) должен быть больше \u0026#abc4d6","parsing":"legacy"},{"type":"variable","variable":"#greater","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}]}]}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"greater_or_equals","parsing":"legacy"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#greaterOrEquals","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#dataArg","scope":"local"}},{"name":"key","value":{"type":"text","text":"greater_or_equals","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"if_variable_less","values":[{"name":"value","value":{"type":"variable","variable":"#arg","scope":"local"}},{"name":"compare","value":{"type":"variable","variable":"#greaterOrEquals","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eАргумент %var_local(#vArg) должен быть больше или равен \u0026#abc4d6","parsing":"legacy"},{"type":"variable","variable":"#greaterOrEquals","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.conditionArg"},{"type":"function","position":12.0,"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"dependencies","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"dependencies","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"dependencies","scope":"local"}}],"operations":[{"action":"repeat_for_each_map_entry","values":[{"name":"key_variable","value":{"type":"variable","variable":"dependence","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"dependenceNeedRelease","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"dependencies","scope":"local"}}],"operations":[{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"mapi\u003d%var_local(dependence)","scope":"game"}}],"operations":[{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"dependenceNeedRelease","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"dependenceVersion","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi\u003d%var_local(dependence)","scope":"game"}},{"name":"key","value":{"type":"text","text":"version","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"if_variable_not_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"variable","variable":"dependenceNeedRelease","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"dependenceVersion","scope":"local"}}],"operations":[{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"key","value":{"type":"text","text":"expected","parsing":"legacy"}},{"name":"value","value":{"type":"variable","variable":"dependenceNeedRelease","scope":"local"}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"key","value":{"type":"text","text":"but_got","parsing":"legacy"}},{"name":"value","value":{"type":"variable","variable":"dependenceVersion","scope":"local"}}]}]}]},{"action":"if_variable_is_type","values":[{"name":"value","value":{"type":"variable","variable":"dependenceNeedRelease","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"dependenceRelease","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi\u003d%var_local(dependence)","scope":"game"}},{"name":"key","value":{"type":"text","text":"release","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"if_variable_less","values":[{"name":"value","value":{"type":"variable","variable":"dependenceRelease","scope":"local"}},{"name":"compare","value":{"type":"variable","variable":"dependenceNeedRelease","scope":"local"}}],"operations":[{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"key","value":{"type":"text","text":"expected","parsing":"legacy"}},{"name":"value","value":{"type":"variable","variable":"dependenceNeedRelease","scope":"local"}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"key","value":{"type":"text","text":"but_got","parsing":"legacy"}},{"name":"value","value":{"type":"variable","variable":"dependenceRelease","scope":"local"}}]}]}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"key","value":{"type":"text","text":"expected","parsing":"legacy"}},{"name":"value","value":{"type":"variable","variable":"dependenceNeedRelease","scope":"local"}}]}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"key","value":{"type":"text","text":"expected","parsing":"legacy"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.depends2","parsing":"legacy"}}]}]}]}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"exceptions","parsing":"legacy"}},{"name":"value","value":{"type":"variable","variable":"exceptions","scope":"local"}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.depends"},{"type":"function","position":13.0,"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"expected","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"key","value":{"type":"text","text":"expected","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"value","value":{"type":"variable","variable":"expected","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"URL","scope":"local"}},{"name":"value","value":{"type":"text","text":"https://mi.unidok.repl.co/modules/%var_local(dependence)?release\u003d%var_local(expected)\u0026safe\u003dtrue","parsing":"plain"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"exception.lore","scope":"local"}},{"name":"value","value":{"type":"text","text":"\u003c#ff6e6e\u003eНеобходим модуль \u003c#abc4d6\u003e%var_local(dependence) \u003c#ff6e6e\u003eс версией протокола \u003c#d877f2\u003e%var_local(expected)","parsing":"minimessage"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"URL","scope":"local"}},{"name":"value","value":{"type":"text","text":"https://mi.unidok.repl.co/modules/%var_local(dependence)?version\u003d%var_local(expected)\u0026safe\u003dtrue","parsing":"plain"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"exception.lore","scope":"local"}},{"name":"value","value":{"type":"text","text":"\u003c#ff6e6e\u003eНеобходим модуль \u003c#abc4d6\u003e%var_local(dependence) \u003c#ff6e6e\u003eверсии \u003c#d877f2\u003e%var_local(expected)","parsing":"minimessage"}}]}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.syncRequest","parsing":"legacy"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Зайдите в код \u0026#7a8085(\u0026#abc4d6/dev\u0026#7a8085)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"key","value":{"type":"text","text":"but_got","parsing":"legacy"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Уберите строки модуля \u0026#abc4d6%var_local(dependence)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}}]}]},{"action":"if_variable_list_is_empty","values":[{"name":"list","value":{"type":"variable","variable":"answer","scope":"local"}}],"operations":[{"action":"if_variable_is_type","values":[{"name":"value","value":{"type":"variable","variable":"expected","scope":"local"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Установите модуль \u0026#abc4d6%var_local(dependence)\u0026#ff6e6e с версией протокола \u0026#d877f2%var_local(expected)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Установите модуль \u0026#abc4d6%var_local(dependence)\u0026#ff6e6e версии \u0026#d877f2%var_local(expected)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}}]}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_parse_json","values":[{"name":"variable","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"json","value":{"type":"variable","variable":"answer","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"dependence.version","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"key","value":{"type":"text","text":"version","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"dependence.release","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"key","value":{"type":"text","text":"release","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"dependence.load","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"key","value":{"type":"text","text":"load","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"if_variable_text_starts_with","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"https:/","parsing":"legacy"},{"type":"text","text":"http:/","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"dependence.load","scope":"local"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Используйте \u0026#abc4d6/module loadUrl %var_local(dependence.load)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Используйте \u0026#abc4d6/module load %var_local(dependence.load)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}}]}]}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Перезагрузите мир \u0026#7a8085(\u0026#abc4d6/build\u0026#7a8085, \u0026#abc4d6/play\u0026#7a8085)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{"type":"variable","variable":"i","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"entry","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"exception.solution","scope":"local"}}],"operations":[{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"text","text":"\u0026#abc4d6%math(%var_local(i)+1). \u0026#ff6e6e","parsing":"legacy"},{"type":"variable","variable":"entry","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"entry","scope":"local"}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]},{"action":"set_variable_set_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"exception.solution","scope":"local"}},{"name":"number","value":{"type":"variable","variable":"i","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"entry","scope":"local"}}]}]},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"variable","variable":"exception.solution","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}},{"name":"variable","value":{"type":"variable","variable":"exception.solution","scope":"local"}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"exception.lore","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"exception.solution","scope":"local"}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.depends2"},{"type":"function","position":14.0,"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"%selected%.displayLaggBar","scope":"game"}}],"operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"%selected%.displayLaggBar","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)Шкала нагрузки \u0026#ff6e6eскрыта","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_remove_boss_bar","values":[{"name":"id","value":{"type":"text","text":"lagg","parsing":"legacy"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"%selected%.displayLaggBar","scope":"game"}},{"name":"value","value":{"type":"number","number":1.0}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)Шкала нагрузки \u0026#a6ff6eпоказана","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:ui.button.click","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.timingsCommand"},{"type":"function","position":15.0,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"name: subcommand, equals: [\"reload\", \"help\", \"debug\", cmdprefix, cmdexceptions]","parsing":"legacy"},{"type":"text","text":"optional: true","parsing":"legacy"},{"type":"text","text":"optional: true","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: build_or_dev, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd \u0026e\u003creload\u00267|\u0026ehelp\u00267|\u0026edebug\u00267|\u0026ecmdprefix\u00267|\u0026ecmdexceptions\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"help","parsing":"legacy"},{"type":"text","text":"cmdexceptions","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subcommand","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.mapi_2","parsing":"legacy"}}]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"reload","parsing":"legacy"},{"type":"text","text":"debug","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subcommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: whitelist, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd \u0026e\u003creload\u00267|\u0026edebug\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"reload","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subcommand","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.config","parsing":"legacy"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eЗагрузка завершена","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.player.levelup","pitch":1.5,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"current\"}"}}]}],"is_inverted":"true"}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"debug","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subcommand","scope":"local"}}],"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}}],"operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"mapiDebug","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"SAVE"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)Системные сообщения \u0026#ff6e6eотключены","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"mapiDebug","scope":"save"}},{"name":"value","value":{"type":"number","number":1.0}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)Системные сообщения \u0026#a6ff6eвключены","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:ui.button.click","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"cmdprefix","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subcommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"text","text":"name: prefix","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd cmdprefix \u0026e\u003cпрефикс\u003e\", permission: whitelist","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"@","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"prefix","scope":"local"}}],"operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"cmdprefix","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"SAVE"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"pcmd","scope":"game"}},{"name":"value","value":{"type":"text","text":"@","parsing":"legacy"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eПрефикс для команд сброшен","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"pcmd","scope":"game"}},{"name":"value","value":{"type":"variable","variable":"prefix","scope":"local"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"cmdprefix","scope":"save"}},{"name":"value","value":{"type":"variable","variable":"prefix","scope":"local"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eПрефикс для команд \u00267\u003d \u0026#abc4d6%var_local(prefix)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.experience_orb.pickup","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.mapiCommand"},{"type":"function","position":16.0,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"type: Int, name: page, optional: true","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd \u0026b\u003cстраница\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"modules","scope":"local"}}]},{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"type":"variable","variable":"size","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"Imported Modules","scope":"game"}}]},{"action":"set_variable_round","values":[{"name":"round_type","value":{"type":"enum","enum":"CEIL"}},{"name":"variable","value":{"type":"variable","variable":"maxPage","scope":"local"}},{"name":"number","value":{"type":"number","number":"%math(%var_local(size)/25)"}},{"name":"precision","value":{}}]},{"action":"set_variable_clamp","values":[{"name":"variable","value":{"type":"variable","variable":"page","scope":"local"}},{"name":"number","value":{"type":"variable","variable":"page","scope":"local"}},{"name":"min","value":{"type":"number","number":1.0}},{"name":"max","value":{"type":"variable","variable":"maxPage","scope":"local"}}]},{"action":"set_variable_multiply","values":[{"name":"value","value":{"type":"array","values":[{"type":"number","number":25.0},{"type":"number","number":"%math(%var_local(page)-1)"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"start","scope":"local"}}]},{"action":"set_variable_clamp","values":[{"name":"variable","value":{"type":"variable","variable":"end","scope":"local"}},{"name":"number","value":{"type":"number","number":"%math(25*%var_local(page))"}},{"name":"min","value":{"type":"variable","variable":"start","scope":"local"}},{"name":"max","value":{"type":"variable","variable":"size","scope":"local"}}]},{"action":"set_variable_trim_list","values":[{"name":"variable","value":{"type":"variable","variable":"list","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"Imported Modules","scope":"game"}},{"name":"start","value":{"type":"variable","variable":"start","scope":"local"}},{"name":"end","value":{"type":"variable","variable":"end","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"list","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi\u003d%var_local(module)","scope":"game"}},{"name":"key","value":{"type":"text","text":"description","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"description","scope":"local"}}],"operations":[{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"text","text":"Описание: \u0026#abc4d6","parsing":"legacy"},{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi\u003d%var_local(module)","scope":"game"}},{"name":"key","value":{"type":"text","text":"authors","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"authors","scope":"local"}}],"operations":[{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"number","number":"%math(%length_local(authors))"}}],"operations":[{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"author","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"number","value":{"type":"number","number":"0"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Автор: \u003c#ffb657\u003e%var_local(author)","parsing":"minimessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_remove_list_value_at_index","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"index","value":{"type":"number","number":"%math(%length_local(authors)-1)"}},{"name":"removed_value","value":{"type":"variable","variable":"last_author","scope":"local"}}]},{"action":"set_variable_join_text","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"separator","value":{"type":"text","text":"\u003cwhite\u003e, \u003c#ffb657\u003e","parsing":"legacy"}},{"name":"prefix","value":{"type":"text","text":"\u003c#ffb657\u003e","parsing":"legacy"}},{"name":"postfix","value":{"type":"text","text":"\u003cwhite\u003e и \u003c#ffb657\u003e%var_local(last_author)","parsing":"legacy"}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Авторы: %var_local(authors)","parsing":"minimessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}}]}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"version","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi\u003d%var_local(module)","scope":"game"}},{"name":"key","value":{"type":"text","text":"version","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"release","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi\u003d%var_local(module)","scope":"game"}},{"name":"key","value":{"type":"text","text":"release","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Версия: \u003c#d877f2\u003e%var_local(version)","parsing":"minimessage"},{"type":"text","text":"Версия протокола: \u003c#d877f2\u003e%var_local(release)","parsing":"minimessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"color","scope":"local"}},{"name":"value","value":{"type":"text","text":"#a6ff6e","parsing":"legacy"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi\u003d%var_local(module)","scope":"game"}},{"name":"key","value":{"type":"text","text":"exceptions","parsing":"legacy"}},{"name":"default_value","value":{"type":"text","text":"","parsing":"legacy"}}]},{"action":"if_variable_list_is_empty","values":[{"name":"list","value":{"type":"variable","variable":"exceptions","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"color","scope":"local"}},{"name":"value","value":{"type":"text","text":"#ff6e6e","parsing":"legacy"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u003c#ff6e6e\u003eНайдено \u003c#abc4d6\u003e%length_local(exceptions) \u003c#ff6e6e\u003eпроблем","parsing":"minimessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}}]}],"is_inverted":"true"},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"variable","variable":"module_info","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}},{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}}]},{"action":"set_variable_set_component_hover","values":[{"name":"variable","value":{"type":"variable","variable":"module_info","scope":"local"}},{"name":"component","value":{"type":"text","text":"\u0026%var_local(color)%var_local(module)","parsing":"legacy"}},{"name":"hover","value":{"type":"variable","variable":"module_info","scope":"local"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"module_info","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"modules","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.wait","parsing":"legacy"}}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"Модули (\u0026#d877f2%var_local(page)\u0026f/\u0026#d877f2%var_local(maxPage)\u0026f):","parsing":"legacy"},{"type":"variable","variable":"modules","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.modulesCommand"},{"type":"function","position":17.0,"operations":[{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"help","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subcommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"text","text":"name: category, equals: [general, commands, create_command]","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: build_or_dev, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd help \u0026e\u003cкатегория\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u0026#7a8085- \u0026#abc4d6Основное \u0026#7a8085-","parsing":"legacy"},{"type":"text","text":"\u0026fПомощь по командам: \u00267%var(pcmd)mapi help commands","parsing":"legacy"},{"type":"text","text":"\u0026fПомощь по созданию команды: \u00267%var(pcmd)mapi help create_command","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"general","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u0026#7a8085- \u0026#abc4d6Команды \u0026#7a8085-","parsing":"legacy"},{"type":"text","text":"\u00267%var(pcmd)mapi reload \u00268-\u0026f перезагрузка MAPI","parsing":"legacy"},{"type":"text","text":"\u00267%var(pcmd)mapi help \u00268-\u0026f помощь по MAPI","parsing":"legacy"},{"type":"text","text":"\u00267%var(pcmd)mapi debug \u00268-\u0026f вкл/выкл сообщения системы","parsing":"legacy"},{"type":"text","text":"\u00267%var(pcmd)mapi cmdprefix \u00268-\u0026f изменить префикс для команд","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{"type":"text","text":"\u00267%var(pcmd)lagg \u00268-\u0026f отчёт по нагрузке","parsing":"legacy"},{"type":"text","text":"\u00267%var(pcmd)about \u00268-\u0026f информация о модуле","parsing":"legacy"},{"type":"text","text":"\u00267%var(pcmd)modules \u00268-\u0026f список загруженных модулей","parsing":"legacy"},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commands","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u0026#7a8085- \u0026#abc4d6Создание команды \u0026#7a8085-","parsing":"legacy"},{"type":"text","text":"\u003c#abc4d6\u003e\u003cunderlined\u003e\u003cclick:open_url:\"https://discord.com/channels/828678938070745129/1069298697415970968/1069298697415970968\"\u003eJustMC \u003e 💬MAPI","parsing":"minimessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"create_command","scope":"local"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"%var_local(category)","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}}]},{"action":"control_end_thread","values":[]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"cmdexceptions","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subcommand","scope":"local"}}],"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiCommandExceptions","scope":"save"}}],"operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"mapiCommandExceptions","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"SAVE"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)Ошибки \u0026#ff6e6eвыключены","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"mapiCommandExceptions","scope":"save"}},{"name":"value","value":{"type":"number","number":1.0}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)Ошибки \u0026#a6ff6eвключены","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:ui.button.click","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.mapi_2"},{"type":"function","position":18.0,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"name: moduleName","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd \u0026e\u003cмодуль\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapi\u003d%var_local(moduleName)","scope":"game"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"mapi\u003d%var_local(moduleName)","scope":"game"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"version","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"version","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"release","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"release","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"authors","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"authors","scope":"local"}}],"operations":[{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"type":"variable","variable":"authors.size","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"authors.size","scope":"local"}}],"operations":[{"action":"set_variable_join_text","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"separator","value":{}},{"name":"prefix","value":{"type":"text","text":"\u00267│\u0026f Автор: \u0026#ffb657","parsing":"legacy"}},{"name":"postfix","value":{}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]}]},{"action":"if_variable_greater_or_equals","values":[{"name":"value","value":{"type":"variable","variable":"authors.size","scope":"local"}},{"name":"compare","value":{"type":"number","number":2.0}}],"operations":[{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"authors.size","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"authors.size","scope":"local"}}]},{"action":"set_variable_get_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"lastAuthor","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"number","value":{"type":"variable","variable":"authors.size","scope":"local"}}]},{"action":"set_variable_remove_list_value_at_index","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"index","value":{"type":"variable","variable":"authors.size","scope":"local"}},{"name":"removed_value","value":{}}]},{"action":"set_variable_join_text","values":[{"name":"variable","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"authors","scope":"local"}},{"name":"separator","value":{"type":"text","text":"\u0026f, \u0026#ffb657","parsing":"legacy"}},{"name":"prefix","value":{"type":"text","text":"\u0026f Авторы: \u0026#ffb657","parsing":"legacy"}},{"name":"postfix","value":{"type":"text","text":"\u0026f и \u0026#ffb657%var_local(lastAuthor)","parsing":"legacy"}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"description","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"exceptions","parsing":"legacy"}},{"name":"default_value","value":{"type":"text","text":"","parsing":"plain"}}]},{"action":"if_variable_list_is_empty","values":[{"name":"list","value":{"type":"variable","variable":"exceptions","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"status","scope":"local"}},{"name":"value","value":{"type":"text","text":"\u0026#ff6e6e","parsing":"legacy"}}]}],"is_inverted":"true"},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"status","scope":"local"}},{"name":"value","value":{"type":"text","text":"\u0026#a6ff6e","parsing":"legacy"}}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"\u00267┌──────── Информация о %var_local(status)%var_local(moduleName) \u00267────────","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"description","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"\u00267│\u0026f Описание:\u0026#abc4d6","parsing":"legacy"},{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SPACES"}}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"\u00267│\u0026f Версия: \u0026#d877f2%var_local(version)","parsing":"legacy"},{"type":"text","text":"\u00267│\u0026f Версия протокола: \u0026#d877f2%var_local(release)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"authors","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"authors","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.version_2","parsing":"legacy"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"\u00267└──────────────────────────────────","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eНеизвестный модуль \u0026#ffb657%var_local(moduleName)\u0026#ff6e6e, список всех модулей - \u0026#abc4d6%var(pcmd)modules","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.versionCommand"},{"type":"function","position":19.0,"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandsList","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"commandsList","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_list_is_empty","values":[{"name":"list","value":{"type":"variable","variable":"commandsList","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commands","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"key","value":{"type":"text","text":"commands","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commandsMessage","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"commandsList","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commands","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"if_player_has_privilege","values":[{"name":"privilege","value":{"type":"enum","enum":"WHITELISTED"}}],"operations":[{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"hide","parsing":"plain"}}],"operations":[{"action":"control_skip_iteration","values":[]}]}],"is_inverted":"true"},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"description","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"description","scope":"local"}}],"operations":[{"action":"set_variable_set_component_hex_color","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"color","value":{"type":"text","text":"#abc4d6","parsing":"plain"}}]},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"text","text":"Описание:","parsing":"plain"},{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"executor","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"executor","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Обработчик: \u0026#d877f2%var_local(executor)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"aliases","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"aliases","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"aliases","scope":"local"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"Псевдонимы:","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"alias","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"aliases","scope":"local"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u0026#7a8085-\u0026#abc4d6 %var_local(alias)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]}]}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"hide","parsing":"plain"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u0026#ff6e6eСкрытая","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]}]},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"variable","variable":"hover","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}},{"name":"variable","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"set_variable_set_component_hover","values":[{"name":"variable","value":{"type":"variable","variable":"component","scope":"local"}},{"name":"component","value":{"type":"text","text":"\u0026#d877f2%var_local(command)","parsing":"legacy"}},{"name":"hover","value":{"type":"variable","variable":"hover","scope":"local"}}]},{"action":"set_variable_set_component_click","values":[{"name":"click_action","value":{"type":"enum","enum":"SUGGEST_COMMAND"}},{"name":"variable","value":{"type":"variable","variable":"component","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"component","scope":"local"}},{"name":"value","value":{"type":"text","text":"%var(pcmd)help %var_local(command)","parsing":"plain"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"component","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commandsMessage","scope":"local"}}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"\u00267│\u0026f Команды \u0026#7a8085(\u0026#d877f2%length_local(commandsList)\u0026#7a8085):","parsing":"legacy"},{"type":"variable","variable":"commandsMessage","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"is_inverted":"true"},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.version_3","parsing":"plain"}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.version_2"},{"type":"function","position":20.0,"operations":[{"action":"if_variable_list_is_empty","values":[{"name":"list","value":{"type":"variable","variable":"exceptions","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"\u00267│\u0026#a6ff6e Проблем не обнаружено ✔","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"\u00267│\u0026#ff6e6e Проблемы \u0026#7a8085(\u0026#abc4d6%length_local(exceptions)\u0026#7a8085)\u0026#abc4d6:","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"repeat_for_each_map_entry","values":[{"name":"key_variable","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"solution","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"exceptions","scope":"local"}}],"operations":[{"action":"set_variable_set_component_hover","values":[{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"hover","value":{"type":"variable","variable":"solution","scope":"local"}}]},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"text","text":"\u00267│ \u0026#7a8085 - \u0026#ff6e6e","parsing":"legacy"},{"type":"variable","variable":"exception","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"exception","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.version_3"},{"type":"function","position":21.0,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"name: subCommand, equals: [add, remove, clear, list]","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, maxArguments: 2, permission: dev, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd \u0026b\u003cadd\u00267|\u0026bremove\u00267|\u0026bclear\u00267|\u0026blist\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"add","parsing":"legacy"},{"type":"text","text":"remove","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subCommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"text","text":"name: legacyCommand","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: dev, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd %var_local(subCommand) \u0026b\u003cкоманда\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"add","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subCommand","scope":"local"}}],"operations":[{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"legacyCommand","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"legacyCommand","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eКоманда \u0026#abc4d6%var_local(legacyCommand)\u0026#a6ff6e успешно добавлена в список","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.experience_orb.pickup","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}],"is_inverted":"true"},{"action":"else","values":[],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eТакая команда уже есть в списке","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_remove_list_value","values":[{"name":"variable","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}},{"name":"list","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}},{"name":"value","value":{"type":"variable","variable":"legacyCommand","scope":"local"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eКоманда \u0026#abc4d6%var_local(legacyCommand)\u0026#a6ff6e успешно удалена из списка","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.experience_orb.pickup","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: dev, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd %var_local(subCommand)\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"clear","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subCommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eСписок команд очищен","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.experience_orb.pickup","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_join_text","values":[{"name":"variable","value":{"type":"variable","variable":"legacyCommandsList","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"legacyCommandsList","scope":"save"}},{"name":"separator","value":{"type":"text","text":"\u0026f, \u0026#d877f2","parsing":"legacy"}},{"name":"prefix","value":{"type":"text","text":"Legacy-команды (\u0026#d877f2%length_save(legacyCommandsList)\u0026f): \u0026#d877f2","parsing":"legacy"}},{"name":"postfix","value":{}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"legacyCommandsList","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.legacycommandCommand"},{"type":"event","position":22.0,"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"pcmd","scope":"game"}}],"operations":[{"action":"if_variable_text_starts_with","values":[{"name":"value","value":{"type":"game_value","game_value":"event_chat_message","selection":"null"}},{"name":"compare","value":{"type":"array","values":[{"type":"variable","variable":"pcmd","scope":"game"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"ignore_case","value":{"type":"enum","enum":"FALSE"}}],"operations":[{"action":"game_cancel_event","values":[]},{"action":"set_variable_split_text","values":[{"name":"variable","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"text","value":{"type":"game_value","game_value":"event_chat_message","selection":"null"}},{"name":"delimiter","value":{}}]},{"action":"set_variable_remove_list_value_at_index","values":[{"name":"removed_value","value":{"type":"variable","variable":"/command","scope":"local"}},{"name":"variable","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"command.args","scope":"local"}},{"name":"index","value":{"type":"number","number":0.0}}]},{"action":"if_variable_text_matches","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"legacyCommandsList","scope":"save"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"match","value":{"type":"variable","variable":"/command","scope":"local"}},{"name":"ignore_case","value":{"type":"enum","enum":"TRUE"}}],"operations":[{"action":"set_variable_replace_text","values":[{"name":"first","value":{"type":"enum","enum":"FIRST"}},{"name":"ignore_case","value":{"type":"enum","enum":"FALSE"}},{"name":"variable","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"/command","scope":"local"}},{"name":"replace","value":{"type":"variable","variable":"pcmd","scope":"game"}},{"name":"replacement","value":{}}]},{"action":"set_variable_get_index_of_subtext","values":[{"name":"variable","value":{"type":"variable","variable":"#subtext","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"subtext","value":{"type":"text","text":":","parsing":"legacy"}},{"name":"start_index","value":{}}]},{"action":"if_variable_greater_or_equals","values":[{"name":"value","value":{"type":"variable","variable":"#subtext","scope":"local"}},{"name":"compare","value":{"type":"number","number":0.0}}],"operations":[{"action":"set_variable_trim_text","values":[{"name":"variable","value":{"type":"variable","variable":"#module","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"start","value":{"type":"number","number":"0"}},{"name":"end","value":{"type":"variable","variable":"#subtext","scope":"local"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"mapi\u003d%var_local(#module)","scope":"game"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#commands","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi\u003d%var_local(#module)","scope":"game"}},{"name":"key","value":{"type":"text","text":"commands","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"#subtext","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#subtext","scope":"local"}}]},{"action":"set_variable_text_length","values":[{"name":"variable","value":{"type":"variable","variable":"#command.length","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"command","scope":"local"}}]},{"action":"set_variable_trim_text","values":[{"name":"variable","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"start","value":{"type":"variable","variable":"#subtext","scope":"local"}},{"name":"end","value":{"type":"variable","variable":"#command.length","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#commandData","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#commands","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"default_value","value":{}}]}]}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"#commandData","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#commandData","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"Commands","scope":"game"}},{"name":"key","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"default_value","value":{}}]}],"is_inverted":"true"},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"#commandData","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#executor","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"executor","parsing":"legacy"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_list_length","values":[{"name":"variable","value":{"type":"variable","variable":"command.args.size","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"command.args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"variable","variable":"#executor","scope":"local"}}]}]},{"action":"else","values":[],"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiCommandExceptions","scope":"save"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eНеизвестная команда","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]},{"action":"else","values":[],"operations":[{"action":"game_uncancel_event","values":[]}]}]}],"is_inverted":"true"}]}]}],"event":"player_chat"},{"type":"event","position":23.0,"operations":[{"action":"if_variable_text_contains","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"?mapirequest\u003d","parsing":"plain"},{"type":"text","text":"\u0026mapirequest\u003d","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"game_value","game_value":"url","selection":"null"}}],"operations":[{"action":"set_variable_text_length","values":[{"name":"variable","value":{"type":"variable","variable":"length","scope":"local"}},{"name":"text","value":{"type":"game_value","game_value":"url","selection":"null"}}]},{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"length","scope":"local"},{"type":"number","number":36.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"start","scope":"local"}}]},{"action":"set_variable_trim_text","values":[{"name":"variable","value":{"type":"variable","variable":"mapiRequestData","scope":"local"}},{"name":"text","value":{"type":"game_value","game_value":"url","selection":"null"}},{"name":"start","value":{"type":"variable","variable":"start","scope":"local"}},{"name":"end","value":{"type":"variable","variable":"length","scope":"local"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"mapiRequestAnswer_%var_local(mapiRequestData)","scope":"game"}},{"name":"value","value":{"type":"game_value","game_value":"url_response","selection":"null"}}]}]}],"event":"world_web_response"},{"type":"function","position":24.0,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"number","number":0.0},{"type":"text","text":"name: token","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd %var_local(subCommand) \u0026b%var_local(moduleName) \u0026e\u003cтокен\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"mapi\u003d%var_local(moduleName)","scope":"game"}}],"operations":[{"action":"set_variable_remove_map_entry","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"removed_value","value":{}},{"name":"variable","value":{"type":"variable","variable":"data","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi\u003d%var_local(moduleName)","scope":"game"}},{"name":"key","value":{"type":"text","text":"commands","parsing":"plain"}}]},{"action":"set_variable_remove_map_entry","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"removed_value","value":{}},{"name":"variable","value":{"type":"variable","variable":"data","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"data","scope":"local"}},{"name":"key","value":{"type":"text","text":"commandsList","parsing":"plain"}}]},{"action":"set_variable_remove_map_entry","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"removed_value","value":{}},{"name":"variable","value":{"type":"variable","variable":"data","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"data","scope":"local"}},{"name":"key","value":{"type":"text","text":"exceptions","parsing":"plain"}}]},{"action":"set_variable_remove_map_entry","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"removed_value","value":{}},{"name":"variable","value":{"type":"variable","variable":"data","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"data","scope":"local"}},{"name":"key","value":{"type":"text","text":"description","parsing":"plain"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"token","parsing":"plain"},{"type":"text","text":"data","parsing":"plain"},{"type":"text","text":"module","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"keys","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"token","scope":"local"},{"type":"variable","variable":"data","scope":"local"},{"type":"variable","variable":"moduleName","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"values","scope":"local"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"REQUEST_BODY","scope":"local"}},{"name":"keys","value":{"type":"variable","variable":"keys","scope":"local"}},{"name":"values","value":{"type":"variable","variable":"values","scope":"local"}}]},{"action":"set_variable_to_json","values":[{"name":"variable","value":{"type":"variable","variable":"REQUEST_BODY","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"REQUEST_BODY","scope":"local"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"URL","scope":"local"}},{"name":"value","value":{"type":"text","text":"https://mi.unidok.repl.co/register","parsing":"plain"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"REQUEST_TYPE","scope":"local"}},{"name":"value","value":{"type":"text","text":"post","parsing":"plain"}}]},{"action":"player_send_action_bar","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)Отправка запроса...","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.syncRequest","parsing":"legacy"}}]},{"action":"set_variable_parse_json","values":[{"name":"variable","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"json","value":{"type":"variable","variable":"answer","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"key","value":{"type":"text","text":"module","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"version","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi\u003d%var_local(moduleName)","scope":"game"}},{"name":"key","value":{"type":"text","text":"version","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"key","value":{"type":"text","text":"exception","parsing":"plain"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"release","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi\u003d%var_local(moduleName)","scope":"game"}},{"name":"key","value":{"type":"text","text":"release","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"last_release","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"key","value":{"type":"text","text":"last_release","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"key","value":{"type":"text","text":"exception","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"token_not_exists","parsing":"plain"},{"type":"text","text":"wrong_token","parsing":"plain"},{"type":"text","text":"this_version_already_exists","parsing":"plain"},{"type":"text","text":"this_release_less_than_last_release","parsing":"plain"},{"type":"text","text":"wrong_module_format","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}}]},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"text","text":"\u003c#ff6e6e\u003eТокен модуля не найден, создайте его:","parsing":"minimessage"},{"type":"text","text":"\u003c#abc4d6\u003e 1. \u003cwhite\u003eИспользуйте \u003c#abc4d6\u003e\u003cunderlined\u003e\u003cclick:suggest_command:/join 14531\u003e\u003chover:show_text:\"\u003c#7a8085\u003eНажмите, чтобы вставить в чат.\"\u003e/join 14531\u003c/hover\u003e\u003c/click\u003e\u003cunderlined\u003e","parsing":"minimessage"},{"type":"text","text":"\u003c#abc4d6\u003e 2. \u003cwhite\u003eИспользуйте \u003c#abc4d6\u003e\u003cclick:suggest_command:\"@token %var_local(module)\"\u003e\u003chover:show_text:\"\u003c#7a8085\u003eНажмите, чтобы вставить в чат.\"\u003e@token %var_local(module)","parsing":"minimessage"},{"type":"text","text":"\u003c#abc4d6\u003e 3. \u003cwhite\u003eПопробуйте зарегистрировать снова","parsing":"minimessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}},{"name":"variable","value":{"type":"variable","variable":"token_not_exists","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"token_not_exists","scope":"local"},{"type":"text","text":"\u003c#ff6e6e\u003eНеверный токен","parsing":"minimessage"},{"type":"text","text":"\u003c#ff6e6e\u003eВерсия модуля \u003cgray\u003e\u003citalic\u003ev%var_local(version)\u003c/italic\u003e \u003c#ff6e6e\u003eуже загружена","parsing":"minimessage"},{"type":"text","text":"\u0026#ff6e6eУказанная версия протокола \u0026#7a8085(\u0026#abc4d6%var_local(release)\u0026#7a8085) \u0026#ff6e6eменьше, чем последняя загруженная \u0026#7a8085(\u0026#abc4d6%var_local(last_release)\u0026#7a8085)","parsing":"legacy"},{"type":"text","text":"\u0026#ff6e6eНеверный формат модуля","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"translations","scope":"local"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"keys","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"values","value":{"type":"variable","variable":"translations","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"Mapi.prefix","scope":"game"},{"type":"variable","variable":"exception","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"current\"}"}}]}]},{"action":"else","values":[],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eМодуль \u0026#abc4d6%var_local(module) \u00267\u0026ov%var_local(version)\u0026#a6ff6e успешно загружен в реестр","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.experience_orb.pickup","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"current\"}"}}]}]}]},{"action":"else","values":[],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eМодуль \u0026#abc4d6%var_local(moduleName)\u0026#ff6e6e не существует в этом мире","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"current\"}"}}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.mi_reg"},{"type":"function","position":25.0,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"name: subCommand, equals: [register, unregister]","parsing":"plain"},{"type":"text","text":"name: moduleName","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, maxArguments: 10","parsing":"plain"},{"type":"text","text":"type: Option, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd \u0026b\u003cregister\u00267|\u0026bunregister\u003e \u0026e\u003cмодуль\u003e \u0026a\u003cпараметры\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"register","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subCommand","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.mi_reg","parsing":"plain"}}]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"unregister","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subCommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"number","number":0.0},{"type":"text","text":"name: version","parsing":"plain"},{"type":"text","text":"name: token","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd %var_local(subCommand) \u0026b%var_local(moduleName) \u0026e\u003cверсия\u003e \u0026a\u003cтокен\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"token","parsing":"plain"},{"type":"text","text":"version","parsing":"plain"},{"type":"text","text":"module","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"keys","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"token","scope":"local"},{"type":"variable","variable":"version","scope":"local"},{"type":"variable","variable":"moduleName","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"values","scope":"local"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"REQUEST_BODY","scope":"local"}},{"name":"keys","value":{"type":"variable","variable":"keys","scope":"local"}},{"name":"values","value":{"type":"variable","variable":"values","scope":"local"}}]},{"action":"set_variable_to_json","values":[{"name":"variable","value":{"type":"variable","variable":"REQUEST_BODY","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"REQUEST_BODY","scope":"local"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"URL","scope":"local"}},{"name":"value","value":{"type":"text","text":"https://mi.unidok.repl.co/unregister","parsing":"plain"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"REQUEST_TYPE","scope":"local"}},{"name":"value","value":{"type":"text","text":"post","parsing":"plain"}}]},{"action":"player_send_action_bar","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)Отправка запроса...","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.syncRequest","parsing":"legacy"}}]},{"action":"set_variable_parse_json","values":[{"name":"variable","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"json","value":{"type":"variable","variable":"answer","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"unregistered","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"key","value":{"type":"text","text":"unregistered","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"true","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"unregistered","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#a6ff6eМодуль \u0026#abc4d6%var_local(moduleName) \u00267\u0026ov%var_local(version)\u0026#a6ff6e успешно удалён из реестра","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.experience_orb.pickup","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"current\"}"}}]},{"action":"control_end_thread","values":[]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"false","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"unregistered","scope":"local"}}],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eВерсия \u0026#abc4d6%var_local(version)\u0026#ff6e6e этого модуля не загружена в реестр","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"current\"}"}}]},{"action":"control_end_thread","values":[]}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"key","value":{"type":"text","text":"exception","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"text","text":"\u003c#ff6e6e\u003eТокен модуля не найден, создайте его:","parsing":"minimessage"},{"type":"text","text":"\u003c#abc4d6\u003e 1. \u003cwhite\u003eИспользуйте \u003c#abc4d6\u003e\u003cunderlined\u003e\u003cclick:suggest_command:/join 14531\u003e\u003chover:show_text:\"\u003c#7a8085\u003eНажмите, чтобы вставить в чат.\"\u003e/join 14531\u003c/hover\u003e\u003c/click\u003e\u003cunderlined\u003e","parsing":"minimessage"},{"type":"text","text":"\u003c#abc4d6\u003e 2. \u003cwhite\u003eИспользуйте \u003c#abc4d6\u003e\u003cclick:suggest_command:\"@token %var_local(module)\"\u003e\u003chover:show_text:\"\u003c#7a8085\u003eНажмите, чтобы вставить в чат.\"\u003e@token %var_local(module)","parsing":"minimessage"},{"type":"text","text":"\u003c#abc4d6\u003e 3. \u003cwhite\u003eПопробуйте зарегистрировать снова","parsing":"minimessage"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}},{"name":"variable","value":{"type":"variable","variable":"token_not_exists","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"token_does_not_exist","parsing":"plain"},{"type":"text","text":"wrong_token","parsing":"plain"},{"type":"text","text":"module_does_not_exists","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"token_not_exists","scope":"local"},{"type":"text","text":"\u003c#ff6e6e\u003eНеверный токен","parsing":"minimessage"},{"type":"text","text":"\u0026#ff6e6eМодуль \u0026#abc4d6%var_local(moduleName)\u0026#ff6e6e не найден в реестре","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"translations","scope":"local"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"keys","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"values","value":{"type":"variable","variable":"translations","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"exceptions","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"exception","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"Mapi.prefix","scope":"game"},{"type":"variable","variable":"exception","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"current\"}"}}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.miCommand"},{"type":"function","position":26.0,"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"CACHE","scope":"local"}}],"operations":[{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"#CACHE","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#CACHE","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"URL","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"answer","scope":"local"}}],"operations":[{"action":"control_return_function","values":[]}]}]}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"#requestId","scope":"local"}},{"name":"value","value":{"type":"text","text":"%random_uuid%","parsing":"legacy"}}]},{"action":"if_variable_text_contains","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"?","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"URL","scope":"local"}}],"operations":[{"action":"set_variable_text","values":[{"name":"text","value":{"type":"array","values":[{"type":"variable","variable":"URL","scope":"local"},{"type":"text","text":"\u0026mapirequest\u003d%var_local(#requestId)","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#URL","scope":"local"}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_text","values":[{"name":"text","value":{"type":"array","values":[{"type":"variable","variable":"URL","scope":"local"},{"type":"text","text":"?mapirequest\u003d%var_local(#requestId)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"#URL","scope":"local"}},{"name":"merging","value":{"type":"enum","enum":"CONCATENATION"}}]}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"REQUEST_MEDIA_TYPE","scope":"local"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"REQUEST_MEDIA_TYPE","scope":"local"}},{"name":"value","value":{"type":"text","text":"application_json","parsing":"legacy"}}]}],"is_inverted":"true"},{"action":"game_send_web_request","values":[{"name":"content_type","value":{"type":"enum","enum":"APPLICATION_JSON","variable":"REQUEST_MEDIA_TYPE","scope":"local"}},{"name":"url","value":{"type":"variable","variable":"#URL","scope":"local"}},{"name":"content_body","value":{"type":"variable","variable":"REQUEST_BODY","scope":"local"}},{"name":"request_type","value":{"type":"enum","enum":"GET","variable":"REQUEST_TYPE","scope":"local"}}]},{"action":"repeat_multi_times","values":[{"name":"variable","value":{}},{"name":"amount","value":{"type":"number","number":100.0}}],"operations":[{"action":"control_wait","values":[{"name":"duration","value":{"type":"number","number":1.0}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"mapiRequestAnswer_%var_local(#requestId)","scope":"game"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"answer","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"mapiRequestAnswer_%var_local(#requestId)","scope":"game"}}]},{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"mapiRequestAnswer_%var_local(#requestId)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"CACHE","scope":"local"}}],"operations":[{"action":"if_variable_is_type","values":[{"name":"value","value":{"type":"variable","variable":"#CACHE","scope":"local"}},{"name":"variable_type","value":{"type":"enum","enum":"MAP"}}],"operations":[{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"#CACHE","scope":"local"}},{"name":"keys","value":{}},{"name":"values","value":{}}]}],"is_inverted":"true"},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"#CACHE","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"#CACHE","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"URL","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"answer","scope":"local"}}]}]},{"action":"control_return_function","values":[]}]}]},{"action":"control_end_thread","values":[]}],"values":[{"name":"description","value":{"type":"array","values":[{"type":"text","text":"Синхронный веб-запрос","parsing":"legacy"},{"type":"text","text":"Тайм-аут: \u0026e5 секунд","parsing":"legacy"},{"type":"text","text":"\u0026cПри тайм-ауте или ошибке останавливает строку","parsing":"legacy"},{"type":"text","text":"\u0026cМожет не работать с некоторыми запросами","parsing":"legacy"},{"type":"text","text":"","parsing":"legacy"},{"type":"text","text":"\u00267Принимает:\u0026f","parsing":"legacy"},{"type":"text","text":"URL: \u0026bТекст","parsing":"legacy"},{"type":"text","text":"REQUEST_TYPE: \u0026bТекст \u0026f\u003d \u0026b\"GET\"","parsing":"legacy"},{"type":"text","text":"REQUEST_BODY: \u0026bТекст \u00267Если запрос не GET","parsing":"legacy"},{"type":"text","text":"REQUEST_MEDIA_TYPE: \u0026bТекст \u0026f\u003d \u0026b\"application_json\"","parsing":"legacy"},{"type":"text","text":"CACHE \u00267Если указано, то будет применяться кэш","parsing":"legacy"},{"type":"text","text":"","parsing":"legacy"},{"type":"text","text":"\u00267Возвращает:\u0026f","parsing":"legacy"},{"type":"text","text":"answer: \u0026bТекст","parsing":"legacy"}]}},{"name":"is_hidden","value":{"type":"enum","enum":"FALSE"}},{"name":"icon","value":{"type":"item","item":"{Count:1b,id:\"minecraft:player_head\",tag:{HideFlags:-1,SkullOwner:{Id:[I;-644903332,-1805633844,-1972145141,-1882509306],Properties:{textures:[{Value:\"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYjFkZDRmZTRhNDI5YWJkNjY1ZGZkYjNlMjEzMjFkNmVmYTZhNmI1ZTdiOTU2ZGI5YzVkNTljOWVmYWIyNSJ9fX0\u003d\"}]}},display:{Lore:[\u0027{\"italic\":false,\"color\":\"white\",\"text\":\"Синхронный веб-запрос\"}\u0027,\u0027{\"italic\":false,\"color\":\"white\",\"extra\":[{\"color\":\"yellow\",\"text\":\"5 секунд\"}],\"text\":\"Тайм-аут: \"}\u0027,\u0027{\"italic\":false,\"color\":\"red\",\"text\":\"При тайм-ауте или ошибке останавливает строку\"}\u0027,\u0027{\"italic\":false,\"color\":\"red\",\"text\":\"Может не работать с некоторыми запросами\"}\u0027,\u0027{\"italic\":false,\"color\":\"white\",\"text\":\"\"}\u0027,\u0027{\"italic\":false,\"color\":\"white\",\"extra\":[{\"color\":\"gray\",\"text\":\"Принимает:\"},{\"color\":\"white\",\"text\":\"\"}],\"text\":\"\"}\u0027,\u0027{\"italic\":false,\"color\":\"white\",\"extra\":[{\"color\":\"aqua\",\"text\":\"Текст\"}],\"text\":\"URL: \"}\u0027,\u0027{\"italic\":false,\"color\":\"white\",\"extra\":[{\"color\":\"aqua\",\"text\":\"Текст \"},{\"color\":\"white\",\"text\":\"\u003d \"},{\"color\":\"aqua\",\"text\":\"\\\\\"GET\\\\\"\"}],\"text\":\"REQUEST_TYPE: \"}\u0027,\u0027{\"italic\":false,\"color\":\"white\",\"extra\":[{\"color\":\"aqua\",\"text\":\"Текст \"},{\"color\":\"gray\",\"text\":\"Если запрос не GET\"}],\"text\":\"REQUEST_BODY: \"}\u0027,\u0027{\"italic\":false,\"color\":\"white\",\"extra\":[{\"color\":\"aqua\",\"text\":\"Текст \"},{\"color\":\"white\",\"text\":\"\u003d \"},{\"color\":\"aqua\",\"text\":\"\\\\\"application_json\\\\\"\"}],\"text\":\"REQUEST_MEDIA_TYPE: \"}\u0027,\u0027{\"italic\":false,\"color\":\"white\",\"extra\":[{\"color\":\"gray\",\"text\":\"Если указано, то будет применяться кэш\"}],\"text\":\"CACHE \"}\u0027,\u0027{\"italic\":false,\"color\":\"white\",\"text\":\"\"}\u0027,\u0027{\"italic\":false,\"color\":\"white\",\"extra\":[{\"color\":\"gray\",\"text\":\"Возвращает:\"},{\"color\":\"white\",\"text\":\"\"}],\"text\":\"\"}\u0027,\u0027{\"italic\":false,\"color\":\"white\",\"extra\":[{\"color\":\"aqua\",\"text\":\"Текст\"}],\"text\":\"answer: \"}\u0027,\u0027{\"text\":\"\"}\u0027,\u0027{\"italic\":false,\"color\":\"#7A8085\",\"text\":\"Нажмите Правой кнопкой, чтобы\"}\u0027,\u0027{\"italic\":false,\"color\":\"#7A8085\",\"text\":\"телепортироваться к функции\"}\u0027],Name:\u0027{\"italic\":false,\"color\":\"yellow\",\"text\":\"Mapi.syncRequest\"}\u0027}}}"}}],"name":"Mapi.syncRequest"},{"type":"function","position":27.0,"operations":[{"action":"if_variable_greater_or_equals","values":[{"name":"value","value":{"type":"game_value","game_value":"cpu_usage","selection":"null"}},{"name":"compare","value":{"type":"number","number":80.0}}],"operations":[{"action":"control_wait","values":[{"name":"duration","value":{"type":"number","number":2.0}}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{"type":"text","text":"Ждёт пока CPU выше или равно 80","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"FALSE"}},{"name":"icon","value":{"type":"item","item":"{Count:1b,id:\"minecraft:tnt_minecart\",tag:{HideFlags:-1,display:{Lore:[\u0027{\"italic\":false,\"color\":\"white\",\"text\":\"Ждёт пока CPU выше или равно 80\"}\u0027,\u0027{\"text\":\"\"}\u0027,\u0027{\"italic\":false,\"color\":\"#7A8085\",\"text\":\"Нажмите Правой кнопкой, чтобы\"}\u0027,\u0027{\"italic\":false,\"color\":\"#7A8085\",\"text\":\"телепортироваться к функции\"}\u0027],Name:\u0027{\"italic\":false,\"color\":\"yellow\",\"text\":\"Mapi.wait\"}\u0027}}}"}}],"name":"Mapi.wait"},{"type":"function","position":28.0,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"name: cmd","parsing":"plain"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, exception: \"%var(Mapi.prefix)Использование: \u00267$scmd \u0026b\u003cкоманда\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"set_variable_get_index_of_subtext","values":[{"name":"variable","value":{"type":"variable","variable":"index","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"cmd","scope":"local"}},{"name":"subtext","value":{"type":"text","text":":","parsing":"plain"}},{"name":"start_index","value":{}}]},{"action":"if_variable_greater","values":[{"name":"value","value":{"type":"variable","variable":"index","scope":"local"}},{"name":"compare","value":{"type":"number","number":0.0}}],"operations":[{"action":"set_variable_trim_text","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"cmd","scope":"local"}},{"name":"start","value":{"type":"number","number":0.0}},{"name":"end","value":{"type":"variable","variable":"index","scope":"local"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"mapi\u003d%var_local(module)","scope":"game"}}],"operations":[{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"index","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"index","scope":"local"}}]},{"action":"set_variable_text_length","values":[{"name":"variable","value":{"type":"variable","variable":"length","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"cmd","scope":"local"}}]},{"action":"set_variable_trim_text","values":[{"name":"variable","value":{"type":"variable","variable":"moduleCommand","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"cmd","scope":"local"}},{"name":"start","value":{"type":"variable","variable":"index","scope":"local"}},{"name":"end","value":{"type":"variable","variable":"length","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commands","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"mapi\u003d%var_local(module)","scope":"game"}},{"name":"key","value":{"type":"text","text":"commands","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commands","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"moduleCommand","scope":"local"}},{"name":"default_value","value":{}}]}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"Commands","scope":"game"}},{"name":"key","value":{"type":"variable","variable":"cmd","scope":"local"}},{"name":"default_value","value":{}}]}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"MAP"}},{"name":"value","value":{"type":"variable","variable":"commandData","scope":"local"}}],"operations":[{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"command","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"command","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"executor","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"executor","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"module","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"module","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"aliases","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"aliases","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"commandData","scope":"local"}},{"name":"key","value":{"type":"text","text":"description","parsing":"plain"}},{"name":"default_value","value":{}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u00267┌──────── Информация о \u0026#a6ff6e%var_local(command) \u00267────────","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"message","scope":"local"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"TEXT"}},{"name":"value","value":{"type":"variable","variable":"description","scope":"local"}}],"operations":[{"action":"set_variable_set_component_hex_color","values":[{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"component","value":{"type":"variable","variable":"description","scope":"local"}},{"name":"color","value":{"type":"text","text":"#abc4d6","parsing":"plain"}}]},{"action":"set_variable_append_component","values":[{"name":"components","value":{"type":"array","values":[{"type":"text","text":"\u00267│\u0026f Описание:","parsing":"legacy"},{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"description","scope":"local"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"description","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"message","scope":"local"}}]}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u00267│\u0026f Обработчик: \u0026#d877f2%var_local(executor)","parsing":"legacy"},{"type":"text","text":"\u00267│\u0026f Загружена из модуля \u0026#abc4d6%var_local(module)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"message","scope":"local"}}]},{"action":"if_variable_is_type","values":[{"name":"variable_type","value":{"type":"enum","enum":"ARRAY"}},{"name":"value","value":{"type":"variable","variable":"aliases","scope":"local"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u00267│\u0026f Псевдонимы \u0026#7a8085(\u0026#d877f2%length_local(aliases)\u0026#7a8085):","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"message","scope":"local"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"alias","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"aliases","scope":"local"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"\u00267│ \u0026#7a8085 - \u0026#d877f2%var_local(alias)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"message","scope":"local"}}]}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"message","scope":"local"},{"type":"text","text":"\u00267└──────────────────────────────────","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging","value":{"type":"enum","enum":"SEPARATE_LINES"}}]}]},{"action":"else","values":[],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(Mapi.prefix)\u0026#ff6e6eКоманды \u0026#abc4d6%var_local(cmd)\u0026#ff6e6e не существует","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Mapi.helpCommand"},{"type":"event","position":29.0,"operations":[{"action":"if_variable_text_starts_with","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"https://","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"game_value","game_value":"event_chat_message","selection":"null"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"URL","scope":"local"}},{"name":"value","value":{"type":"game_value","game_value":"event_chat_message","selection":"null"}}]},{"action":"controller_measure_time","values":[{"name":"duration","value":{"type":"enum","enum":"MILLISECONDS"}},{"name":"variable","value":{"type":"variable","variable":"ms","scope":"local"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.syncRequest","parsing":"legacy"}}]}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"answer","scope":"local"},{"type":"variable","variable":"ms","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]}],"event":"player_chat"},{"type":"event","position":30.0,"operations":[{"action":"repeat_multi_times","values":[{"name":"variable","value":{"type":"variable","variable":"n","scope":"local"}},{"name":"amount","value":{"type":"number","number":3.0}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"command: example, executor: \"a\"","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commands","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"worldedit","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"1","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":4.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"2","scope":"local"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"dependencies","scope":"local"}},{"name":"keys","value":{"type":"variable","variable":"1","scope":"local"}},{"name":"values","value":{"type":"variable","variable":"2","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"release","parsing":"legacy"},{"type":"text","text":"version","parsing":"legacy"},{"type":"text","text":"authors","parsing":"legacy"},{"type":"text","text":"commands","parsing":"legacy"},{"type":"text","text":"load","parsing":"legacy"},{"type":"text","text":"dependencies","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"keys","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":"%math(round(%random%*100))"},{"type":"text","text":"1.02.2","parsing":"legacy"},{"type":"text","text":"unidok","parsing":"legacy"},{"type":"variable","variable":"commands","scope":"local"},{"type":"text","text":"asdlsa,dals","parsing":"legacy"},{"type":"variable","variable":"dependencies","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"values","scope":"local"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"mapi\u003dexample%var_local(n)","scope":"game"}},{"name":"keys","value":{"type":"variable","variable":"keys","scope":"local"}},{"name":"values","value":{"type":"variable","variable":"values","scope":"local"}}]}]}],"event":"world_start"}]}