{"handlers":[{"type":"event","position":0.0,"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"lbSize","scope":"game"}},{"name":"value","value":{"type":"number","number":30.0}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"lbNull","scope":"game"}},{"name":"value","value":{"type":"text","text":"\u0026#7a8085- \u0026#abc4d6Нет значения \u0026#7a8085-","parsing":"legacy"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"lbpref","scope":"game"}},{"name":"value","value":{"type":"text","text":"\u0026#fff159L\u0026#ffec59e\u0026#ffe659a\u0026#ffe158d\u0026#ffdc58e\u0026#ffd658r\u0026#ffd158b\u0026#ffcb58o\u0026#ffc658a\u0026#ffc157r\u0026#ffbb57d\u0026#ffb657s \u00268» \u0026f","parsing":"legacy"}}]},{"action":"empty","values":[]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"command: leaderboard, executor: \"Lb.command\", aliases: [lb]","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"commands","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"release","parsing":"legacy"},{"type":"text","text":"version","parsing":"legacy"},{"type":"text","text":"commands","parsing":"legacy"},{"type":"text","text":"authors","parsing":"legacy"},{"type":"text","text":"description","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"keys","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"text","text":"1.0","parsing":"legacy"},{"type":"variable","variable":"commands","scope":"local"},{"type":"text","text":"unidok","parsing":"legacy"},{"type":"text","text":"Создание топов и их отображение","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"values","scope":"local"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"mapi\u003dleaderboards","scope":"game"}},{"name":"keys","value":{"type":"variable","variable":"keys","scope":"local"}},{"name":"values","value":{"type":"variable","variable":"values","scope":"local"}}]},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"playersList","scope":"save"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"playersList","scope":"save"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"leaderboards","scope":"save"}}]}],"is_inverted":"true"},{"action":"control_wait","values":[{"name":"duration","value":{"type":"number","number":1.0}}]},{"action":"select_player_by_conditional","values":[{"name":"privilege","value":{"type":"enum","enum":"DEVELOPER"}}],"conditional":{"action":"if_player_has_privilege","is_inverted":"false"}},{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"pcmd","scope":"game"}}],"operations":[{"action":"player_send_message","selection":{"type":"current"},"values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(lbpref)\u0026#a6ff6eМанипуляции над топами - \u0026#abc4d6%var(pcmd)lb","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(lbpref)\u0026#ff6e6eУстановите \u0026#ffb657MAPI\u0026#ff6e6e версии \u0026#abc4d60.6.6","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"repeat_forever","values":[],"operations":[{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"lbId","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"leaderboards","scope":"save"}}],"operations":[{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Lb.display","parsing":"legacy"}}]}]},{"action":"control_wait","values":[{"name":"duration","value":{"type":"number","number":20.0}}]}]}],"event":"world_start"},{"type":"event","position":1.0,"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"playersList","scope":"save"}}],"operations":[{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"game_value","game_value":"name","selection":"{\"type\":\"default\"}"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"playersList","scope":"save"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"game_value","game_value":"name","selection":"{\"type\":\"default\"}"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"playersList","scope":"save"}}]}],"is_inverted":"true"}]}],"event":"player_join"},{"type":"function","position":2.0,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"name: subCommand, equals: [create, remove, clear, list, header, format, location, variable]","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, maxArguments: 999, permission: dev, exception: \"%var(lbpref)Использование: \u00267$scmd \u0026b\u003ccreate\u00267|\u0026bremove\u00267|\u0026bheader\u00267|\u0026bformat\u00267|\u0026bclear\u00267|\u0026blist\u00267|\u0026blocation\u00267|\u0026bvariable\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"create","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subCommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"text","text":"name: lbId","parsing":"legacy"},{"type":"text","text":"type: String, name: header","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: dev, exception: \"%var(lbpref)Использование: \u00267$scmd \u00267%var_local(subCommand) \u0026b\u003cID\u003e \u0026e\u003cзаголовок\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"lb_%var_local(lbId)","scope":"save"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"lbFormat_%var_local(lbId)","scope":"save"}},{"name":"value","value":{"type":"text","text":"\u00267$place. \u0026f$player \u00268- \u0026a$score","parsing":"legacy"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"lbHeader_%var_local(lbId)","scope":"save"}},{"name":"value","value":{"type":"variable","variable":"header","scope":"local"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"lbId","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"leaderboards","scope":"save"}}]},{"action":"set_variable_align_location","values":[{"name":"rotation_mode","value":{"type":"enum","enum":"REMOVE"}},{"name":"align_mode","value":{"type":"enum","enum":"BLOCK_CENTER"}},{"name":"variable","value":{"type":"variable","variable":"lbLocation_%var_local(lbId)","scope":"save"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(lbpref)\u0026#a6ff6eТоп \u0026#abc4d6%var_local(lbId) \u0026#a6ff6eуспешно создан","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"list","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subCommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: dev, exception: \"%var(lbpref)Использование: \u00267$scmd %var_local(subCommand)\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"set_variable_join_text","values":[{"name":"variable","value":{"type":"variable","variable":"leaderboards","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"leaderboards","scope":"save"}},{"name":"separator","value":{"type":"text","text":"\u0026f, \u0026#a6ff6e","parsing":"legacy"}},{"name":"prefix","value":{"type":"text","text":"%var(lbpref)\u0026#a6ff6e","parsing":"legacy"}},{"name":"postfix","value":{"type":"text","text":"\u0026f (\u0026#a6ff6e%length_save(leaderboards)\u0026f)","parsing":"legacy"}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"variable","variable":"leaderboards","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"control_end_thread","values":[]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"remove","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subCommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"text","text":"name: lbId","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: dev, exception: \"%var(lbpref)Использование: \u00267$scmd %var_local(subCommand) \u0026b\u003cтоп\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"lbId","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"leaderboards","scope":"save"}}],"operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"lb_%var_local(lbId)","parsing":"legacy"},{"type":"text","text":"lbHeader_%var_local(lbId)","parsing":"legacy"},{"type":"text","text":"lbFormat_%var_local(lbId)","parsing":"legacy"},{"type":"text","text":"lbLocation_%var_local(lbId)","parsing":"legacy"},{"type":"text","text":"lbVariable_%var_local(lbId)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"scope","value":{"type":"enum","enum":"SAVE"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(lbpref)\u0026#a6ff6eТоп удалён","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"else","values":[],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(lbpref)\u0026#ff6e6eТакого топа не существует","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"control_end_thread","values":[]}]}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Lb.command2","parsing":"legacy"}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.experience_orb.pickup","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Lb.command"},{"type":"function","position":3.0,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"text","text":"name: lbId","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, maxArguments: 999, permission: dev, exception: \"%var(lbpref)Использование: \u00267$scmd %var_local(subCommand) \u0026b\u003cтоп\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"if_variable_list_contains_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"lbId","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"list","value":{"type":"variable","variable":"leaderboards","scope":"save"}}],"operations":[{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"location","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subCommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"number","number":0.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: dev, exception: \"%var(lbpref)Использование: \u00267$scmd %var_local(subCommand) \u0026b%var_local(lbId)\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"player_display_hologram","selection":{"type":"all_players"},"values":[{"name":"location","value":{"type":"variable","variable":"lbLocation_%var_local(lbId)","scope":"save"}},{"name":"text","value":{}}]},{"action":"set_variable_align_location","values":[{"name":"rotation_mode","value":{"type":"enum","enum":"REMOVE"}},{"name":"variable","value":{"type":"variable","variable":"lbLocation_%var_local(lbId)","scope":"save"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(lbpref)\u0026#a6ff6eНовое местоположение топа установлено","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"header","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subCommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"number","number":0.0},{"type":"text","text":"type: String, name: header","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: dev, exception: \"%var(lbpref)Использование: \u00267$scmd %var_local(subCommand) \u0026b%var_local(lbId) \u0026e\u003cзаголовок\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"lbHeader_%var_local(lbId)","scope":"save"}},{"name":"value","value":{"type":"variable","variable":"header","scope":"local"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(lbpref)\u0026#a6ff6eЗаголовок топа обновлен","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"format","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subCommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"number","number":0.0},{"type":"text","text":"type: String, name: format","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: dev, exception: \"%var(lbpref)Использование: \u00267$scmd %var_local(subCommand) \u0026b%var_local(lbId) \u0026e\u003cформат\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"lbFormat_%var_local(lbId)","scope":"save"}},{"name":"value","value":{"type":"variable","variable":"format","scope":"local"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(lbpref)\u0026#a6ff6eФормат топа обновлен","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"clear","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subCommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"number","number":0.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: dev, exception: \"%var(lbpref)Использование: \u00267$scmd %var_local(subCommand) \u0026b%var_local(lbId)\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"lb_%var_local(lbId)","scope":"save"}},{"name":"keys","value":{}},{"name":"values","value":{}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(lbpref)\u0026#a6ff6eЗначения топа очищены","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"if_variable_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"text","text":"variable","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"variable","variable":"subCommand","scope":"local"}}],"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":0.0},{"type":"number","number":0.0},{"type":"text","text":"type: String, name: variable","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"type":"text","text":"type: Option, permission: dev, exception: \"%var(lbpref)Использование: \u00267$scmd %var_local(subCommand) \u0026b%var_local(lbId) \u0026e\u003cимя переменной\u003e\"","parsing":"legacy"}]}},{"name":"variable","value":{"type":"variable","variable":"args","scope":"local"}}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Mapi.commandConstructor","parsing":"legacy"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"lbVariable_%var_local(lbId)","scope":"save"}},{"name":"value","value":{"type":"variable","variable":"variable","scope":"local"}}]},{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"variable","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"variable","scope":"local"}},{"name":"replace","value":{"type":"text","text":"$player","parsing":"legacy"}},{"name":"replacement","value":{"type":"text","text":"%\u0026#abc4d6player%","parsing":"legacy"}}]},{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(lbpref)\u0026#a6ff6eПеременная для значения установлена \u0026#abc4d6%var_local(variable)","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:entity.experience_orb.pickup","pitch":1.0,"volume":1.0,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]},{"action":"else","values":[],"operations":[{"action":"player_send_message","values":[{"name":"messages","value":{"type":"array","values":[{"type":"text","text":"%var(lbpref)\u0026#ff6e6eТакого топа не существует","parsing":"legacy"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_play_sound","values":[{"name":"sound","value":{"type":"sound","sound":"minecraft:block.lava.extinguish","pitch":2.0,"volume":0.5,"variation":"","source":"MASTER"}},{"name":"location","value":{"type":"game_value","game_value":"location","selection":"{\"type\":\"default\"}"}}]}]},{"action":"control_end_thread","values":[]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Lb.command2"},{"type":"function","position":4.0,"operations":[{"action":"if_variable_exists","values":[{"name":"variable","value":{"type":"variable","variable":"lbVariable_%var_local(lbId)","scope":"save"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"lbVariable","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"lbVariable_%var_local(lbId)","scope":"save"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"lbAll","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"lb_%var_local(lbId)","scope":"save"}}]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"player","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"playersList","scope":"save"}}],"operations":[{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"var","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"lbVariable","scope":"local"}},{"name":"replace","value":{"type":"text","text":"$player","parsing":"legacy"}},{"name":"replacement","value":{"type":"variable","variable":"player","scope":"local"}},{"name":"first","value":{"type":"enum","enum":"ANY"}}]},{"action":"set_variable_set_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"lbAll","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"lbAll","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"player","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"%var_local(var)","scope":"save"}}]}]},{"action":"set_variable_sort_any_map","values":[{"name":"sort_order","value":{"type":"enum","enum":"DESCENDING"}},{"name":"sort_type","value":{"type":"enum","enum":"VALUES"}},{"name":"variable","value":{"type":"variable","variable":"lbAll","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"lbAll","scope":"local"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"lb_%var_local(lbId)","scope":"save"}},{"name":"value","value":{"type":"variable","variable":"lbAll","scope":"local"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"lbFormat","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"lbFormat_%var_local(lbId)","scope":"save"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"lbHeader_%var_local(lbId)","scope":"save"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"lbh","scope":"local"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"place","scope":"local"}},{"name":"value","value":{"type":"number","number":0.0}}]},{"action":"set_variable_get_map_size","values":[{"name":"variable","value":{"type":"variable","variable":"lbSize","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"lbAll","scope":"local"}}]},{"action":"set_variable_get_map_keys","values":[{"name":"variable","value":{"type":"variable","variable":"lbKeys","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"lbAll","scope":"local"}}]},{"action":"if_variable_greater","values":[{"name":"value","value":{"type":"variable","variable":"lbSize","scope":"local"}},{"name":"compare","value":{"type":"variable","variable":"lbSize","scope":"game"}}],"operations":[{"action":"set_variable_trim_list","values":[{"name":"variable","value":{"type":"variable","variable":"lbKeys","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"lbKeys","scope":"local"}},{"name":"start","value":{"type":"number","number":0.0}},{"name":"end","value":{"type":"variable","variable":"lbSize","scope":"game"}}]},{"action":"set_variable_get_map_values","values":[{"name":"variable","value":{"type":"variable","variable":"lbValues","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"lbAll","scope":"local"}}]},{"action":"set_variable_trim_list","values":[{"name":"variable","value":{"type":"variable","variable":"lbValues","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"lbValues","scope":"local"}},{"name":"start","value":{"type":"number","number":0.0}},{"name":"end","value":{"type":"variable","variable":"lbSize","scope":"game"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"lb","scope":"local"}},{"name":"keys","value":{"type":"variable","variable":"lbKeys","scope":"local"}},{"name":"values","value":{"type":"variable","variable":"lbValues","scope":"local"}}]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"lb","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"lbAll","scope":"local"}}]}]},{"action":"repeat_for_each_map_entry","values":[{"name":"key_variable","value":{"type":"variable","variable":"player","scope":"local"}},{"name":"value_variable","value":{"type":"variable","variable":"score","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"lb","scope":"local"}}],"operations":[{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"place","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"place","scope":"local"}}]},{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"lbText","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"lbFormat","scope":"local"}},{"name":"replace","value":{"type":"text","text":"$place","parsing":"legacy"}},{"name":"replacement","value":{"type":"variable","variable":"place","scope":"local"}}]},{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"lbText","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"lbText","scope":"local"}},{"name":"replace","value":{"type":"text","text":"$player","parsing":"legacy"}},{"name":"replacement","value":{"type":"variable","variable":"player","scope":"local"}}]},{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"lbText","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"lbText","scope":"local"}},{"name":"replace","value":{"type":"text","text":"$score","parsing":"legacy"}},{"name":"replacement","value":{"type":"variable","variable":"score","scope":"local"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"lbText","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"lbh","scope":"local"}}]}]},{"action":"if_variable_less","values":[{"name":"value","value":{"type":"variable","variable":"lbSize","scope":"local"}},{"name":"compare","value":{"type":"variable","variable":"lbSize","scope":"game"}}],"operations":[{"action":"set_variable_subtract","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"lbSize","scope":"game"},{"type":"variable","variable":"lbSize","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"iterations","scope":"local"}}]},{"action":"repeat_multi_times","values":[{"name":"variable","value":{}},{"name":"amount","value":{"type":"variable","variable":"iterations","scope":"local"}}],"operations":[{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"variable","variable":"lbNull","scope":"game"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"lbh","scope":"local"}}]}]}]}]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"Lb.display2","parsing":"legacy"}}]}],"values":[],"name":"Lb.display"},{"type":"function","position":5.0,"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"lbLocation","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"lbLocation_%var_local(lbId)","scope":"save"}}]},{"action":"select_all_players","values":[]},{"action":"repeat_for_each_in_list","values":[{"name":"index_variable","value":{}},{"name":"value_variable","value":{"type":"variable","variable":"name","scope":"local"}},{"name":"list","value":{"type":"game_value","game_value":"selection_target_names","selection":"null"}}],"operations":[{"action":"select_player_by_name","values":[{"name":"name_or_uuid","value":{"type":"variable","variable":"name","scope":"local"}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"lbhp","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"lbh","scope":"local"}}]},{"action":"set_variable_get_list_index_of_value","values":[{"name":"variable","value":{"type":"variable","variable":"place","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"lbKeys","scope":"local"}},{"name":"value","value":{"type":"variable","variable":"name","scope":"local"}}]},{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"place","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"place","scope":"local"}}]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"score","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"lbAll","scope":"local"}},{"name":"key","value":{"type":"variable","variable":"name","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"lbText","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"lbFormat","scope":"local"}},{"name":"replace","value":{"type":"text","text":"$place","parsing":"legacy"}},{"name":"replacement","value":{"type":"variable","variable":"place","scope":"local"}}]},{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"lbText","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"lbText","scope":"local"}},{"name":"replace","value":{"type":"text","text":"$player","parsing":"legacy"}},{"name":"replacement","value":{"type":"text","text":"\u0026nВы\u0026r","parsing":"legacy"}}]},{"action":"set_variable_replace_text","values":[{"name":"variable","value":{"type":"variable","variable":"lbText","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"lbText","scope":"local"}},{"name":"replace","value":{"type":"text","text":"$score","parsing":"legacy"}},{"name":"replacement","value":{"type":"variable","variable":"score","scope":"local"}}]},{"action":"set_variable_append_value","values":[{"name":"values","value":{"type":"array","values":[{"type":"text","text":"%empty%","parsing":"legacy"},{"type":"variable","variable":"lbText","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"lbhp","scope":"local"}}]},{"action":"set_variable_join_text","values":[{"name":"variable","value":{"type":"variable","variable":"lbhp","scope":"local"}},{"name":"list","value":{"type":"variable","variable":"lbhp","scope":"local"}},{"name":"separator","value":{"type":"text","text":"\\n","parsing":"legacy"}},{"name":"prefix","value":{}},{"name":"postfix","value":{}},{"name":"limit","value":{}},{"name":"truncated","value":{}}]},{"action":"player_display_hologram","selection":{"type":"current"},"values":[{"name":"location","value":{"type":"variable","variable":"lbLocation","scope":"local"}},{"name":"text","value":{"type":"variable","variable":"lbhp","scope":"local"}}]}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"Lb.display2"}]}