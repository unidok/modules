{"handlers":[{"type":"event","position":0.0,"operations":[{"action":"if_player_gamemode_equals","values":[],"operations":[{"action":"set_variable_get_block_material","values":[{"name":"value_type","value":{"type":"enum","enum":"ITEM"}},{"name":"variable","value":{"type":"variable","variable":"block","scope":"local"}},{"name":"location","value":{"type":"game_value","game_value":"event_block_location","selection":"null"}}]},{"action":"if_variable_map_has_key","values":[{"name":"map","value":{"type":"variable","variable":"blockDurabilities","scope":"game"}},{"name":"key","value":{"type":"variable","variable":"block","scope":"local"}}],"operations":[{"action":"game_cancel_event","values":[]},{"action":"set_variable_get_map_value","values":[{"name":"variable","value":{"type":"variable","variable":"durability","scope":"local"}},{"name":"map","value":{"type":"variable","variable":"blockDurabilities","scope":"game"}},{"name":"key","value":{"type":"variable","variable":"block","scope":"local"}},{"name":"default_value","value":{}}]},{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"%player%_isBreaking","scope":"game"}},{"name":"value","value":{"type":"number","number":1.0}}]},{"action":"repeat_while","values":[{"name":"variable","value":{"type":"variable","variable":"%player%_isBreaking","scope":"game"}}],"operations":[{"action":"player_give_potion_effect","selection":{"type":"default_player"},"values":[{"name":"potions","value":{"type":"array","values":[{"type":"potion","potion":"slow_digging","amplifier":-1,"duration":2},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"show_icon","value":{"type":"enum","enum":"FALSE"}},{"name":"overwrite","value":{"type":"enum","enum":"FALSE"}},{"name":"particle_mode","value":{"type":"enum","enum":"NONE"}}]},{"action":"if_variable_not_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"variable","variable":"side","scope":"local"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"game_value","game_value":"target_block_face","selection":"{\"type\":\"default\"}"}}],"operations":[{"action":"set_variable_value","values":[{"name":"variable","value":{"type":"variable","variable":"side","scope":"local"}},{"name":"value","value":{"type":"game_value","game_value":"target_block_face","selection":"{\"type\":\"default\"}"}}]},{"action":"set_variable_get_vector_from_block_face","values":[{"name":"variable","value":{"type":"variable","variable":"vector","scope":"local"}},{"name":"block_face","value":{"type":"variable","variable":"side","scope":"local"}}]},{"action":"set_variable_set_vector_length","values":[{"name":"variable","value":{"type":"variable","variable":"vector","scope":"local"}},{"name":"vector","value":{"type":"variable","variable":"vector","scope":"local"}},{"name":"length","value":{"type":"number","number":0.501}}]},{"action":"set_variable_shift_location_on_vector","values":[{"name":"variable","value":{"type":"variable","variable":"location","scope":"local"}},{"name":"location","value":{"type":"game_value","game_value":"event_block_location","selection":"null"}},{"name":"vector","value":{"type":"variable","variable":"vector","scope":"local"}}]},{"action":"select_entity_by_conditional","values":[{"name":"tag","value":{"type":"text","text":"breaking"}},{"name":"tag_value","value":{"type":"game_value","game_value":"name","selection":"{\"type\":\"default\"}"}}],"conditional":{"action":"if_entity_has_custom_tag","is_inverted":"false"}},{"action":"entity_remove","values":[]},{"action":"game_spawn_text_display","values":[{"name":"displayed_text","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"spawn_location","value":{"type":"variable","variable":"location","scope":"local"}}]},{"action":"select_last_entity","values":[]},{"action":"entity_set_rotation_by_vector","values":[{"name":"vector","value":{"type":"variable","variable":"vector","scope":"local"}}]},{"action":"entity_set_custom_tag","values":[{"name":"name","value":{"type":"text","text":"breaking"}},{"name":"value","value":{"type":"game_value","game_value":"name","selection":"{\"type\":\"default\"}"}}]},{"action":"entity_set_display_scale","values":[{"name":"scale_vector","value":{"type":"vector","x":1.5000,"y":1.00000,"z":1.5000}}]}]},{"action":"set_variable_add","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"progress","scope":"local"},{"type":"number","number":1.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"progress","scope":"local"}}]},{"action":"if_variable_greater_or_equals","values":[{"name":"value","value":{"type":"variable","variable":"progress","scope":"local"}},{"name":"compare","value":{"type":"variable","variable":"durability","scope":"local"}}],"operations":[{"action":"entity_remove","values":[]},{"action":"select_reset","values":[]},{"action":"call_function","values":[{"name":"function_name","value":{"type":"text","text":"BlockBreakEvent"}}]},{"action":"control_stop_repeat","values":[]}]},{"action":"else","values":[],"operations":[{"action":"set_variable_divide","values":[{"name":"value","value":{"type":"array","values":[{"type":"variable","variable":"progress","scope":"local"},{"type":"variable","variable":"durability","scope":"local"},{"type":"number","number":0.1},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"break","scope":"local"}}]},{"action":"set_variable_clamp","values":[{"name":"variable","value":{"type":"variable","variable":"break","scope":"local"}},{"name":"number","value":{"type":"variable","variable":"break","scope":"local"}},{"name":"min","value":{"type":"number","number":1.0}},{"name":"max","value":{"type":"number","number":10.0}}]},{"action":"player_send_break_animation","selection":{"type":"default_player"},"values":[{"name":"locations","value":{"type":"array","values":[{"type":"game_value","game_value":"event_block_location","selection":"null"},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"stage","value":{"type":"variable","variable":"break","scope":"local"}}]},{"action":"entity_set_text_display_text","values":[{"name":"displayed_text","value":{"type":"array","values":[{"type":"text","text":"\u0026#abc4d6%math(floor(%var_local(progress)/%var_local(durability)*100))%"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"merging_mode","value":{"type":"enum","enum":"CONCATENATION"}}]}]},{"action":"control_wait","values":[{"name":"duration","value":{"type":"number","number":1.0}}]},{"action":"if_variable_not_equals","values":[{"name":"compare","value":{"type":"array","values":[{"type":"game_value","game_value":"event_block_location","selection":"null"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"value","value":{"type":"game_value","game_value":"target_block_location","selection":"{\"type\":\"default\"}"}}],"operations":[{"action":"control_stop_repeat","values":[]}]}],"conditional":{"action":"if_variable_exists","is_inverted":"false"}}]}]},{"action":"entity_remove","values":[]},{"action":"player_send_break_animation","selection":{"type":"default_player"},"values":[{"name":"locations","value":{"type":"array","values":[{"type":"game_value","game_value":"event_block_location","selection":"null"},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"stage","value":{"type":"number","number":0.0}}]}],"event":"block_damage"},{"type":"event","position":1.0,"operations":[{"action":"set_variable_purge","values":[{"name":"names","value":{"type":"array","values":[{"type":"text","text":"%player%_isBreaking"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]},{"action":"player_send_break_animation","values":[{"name":"locations","value":{"type":"array","values":[{"type":"game_value","game_value":"event_block_location","selection":"null"},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"stage","value":{"type":"number","number":0.0}}]},{"action":"select_entity_by_conditional","values":[{"name":"tag","value":{"type":"text","text":"breaking"}},{"name":"tag_value","value":{"type":"game_value","game_value":"name","selection":"{\"type\":\"default\"}"}}],"conditional":{"action":"if_entity_has_custom_tag","is_inverted":"false"}},{"action":"entity_remove","values":[]}],"event":"block_damage_abort"},{"type":"event","position":2.0,"operations":[{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"item","item":"{Count:1b,id:\"minecraft:bedrock\"}"},{"type":"item","item":"{Count:1b,id:\"minecraft:reinforced_deepslate\"}"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"blocks","scope":"local"}}]},{"action":"set_variable_create_list","values":[{"name":"values","value":{"type":"array","values":[{"type":"number","number":40.0},{"type":"number","number":100.0},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"variable","value":{"type":"variable","variable":"durabilities","scope":"local"}}]},{"action":"set_variable_create_map","values":[{"name":"variable","value":{"type":"variable","variable":"blockDurabilities","scope":"game"}},{"name":"keys","value":{"type":"variable","variable":"blocks","scope":"local"}},{"name":"values","value":{"type":"variable","variable":"durabilities","scope":"local"}}]}],"event":"player_join"},{"type":"function","position":3.0,"operations":[{"action":"game_break_block","values":[{"name":"locations","value":{"type":"array","values":[{"type":"game_value","game_value":"event_block_location","selection":"null"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}}]}],"values":[{"name":"description","value":{"type":"array","values":[{},{},{},{},{},{},{},{},{},{},{},{},{},{}]}},{"name":"is_hidden","value":{"type":"enum","enum":"TRUE"}},{"name":"icon","value":{"type":"item","item":"{}"}}],"name":"blockBreak"}]}